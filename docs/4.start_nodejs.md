# Start NodeJS
    Windows
        --start without logging, all exceptions are caught in nodejs, and restarts automatically when files are changed AND from anywhere:
        //default http port 80 AND https port 443 if https is enabled
        pm2 start %HOMEPATH%\app_portfolio\server.js --cwd %HOMEPATH%\app_portfolio --name app_portfolio -o "/dev/null" -e "/dev/null" --watch --ignore-watch=".git .vscode .well-known docs logs node_modules service\batch service\geolocation service\logs service\worldcities .gitignore README.md"

        //microservices 
        //geolocation default http port 3001 OR https port 4001 if https is enabled
        pm2 start %HOMEPATH%\app_portfolio\service\geolocation\server.js --cwd %HOMEPATH%\app_portfolio --name geolocation --watch="service" --ignore-watch="service\batch service\geolocation\*.json service\logs service\mail service\pdf service\worldcities"
        
        //worldcities default http port 3002 OR https port 4002 if https is enabled
        pm2 start %HOMEPATH%\app_portfolio\service\worldcities\server.js --cwd %HOMEPATH%\app_portfolio --name worldcities --watch="service" --ignore-watch="service\batch service\geolocation service\logs service\mail service\pdf"

        //batch default http port 3003 OR https port 4003 if https is enabled
        //restart with delay so pipeline job has margin to finish before restart
        pm2 start %HOMEPATH%\app_portfolio\service\batch\server.js --cwd %HOMEPATH%\app_portfolio --name batch --watch="service" --ignore-watch="service\geolocation service\logs service\mail service\pdf service\worldcities" --watch-delay 10

    Ubuntu
        --start without logging, all exceptions are caught in nodejs, and restarts automatically when files are changed AND from anywhere:
        //default http port 80 AND https port 443 if https is enabled
        pm2 start $HOME/app_portfolio/server.js --cwd $HOME/app_portfolio --name app_portfolio -o "/dev/null" -e "/dev/null" --watch --ignore-watch=".git .vscode .well-known docs logs node_modules service/batch service/geolocation service/logs service/worldcities .gitignore README.md"

        //microservices
        //geolocation default http port 3001 OR https port 4001 if https is enabled
        pm2 start $HOME/app_portfolio/service/geolocation/server.js --cwd $HOME/app_portfolio --name geolocation --watch="service" --ignore-watch="service/batch service/geolocation/*.json service/logs service/mail service/pdf service/worldcities"

        //worldcities default http port 3002 OR https port 4002 if https is enabled
        pm2 start $HOME/app_portfolio/service/worldcities/server.js --cwd $HOME/app_portfolio --name worldcities --watch="service" --ignore-watch="service/batch service/geolocation service/logs service/mail service/pdf"

        //batch default http port 3003 OR https port 4003 if https is enabled
        //restart with delay so pipeline job has margin to finish before restart
        pm2 start $HOME/app_portfolio/service/batch/server.js --cwd $HOME/app_portfolio --name batch --watch="service" --ignore-watch="service/geolocation service/logs service/mail service/pdf service/worldcities" --watch-delay 10

        --For cluster mode, see https://pm2.keymetrics.io/docs/usage/cluster-mode/
# Note
    Services mail and PDF are using message queues at the moment
    If protocol is changed in main server then restart all servers. 
    Microservices start http only if no config exists or if https is not enabled
    Microservices start https only if enabled in main server with SSL configured.
    Main server starts http always and only https if https is enabled since this is the public server.
    Microservices are hidden backend servers and there is no need to start both http and https servers and 
    do not expose these microservice http and https ports in the firewall.