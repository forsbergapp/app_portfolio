<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: server/db/components/database.js</title>
    <base href='/info/jsdoc/'/>
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>

    <link media="all" href="/common/css/common.css" rel="stylesheet">
    <link media="all" href="/common/css/font/font1.css" rel="stylesheet">
    <link media="all" href="/common/css/font/font2.css" rel="stylesheet">
    <link media="all" href="/common/css/font/font3.css" rel="stylesheet">
    <link media="all" href="/common/css/font/font4.css" rel="stylesheet">
    <link media="all" href="/common/css/font/font5.css" rel="stylesheet">
    <link media="all" href="/common/css/font/font6.css" rel="stylesheet">
    <link media="all" href="/common/css/font/font7.css" rel="stylesheet">

    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">

</head>

<body>

<div id="main">

    <h1 class="page-title">Source: server/db/components/database.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/** @module server/db/components/database */

/**@type{import('../sql/database.service.js')} */
const service = await import(`file://${process.cwd()}/server/db/sql/database.service.js`);

/**@type{import('../../server.js')} */
const {serverUtilNumberValue} = await import(`file://${process.cwd()}/server/server.js`);
/**@type{import('../../config.js')} */
const {configGet} = await import(`file://${process.cwd()}/server/config.js`);

const DBA                       = 1;
const DB_DEMO_PATH              = '/server/install/db/demo/';
const DB_DEMO_FILE              = 'demo.json';

const DB_INSTALL_PATH           = '/server/install/db/';
const DB_INSTALL                = 'install_database.json';
const DB_UNINSTALL              = 'uninstall_database.json';

const DB_ADMIN_INSTALL_PATH     = '/apps/admin/scripts/';
const DB_ADMIN_INSTALL          = 'install_database.json';
const DB_ADMIN_UNINSTALL        = 'uninstall_database.json';

const DB_APP_PATH               = '/apps/app';
//each app should be installed in /apps[appid] and have these files:
const DB_APP_INSTALL_PATH       = '/scripts/';
const DB_APP_INSTALL            = 'install_database.json';
const DB_APP_UNINSTALL          = 'uninstall_database.json';
/**
 * 
 * @param {number} app_id
 */
const Info = (app_id) => service.Info(app_id, DBA);
/**
 * 
 * @param {number} app_id
 */
const InfoSpace = (app_id) =>service.InfoSpace(app_id, DBA);
/**
 * 
 * @param {number} app_id
 */
const InfoSpaceSum = (app_id) =>service.InfoSpaceSum(app_id, DBA);

/**
  * Install get files
  * @param {'install'|'uninstall'} install_type 
  * @returns {Promise.&lt;import('../../types.js').server_db_database_script_files>}
  */
const install_db_get_files = async (install_type) =>{
    const fs = await import('node:fs');
    let app_id = 1;
    /**@type{import('../../types.js').server_db_database_script_files} */
    const files = [
       //add main script with id 0 and without app_id
       [0, install_type=='install'?(DB_INSTALL_PATH + DB_INSTALL):(DB_INSTALL_PATH + DB_UNINSTALL), null],
       //add admin script with id 1 and without app_id
       [1, install_type=='install'?(DB_ADMIN_INSTALL_PATH + DB_ADMIN_INSTALL):(DB_ADMIN_INSTALL_PATH + DB_ADMIN_UNINSTALL), null]
    ];
    //Loop file directories /apps/app + id until not found anymore and return files found
    while (true){
       try {
          await fs.promises.access(`${process.cwd()}${DB_APP_PATH}${app_id}${install_type=='install'?(DB_APP_INSTALL_PATH + DB_APP_INSTALL):(DB_APP_INSTALL_PATH + DB_APP_UNINSTALL)}`);
          //add app script, first index not used for apps, save app id instead
          files.push([null, `${DB_APP_PATH}${app_id}${install_type=='install'?(DB_APP_INSTALL_PATH + DB_APP_INSTALL):(DB_APP_INSTALL_PATH + DB_APP_UNINSTALL)}`, app_id]);
          app_id += 1; 
       } catch (error) {
          return files;
       }
    }
 };
/**
 * Install db
 * @param {number}      app_id 
 * @param {*}           query
 * @returns {Promise.&lt;{info: {}[]}>}
 */
 const Install = async (app_id, query)=> {
    /**@type{import('../../../apps/common/src/common.js')} */
    const {commonRegistryAppSecretUpdate} = await import(`file://${process.cwd()}/apps/common/src/common.js`);
    /**@type{import('../../db/db.service.js')} */
    const {dbPoolClose, dbPoolStart} = await import(`file://${process.cwd()}/server/db/db.service.js`);
    /**@type{import('../../log.js')} */
    const {logServerI} = await import(`file://${process.cwd()}/server/log.js`);
    /**@type{import('../../socket.js')} */
    const {socketAdminSend} = await import(`file://${process.cwd()}/server/socket.js`);
    /**@type{import('../../db/common.service.js')} */
    const {dbCommonExecute} = await import(`file://${process.cwd()}/server/db/common.service.js`);

    /**@type{import('../../security.js')} */
	const {securityPasswordCreate, securitySecretCreate}= await import(`file://${process.cwd()}/server/security.js`);
    const fs = await import('node:fs');

    let count_statements = 0;
    /**@type{import('../../types.js').server_db_database_install_result} */
    const install_result = [];
    const password_tag = '&lt;APP_PASSWORD/>';
    let change_DBA_pool=true;
    const db_use = serverUtilNumberValue(configGet('SERVICE_DB', 'USE'));
    install_result.push({'start': new Date().toISOString()});
    /**
     * @param {string} username 
     * @param {string} sql 
     * @returns [string,string]
     */
    const sql_with_password = async (username, sql) =>{
       let password;
       
       if (db_use==4){
          // max 30 characters for passwords and without double quotes
          // also fix ORA-28219: password verification failed for mandatory profile
          // ! + random A-Z character
          password = securitySecretCreate(true, 30);
          //use singlequote for INSERT, else doublequote for CREATE USER
          if (sql.toUpperCase().includes('INSERT INTO'))
             sql = sql.replace(password_tag, `'${await securityPasswordCreate(password)}'`);
          else
             sql = sql.replace(password_tag, `"${password}"`);
       }   
       else{
            password = securitySecretCreate();
            if (sql.toUpperCase().includes('INSERT INTO'))
                sql = sql.replace(password_tag, `'${await securityPasswordCreate(password)}'`);
            else
                sql = sql.replace(password_tag, `'${password}'`);
       }
          
       sql = sql.replace('&lt;APP_USERNAME/>', username);
       install_result.push({[`${username}`]: password});         
       return [sql, password];
    };
    const files = await install_db_get_files('install');
    const DB_SCHEMA = configGet('SERVICE_DB', `DB${configGet('SERVICE_DB', 'USE')}_NAME`) ?? '';
    let install_count = 0;
    for (const file of files){
        socketAdminSend(app_id, {   client_id:serverUtilNumberValue(query.get('client_id')),
                                    client_id_current:null,
                                    broadcast_type:'PROGRESS',
                                    broadcast_message:btoa(JSON.stringify({part:install_count, total:files.length, text:file[1]}))});
        install_count++;
        const install_json = await fs.promises.readFile(`${process.cwd()}${file[1]}`, 'utf8');
        const install_obj = JSON.parse(install_json);
        //filter for current database or for all databases
        install_obj.install = install_obj.install.filter((/**@type{import('../../types.js').server_db_database_install_database_script|import('../../types.js').server_db_database_install_database_app_script}*/row) =>  
            row.db == db_use || row.db == null);
        
        for (const install_row of install_obj.install){
            let install_sql;
            switch (file[0]){
                case 0:{
                    //main script
                    install_sql = await fs.promises.readFile(`${process.cwd()}${DB_INSTALL_PATH + install_row.script}`, 'utf8');
                    break;
                }
                case 1:{
                    //admin script
                    install_sql = await fs.promises.readFile(`${process.cwd()}${DB_ADMIN_INSTALL_PATH + install_row.script}`, 'utf8');
                    break;
                }
                default:{
                    //app scripts
                    install_sql = await fs.promises.readFile(`${process.cwd()}${DB_APP_PATH + file[2]}${DB_APP_INSTALL_PATH + install_row.script}`, 'utf8');
                }
            }
            //remove comments
            //rows starting with '--' and ends width '\r\n' or '\n'
            const sql_split = process.platform == 'win32'?'\r\n':'\n';
            //remove rows starting with '--' and contains only '\r\n' or '\n'
            install_sql = install_sql.split(sql_split).filter(row=>!row.startsWith('--') &amp;&amp; (row != sql_split)).join(sql_split);
            //split script file into separate sql statements
            for (let sql of install_sql.split(';')){
                if (sql.startsWith(sql_split))
                    sql = sql.substring(sql_split.length);
                if (sql.length>0){
                    if (file[0] == 0 &amp;&amp; sql.includes(password_tag)){
                        const sql_and_pw = await sql_with_password('app_portfolio', sql);
                        sql = sql_and_pw[0];
                    }
                    sql = sql.replaceAll('&lt;APP_ID/>', file[2]?file[2].toString():'0');
                    sql = sql.replaceAll('&lt;DB_SCHEMA/>', DB_SCHEMA);
                        
                    //if ; must be in wrong place then set tag in import script and convert it
                    if (sql.includes('&lt;SEMICOLON/>'))
                        sql = sql.replace('&lt;SEMICOLON/>', ';');
                    //close and start pool when creating database, some modules dont like database name when creating database
                    //exclude db 4 and db 5
                    if (db_use != 4 &amp;&amp; db_use != 5)
                        if (sql.toUpperCase().includes('CREATE DATABASE')){
                            //remove database name in dba pool
                            await dbPoolClose(null, db_use, DBA);
                            /**@type{import('../../types.js').server_db_db_pool_parameters} */
                            const json_data = {
                                    use:                       db_use,
                                    pool_id:                   null,
                                    port:                      serverUtilNumberValue(configGet('SERVICE_DB', `DB${db_use}_PORT`)),
                                    host:                      configGet('SERVICE_DB', `DB${db_use}_HOST`),
                                    dba:                       DBA,
                                    user:                      configGet('SERVICE_DB', `DB${db_use}_DBA_USER`),
                                    password:                  configGet('SERVICE_DB', `DB${db_use}_DBA_PASS`),
                                    database:                  null,
                                    //db 1 + 2 parameters
                                    charset:                   configGet('SERVICE_DB', `DB${db_use}_CHARACTERSET`),
                                    connectionLimit:           serverUtilNumberValue(configGet('SERVICE_DB', `DB${db_use}_CONNECTION_LIMIT`)),
                                    // db 3 parameters
                                    connectionTimeoutMillis:   serverUtilNumberValue(configGet('SERVICE_DB', `DB${db_use}_TIMEOUT_CONNECTION`)),
                                    idleTimeoutMillis:         serverUtilNumberValue(configGet('SERVICE_DB', `DB${db_use}_TIMEOUT_IDLE`)),
                                    max:                       serverUtilNumberValue(configGet('SERVICE_DB', `DB${db_use}_MAX`)),
                                    // db 4 parameters not used here
                                    connectString:             null,
                                    poolMin:                   null,
                                    poolMax:                   null,
                                    poolIncrement:             null
                                };
                            await dbPoolStart(json_data);
                        }
                        else{
                            if (change_DBA_pool == true){
                            //add database name in dba pool
                            await dbPoolClose(null, db_use, DBA);
                            /**@type{import('../../types.js').server_db_db_pool_parameters} */
                            const json_data = {
                                use:                       db_use,
                                pool_id:                   null,
                                port:                      serverUtilNumberValue(configGet('SERVICE_DB', `DB${db_use}_PORT`)),
                                host:                      configGet('SERVICE_DB', `DB${db_use}_HOST`),
                                dba:                       DBA,
                                user:                      configGet('SERVICE_DB', `DB${db_use}_DBA_USER`),
                                password:                  configGet('SERVICE_DB', `DB${db_use}_DBA_PASS`),
                                database:                  configGet('SERVICE_DB', `DB${db_use}_NAME`),
                                //db 1 + 2 parameters
                                charset:                   configGet('SERVICE_DB', `DB${db_use}_CHARACTERSET`),
                                connectionLimit:           serverUtilNumberValue(configGet('SERVICE_DB', `DB${db_use}_CONNECTION_LIMIT`)),
                                // db 3 parameters
                                connectionTimeoutMillis:   serverUtilNumberValue(configGet('SERVICE_DB', `DB${db_use}_TIMEOUT_CONNECTION`)),
                                idleTimeoutMillis:         serverUtilNumberValue(configGet('SERVICE_DB', `DB${db_use}_TIMEOUT_IDLE`)),
                                max:                       serverUtilNumberValue(configGet('SERVICE_DB', `DB${db_use}_MAX`)),
                                // db 4 parameters not used here
                                connectString:             null,
                                poolMin:                   null,
                                poolMax:                   null,
                                poolIncrement:             null
                            };
                            await dbPoolStart(json_data);
                            //change to database value for the rest of the function
                            change_DBA_pool = false;
                            }
                        }
                    await dbCommonExecute(app_id, sql, {}, DBA);
                    count_statements += 1;
                }
            }
        }
        if (install_obj.users){
            let sql_and_pw = null;
            for (const users_row of install_obj.users.filter((/**@type{import('../../types.js').server_db_database_install_database_app_user_script}*/row) => row.db == db_use || row.db == null)){
                switch (file[0]){
                    case 1:{
                        const app_admin_username = 'app_portfolio_app_admin';
                        if (users_row.sql.includes(password_tag)){
                            sql_and_pw = await sql_with_password(app_admin_username, users_row.sql);
                            users_row.sql = sql_and_pw[0];
                            await commonRegistryAppSecretUpdate(serverUtilNumberValue(configGet('SERVER', 'APP_COMMON_APP_ID')), 
                                                            {   app_id:             serverUtilNumberValue(configGet('SERVER', 'APP_COMMON_APP_ID')),
                                                                parameter_name:     `SERVICE_DB_DB${db_use}_APP_USER`,
                                                                parameter_value:    app_admin_username});
                            await commonRegistryAppSecretUpdate(serverUtilNumberValue(configGet('SERVER', 'APP_COMMON_APP_ID')), 
                                                            {   app_id:             serverUtilNumberValue(configGet('SERVER', 'APP_COMMON_APP_ID')),
                                                                parameter_name:     `SERVICE_DB_DB${db_use}_APP_PASSWORD`,
                                                                parameter_value:    sql_and_pw[1]});
                        }
                        users_row.sql = users_row.sql.replace('&lt;APP_USERNAME/>', app_admin_username);
                        break;
                    }
                    default:{
                        const app_username = 'app_portfolio_app' + file[2];
                        if (users_row.sql.includes(password_tag)){
                            
                            sql_and_pw = await sql_with_password(app_username, users_row.sql);
                            users_row.sql = sql_and_pw[0];
                            await commonRegistryAppSecretUpdate(file[2], {  app_id:             file[2],
                                                                            parameter_name:     `SERVICE_DB_DB${db_use}_APP_USER`,
                                                                            parameter_value:    app_username});
                            await commonRegistryAppSecretUpdate(file[2], {  app_id:             file[2],
                                                                            parameter_name:     `SERVICE_DB_DB${db_use}_APP_PASSWORD`,
                                                                            parameter_value:    sql_and_pw[1]});
                        }
                        users_row.sql = users_row.sql.replaceAll('&lt;APP_ID/>', file[2]);
                        users_row.sql = users_row.sql.replace('&lt;APP_USERNAME/>', app_username);
                        break;
                    }
                }
                await dbCommonExecute(app_id, users_row.sql, {}, DBA);
                count_statements += 1;
            }
        }   
    }
    install_result.push({'SQL': count_statements});
    install_result.push({'finished': new Date().toISOString()});
    logServerI(`Database install result: ${install_result.reduce((result, current)=> result += `${Object.keys(current)[0]}:${Object.values(current)[0]} `, '')}`);
    return {info: install_result};
 };
 /**
  * Install db check
  * @param {number} app_id
  * @returns {Promise.&lt;import('../../types.js').server_db_database_install_db_check>}
  */
 const InstalledCheck = async (app_id)=>{
    return service.InstalledCheck(app_id, DBA)
    .catch(()=>{
       const not_installed = [{installed: 0}];
        return not_installed;
    });
 }; 
 /**
  * Uninstall database installation
  * @param {number} app_id
  * @param {*} query
  * @returns {Promise.&lt;import('../../types.js').server_db_database_install_uninstall_result>} 
  */
 const Uninstall = async (app_id, query)=> {
    /**@type{import('../../../apps/common/src/common.js')} */
    const {commonRegistryAppSecretDBReset} = await import(`file://${process.cwd()}/apps/common/src/common.js`);
    
    /**@type{import('../../db/file.service.js')} */
    const {fileFsWriteAdmin} = await import(`file://${process.cwd()}/server/db/file.service.js`);

    /**@type{import('../../db/db.service.js')} */
    const {dbPoolClose, dbPoolStart} = await import(`file://${process.cwd()}/server/db/db.service.js`);
    /**@type{import('../../log.js')} */
    const {logServerI} = await import(`file://${process.cwd()}/server/log.js`);
    /**@type{import('../../socket.js')} */
    const {socketAdminSend} = await import(`file://${process.cwd()}/server/socket.js`);
    /**@type{import('../../db/common.service.js')} */
    const {dbCommonExecute} = await import(`file://${process.cwd()}/server/db/common.service.js`);
    

    const fs = await import('node:fs');

    let count_statements = 0;
    let count_statements_fail = 0;
    
    
    const db_use = serverUtilNumberValue(configGet('SERVICE_DB', 'USE'));
    if (db_use==5){
        await dbPoolClose(null, db_use, 0);
        await fileFsWriteAdmin('DB_FILE', null);
        await DB_POOL(db_use, 0, null, null, null);
        count_statements++;
    }
    else{
        let install_count=0;
        const files = await install_db_get_files('uninstall');
        for (const file of  files){
            socketAdminSend(app_id, { client_id:serverUtilNumberValue(query.get('client_id')),client_id_current:null,broadcast_type:'PROGRESS',broadcast_message:btoa(JSON.stringify({part:install_count, total:files.length, text:file[1]}))});
            install_count++;
            const uninstall_sql_file = await fs.promises.readFile(`${process.cwd()}${file[1]}`, 'utf8');
            const uninstall_sql = JSON.parse(uninstall_sql_file).uninstall.filter((/**@type{import('../../types.js').server_db_database_uninstall_database_script|import('../../types.js').server_db_database_uninstall_database_app_script}*/row) => row.db == db_use);
            for (const sql_row of uninstall_sql){
                if (db_use==3 &amp;&amp; sql_row.sql.toUpperCase().includes('DROP DATABASE')){
                    //add database name in dba pool
                    await dbPoolClose(null, db_use, DBA);
                    /**@type{import('../../types.js').server_db_db_pool_parameters} */
                    const json_data = {
                        use:                       db_use,
                        pool_id:                   null,
                        port:                      serverUtilNumberValue(configGet('SERVICE_DB', `DB${db_use}_PORT`)),
                        host:                      configGet('SERVICE_DB', `DB${db_use}_HOST`),
                        dba:                       DBA,
                        user:                      configGet('SERVICE_DB', `DB${db_use}_DBA_USER`),
                        password:                  configGet('SERVICE_DB', `DB${db_use}_DBA_PASS`),
                        database:                  null,
                        //db 1 + 2 not used here
                        charset:                   null,
                        connectionLimit:           null,
                        //db 3
                        connectionTimeoutMillis:   serverUtilNumberValue(configGet('SERVICE_DB', `DB${db_use}_TIMEOUT_CONNECTION`)),
                        idleTimeoutMillis:         serverUtilNumberValue(configGet('SERVICE_DB', `DB${db_use}_TIMEOUT_IDLE`)),
                        max:                       serverUtilNumberValue(configGet('SERVICE_DB', `DB${db_use}_MAX`)),
                        //db 4 not used here
                        connectString:             null,
                        poolMin:                   null,
                        poolMax:                   null,
                        poolIncrement:             null
                    };
                    await dbPoolStart(json_data);
                }
                if (file[2]==null)
                    sql_row.sql = sql_row.sql.replace('&lt;APP_USERNAME/>', 'app_portfolio_app_admin');
                else
                    sql_row.sql = sql_row.sql.replace('&lt;APP_USERNAME/>', 'app_portfolio_app' + file[2]);
                sql_row.sql = sql_row.sql.replaceAll('&lt;APP_ID/>', file[2]?file[2]:'0');
                await dbCommonExecute(app_id, sql_row.sql, {}, DBA)
                .then(()=>{count_statements += 1;})
                .catch(()=>{count_statements_fail += 1;});
                
            }      
        }
        //remove db users and password
        commonRegistryAppSecretDBReset();
    }
    logServerI(`Database uninstall result db ${db_use}: count: ${count_statements}, count_fail: ${count_statements_fail}`);
    return {info:[  { count    : count_statements},
                    {count_fail: count_statements_fail}
                ]};
};
/**
 * Install demo users 
 * Creates user settings and imports images to base64 format
 * Creates random social records for social types LIKE, VIEW, VIEW_ANONYMOUS, FOLLOWER, POSTS_LIKE, POSTS_VIEW and POSTS_VIEW_ANONYMOUS
 * Random records are created using 2 lists of all users and creates records until two groups both have 50% samples with unique users in each sample of social type
 * Returns log about records created
 * @param {number} app_id
 * @param {*} query
 * @param {*} data
 * @returns {Promise.&lt;{info: {}[]}>}
 */
 const DemoInstall = async (app_id, query, data)=> {
    /**@type{import('../../socket.js')} */
    const {socketAdminSend} = await import(`file://${process.cwd()}/server/socket.js`);
    /**@type{import('../../log.js')} */
    const {logServerI} = await import(`file://${process.cwd()}/server/log.js`);
    /**@type{import('../sql/app.service.js')} */
    const {getAppsAdminId} = await import(`file://${process.cwd()}/server/db/sql/app.service.js`);
    /**@type{import('../sql/user_account.service.js')} */
    const {create} = await import(`file://${process.cwd()}/server/db/sql/user_account.service.js`);
    /**@type{import('../sql/user_account_app.service.js')} */
    const {createUserAccountApp} = await import(`file://${process.cwd()}/server/db/sql/user_account_app.service.js`);
    /**@type{import('../sql/user_account_like.service.js')} */
    const user_account_like = await import(`file://${process.cwd()}/server/db/sql/user_account_like.service.js`);
    /**@type{import('../sql/user_account_view.service.js')} */
    const {insertUserAccountView} = await import(`file://${process.cwd()}/server/db/sql/user_account_view.service.js`);
    /**@type{import('../sql/user_account_follow.service.js')} */
    const user_account_follow = await import(`file://${process.cwd()}/server/db/sql/user_account_follow.service.js`);
    /**@type{import('../sql/user_account_app_data_post.service.js')} */
    const {createUserPost, getUserPostsByUserId} = await import(`file://${process.cwd()}/server/db/sql/user_account_app_data_post.service.js`);
    /**@type{import('../sql/user_account_app_data_post_like.service.js')} */
    const user_account_app_data_post_like = await import(`file://${process.cwd()}/server/db/sql/user_account_app_data_post_like.service.js`);
    /**@type{import('../sql/user_account_app_data_post_view.service.js')} */
    const {insertUserPostView} = await import(`file://${process.cwd()}/server/db/sql/user_account_app_data_post_view.service.js`);
    /**@type{import('../sql/app_data_resource_master.service.js')} */
    const {post:MasterResourcePost} = await import(`file://${process.cwd()}/server/db/sql/app_data_resource_master.service.js`);
    /**@type{import('../sql/app_data_resource_detail.service.js')} */
    const {post:DetailResourcePost} = await import(`file://${process.cwd()}/server/db/sql/app_data_resource_detail.service.js`);
    /**@type{import('../sql/app_data_resource_detail_data.service.js')} */
    const {post:DetailDataResourcePost} = await import(`file://${process.cwd()}/server/db/sql/app_data_resource_detail_data.service.js`);
    /**@type{import('../../security.js')} */
    const {securityKeyPairCreate, securityUUIDCreate, securitySecretCreate} = await import(`file://${process.cwd()}/server/security.js`);
    /**@type{import('../../../apps/common/src/common.js')} */
    const {commonRegistryAppSecretUpdate} = await import(`file://${process.cwd()}/apps/common/src/common.js`);

    const fs = await import('node:fs');
    /**@type{import('../../types.js').server_db_database_install_result} */
    const install_result = [];
    install_result.push({'start': new Date().toISOString()});
    const fileBuffer = await fs.promises.readFile(`${process.cwd()}${DB_DEMO_PATH}${DB_DEMO_FILE}`, 'utf8');
    /**@type{[import('../../types.js').server_db_database_demo_user]}*/
    const demo_users = JSON.parse(fileBuffer.toString()).demo_users;
    //create social records
    const social_types = ['LIKE', 'VIEW', 'VIEW_ANONYMOUS', 'FOLLOWER', 'POSTS_LIKE', 'POSTS_VIEW', 'POSTS_VIEW_ANONYMOUS'];
    let email_index = 1000;
    let records_user_account = 0;
    let records_user_account_app = 0;
    let records_user_account_app_data_post = 0;
    let records_user_account_resource_master = 0;
    let records_user_account_resource_detail = 0;
    let records_user_account_resource_detail_data = 0;
    let install_count=0;
    const install_total_count = demo_users.length + social_types.length;
    install_count++;
    /**
     * Create demo users
     * @param {[import('../../types.js').server_db_database_demo_user]} demo_users 
     * @returns {Promise.&lt;void>}
     */
    const create_users = async (demo_users) =>{
            /**
             * 
             * @param {import('../../types.js').server_db_database_demo_user} demo_user
             * @returns 
             */
            const create_update_id = async demo_user=>{
            /**@type{import('../../types.js').server_db_sql_parameter_user_account_create}*/
                const data_create = {   username:               demo_user.username,
                                        bio:                    demo_user.bio,
                                        avatar:                 demo_user.avatar,
                                        password:               null,
                                        password_new:           data.demo_password,
                                        password_reminder:      null,
                                        email:                  `demo${++email_index}@localhost`,
                                        email_unverified:       null,
                                        active:                 1,
                                        private:                0,
                                        user_level:             2,
                                        verification_code:      null,
                                        identity_provider_id:   null,
                                        provider_id:            null,
                                        provider_first_name:    null,
                                        provider_last_name:     null,
                                        provider_image:         null,
                                        provider_image_url:     null,
                                        provider_email:         null,
                                        admin:                  1
                                    };
                return await create(app_id, data_create)
                                .catch((/**@type{import('../../types.js').server_server_error}*/err)=> {
                                    throw err;
                                });
            };
            for (const demo_user of demo_users){
                demo_user.id = await create_update_id(demo_user).then(user=>user.insertId);
                records_user_account++;
            }
    };
    /**
     * Create user account app
     * @param {number} app_id 
     * @param {number} user_account_id 
     * @returns {Promise.&lt;null>}
     */
    const create_user_account_app = async (app_id, user_account_id) =>{
        return new Promise((resolve, reject) => {
            createUserAccountApp(app_id, user_account_id)
            .then(result=>{
                if (result.affectedRows == 1)
                    records_user_account_app++;
                resolve(null);
            })
            .catch((/**@type{import('../../types.js').server_server_error}*/error)=>{
                reject(error);
            });
        });
    };
    /**
     * Create user post
     * @param {number} user_account_post_app_id 
     * @param {import('../../types.js').server_db_sql_parameter_user_account_app_data_post_createUserPost} data 
     * @returns {Promise.&lt;null>}
     */
    const create_user_post = async (user_account_post_app_id, data) => {
        return new Promise((resolve, reject) => {
            createUserPost(user_account_post_app_id, data)
            .then(result=>{
                if (result.affectedRows == 1)
                            records_user_account_app_data_post++;
                        resolve(null);
            })
            .catch((/**@type{import('../../types.js').server_server_error}*/error)=>{
                reject(error);
            });
        });
    };

    /**
     * 
     * @param {number} user_account_post_app_id 
     * @param {*} data 
     * @returns {Promise.&lt;number>}
     */
    const create_resource_master = async (user_account_post_app_id, data) => {
        return new Promise((resolve, reject) => {
            MasterResourcePost(user_account_post_app_id, data)
            .then(result=>{
                if (result.affectedRows == 1)
                    records_user_account_resource_master++;
                resolve(result.insertId);
            })
            .catch((/**@type{import('../../types.js').server_server_error}*/error)=>{
                reject(error);
            });
        });
    };
    /**
     * 
     * @param {number} user_account_post_app_id 
     * @param {*} data 
     * @returns {Promise.&lt;number>}
     */
    const create_resource_detail = async (user_account_post_app_id, data) => {
        return new Promise((resolve, reject) => {
            DetailResourcePost(user_account_post_app_id, data)
            .then(result=>{
                if (result.affectedRows == 1)
                    records_user_account_resource_detail++;
                resolve(result.insertId);
            })
            .catch((/**@type{import('../../types.js').server_server_error}*/error)=>{
                reject(error);
            });
        });
    };

    /**
     * 
     * @param {number} user_account_post_app_id 
     * @param {*} data 
     * @returns {Promise.&lt;number>}
     */
    const create_resource_detail_data = async (user_account_post_app_id, data) => {
        return new Promise((resolve, reject) => {
            DetailDataResourcePost(user_account_post_app_id, data)
            .then(result=>{
                if (result.affectedRows == 1)
                    records_user_account_resource_detail_data++;
                resolve(result.insertId);
            })
            .catch((/**@type{import('../../types.js').server_server_error}*/error)=>{
                reject(error);
            });
        });
    };

    //create all users first and update with id
    await create_users(demo_users);
    const apps = await getAppsAdminId(app_id);
    
    //generate key pairs for each user that can be saved both in resource and apps configuration
    //Use same for all demo users since key creation can be slow
    socketAdminSend(app_id, {   client_id:serverUtilNumberValue(query.get('client_id')),
                                client_id_current:null,
                                broadcast_type:'PROGRESS',
                                broadcast_message:btoa(JSON.stringify({part:install_count, total:install_total_count, text:'Generating key pair...'}))});
    const {publicKey, privateKey} = await securityKeyPairCreate();
    const demo_public_key = publicKey;
    const demo_private_key = privateKey;
    //create user posts
    for (const demo_user of demo_users){
        socketAdminSend(app_id, {   client_id:serverUtilNumberValue(query.get('client_id')),
                                    client_id_current:null,
                                    broadcast_type:'PROGRESS',
                                    broadcast_message:btoa(JSON.stringify({part:install_count, total:install_total_count, text:demo_user.username}))});
        install_count++;

        //generate vpa for each user that can be saved both in resource and apps configuration
        const demo_vpa = securityUUIDCreate();
        //create user_account_app record for all apps
        for (const app of apps){
            await create_user_account_app(app.id, demo_user.id);
        }
        for (const demo_user_account_app_data_post of demo_user.settings){
            let settings_header_image;
            //use file in settings or if missing then use filename same as demo username
            if (demo_user_account_app_data_post.image_header_image_img)
                settings_header_image = `${demo_user_account_app_data_post.image_header_image_img}.webp`;
            else
                settings_header_image = `${demo_user.username}.webp`;
            /**@type{Buffer} */
            const image = await fs.promises.readFile(`${process.cwd()}${DB_DEMO_PATH}${settings_header_image}`);
            /**@ts-ignore */
            const image_string = 'data:image/webp;base64,' + Buffer.from(image, 'binary').toString('base64');
            //update settings with loaded image into BASE64 format
            demo_user_account_app_data_post.image_header_image_img = image_string;
            //use random day and month themes
            //day 10001-10010
            demo_user_account_app_data_post.design_theme_day_id = Math.floor(10001 + Math.random() * 10);
            //month 20001-20022
            demo_user_account_app_data_post.design_theme_month_id = Math.floor(20001 + Math.random() * 22);
            demo_user_account_app_data_post.design_theme_year_id = 30001;
            const settings_no_app_id = JSON.parse(JSON.stringify(demo_user_account_app_data_post));
            delete settings_no_app_id.app_id;
            const json_data_user_account_app_data_post = {
                                            description: demo_user_account_app_data_post.description,
                                            json_data: settings_no_app_id,
                                            user_account_id: demo_user.id
                                        };	
            await create_user_post(demo_user_account_app_data_post.app_id, json_data_user_account_app_data_post);
        }
        /**
         * Updates resource values
         * @param {*} resource
         * @returns {Promise.&lt;*>} 
         */
        const demo_data_update = async resource => {
            /**
             * 
             * @param {[string, string]} key_name 
             * @returns {string}
             */
            const value_set = key_name =>{
                if (resource.app_update_secret &amp;&amp; resource.app_update_secret.filter((/**@type{*}*/secret_key)=>key_name[0].toUpperCase() in secret_key)[0])
                    switch (resource.app_update_secret.filter((/**@type{*}*/secret_key)=>key_name[0].toUpperCase() in secret_key)[0][key_name[0].toUpperCase()]){
                        case 'DATE_NOW':
                            return Date.now().toString();
                        case 'DATE_NOW_PADSTART_16':
                            return Date.now().toString().padStart(16,'0');
                        case 'DATE_ISO':
                            return new Date().toISOString();
                        case 'UUID':
                            return demo_vpa;
                        case 'SECRET':
                            return securitySecretCreate();
                        case 'PUBLIC_KEY':
                            return demo_public_key;
                        case 'PRIVATE_KEY':
                            return demo_private_key;
                        case 'USER_ACCOUNT_ID':
                            return demo_user.id.toString();
                        default:{
                            //if value is array then replace string in the array
                            return key_name[1].constructor===Array?JSON.parse(JSON.stringify(key_name[1]).replaceAll('&lt;HOST/>', configGet('SERVER','HOST') ?? '')):
                                    key_name[1].replaceAll('&lt;HOST/>', configGet('SERVER','HOST') ?? '');
                        }
                            
                    }
                else
                    return key_name[1];
            };
            //loop json_data keys
            for (const key of Object.entries(resource.json_data)){
                const value = value_set(key);
                if (resource.app_registry_update_app_id &amp;&amp; resource.app_update_secret.filter((/**@type{*}*/secret_key)=>key[0].toUpperCase() in secret_key).length>0)
                    await commonRegistryAppSecretUpdate(serverUtilNumberValue(configGet('SERVER', 'APP_COMMON_APP_ID')), 
                        {   app_id:             resource.app_registry_update_app_id,
                            parameter_name:     key[0].toUpperCase(),
                            parameter_value:    value
                        });
                resource.json_data[key[0]] = value;
            }
            //loop custom secret keys containing USER_ACCOUNT_ID not in json_data
            if (resource.app_update_secret)
                for (const key of resource.app_update_secret.filter((/**@type{*}*/secret_key)=>Object.values(secret_key)[0]=='USER_ACCOUNT_ID')){
                    const value = value_set([Object.keys(key)[0], Object.values(key)[0]]);
                    await commonRegistryAppSecretUpdate(serverUtilNumberValue(configGet('SERVER', 'APP_COMMON_APP_ID')), 
                            {   app_id:             resource.app_registry_update_app_id,
                                parameter_name:     Object.keys(key)[0].toUpperCase(),
                                parameter_value:    value
                            });
                }
            return resource.json_data;
        };

        for (const resource_master of demo_user.resource_master ?? []){
            const data = {  
                            user_account_id:                                demo_user.id,
                            user_account_app_id:                            resource_master.user_account_app_app_id,
                            data_app_id:                                    resource_master.app_data_entity_resource_app_data_entity_app_id,
                            app_data_entity_resource_app_data_entity_id:    resource_master.app_data_entity_resource_app_data_entity_id,
                            app_data_entity_resource_id:                    resource_master.app_data_entity_resource_id,
                            json_data:                                      await demo_data_update(resource_master)
            };
            const master_id = await create_resource_master(app_id, data);
            for (const resource_detail of resource_master.resource_detail ?? []){
                const data = {  app_data_resource_master_id                     : master_id,
                                app_data_entity_resource_id                     : resource_detail.app_data_entity_resource_id,
                                user_account_id                                 : demo_user.id,
                                user_account_app_id                             : resource_detail.user_account_app_id,
                                data_app_id                                     : resource_detail.data_app_id,
                                app_data_entity_resource_app_data_entity_id     : resource_detail.app_data_entity_resource_app_data_entity_id,
                                app_data_resource_master_attribute_id           : resource_detail.app_data_resource_master_attribute_id,
                                json_data                                       : await demo_data_update(resource_detail)
                                };
                const detail_id = await create_resource_detail(app_id, data);
                for (const resource_detail_data of resource_detail.resource_detail_data ?? []){
                    const data ={   app_data_resource_detail_id             : detail_id,
                                    user_account_id                         : demo_user.id,
                                    user_account_app_id                     : resource_detail_data.user_account_app_id,
                                    data_app_id                             : resource_detail_data.data_app_id,
                                    app_data_resource_master_attribute_id   : resource_detail_data.app_data_resource_master_attribute_id,
                                    json_data                               : await demo_data_update(resource_detail_data)
                                    };
                    create_resource_detail_data(app_id, data);
                }
            }
        }
    }
    let records_user_account_like = 0;
    let records_user_account_view = 0;
    let records_user_account_follow = 0;
    let records_user_account_app_data_post_like = 0;
    let records_user_account_app_data_post_view = 0;
    
    /**
     * Create like user
     * @param {number} app_id 
     * @param {number} id 
     * @param {number} id_like 
     * @returns {Promise.&lt;null>}
     */
    const create_likeuser = async (app_id, id, id_like ) =>{
        return new Promise((resolve, reject) => {
            user_account_like.like(app_id, id, id_like)
            .then(result => {
                if (result.affectedRows == 1)
                    records_user_account_like++;
                resolve(null);
            })
            .catch((/**@type{import('../../types.js').server_server_error}*/error)=>{
                reject(error);
            });
        });
    };
    /**
     * Create user account view
     * @param {number} app_id 
     * @param {import('../../types.js').server_db_sql_parameter_user_account_view_insertUserAccountView} data 
     * @returns {Promise.&lt;null>}
     */
    const create_user_account_view = async (app_id, data ) =>{
        return new Promise((resolve, reject) => {
            insertUserAccountView(app_id, data)
            .then(result => {
                if (result.affectedRows == 1)
                        records_user_account_view++;
                resolve(null);
            })
            .catch((/**@type{import('../../types.js').server_server_error}*/error)=>{
                reject(error);
            });
        });
    };
    /**
     * Create user acccount follow
     * @param {number} app_id 
     * @param {number} id 
     * @param {number} id_follow 
     * @returns {Promise.&lt;null>}
     */
    const create_user_account_follow = async (app_id, id, id_follow ) =>{
        return new Promise((resolve, reject) => {
            user_account_follow.follow(app_id, id, id_follow)
            .then(result=>{
                if (result.affectedRows == 1)
                    records_user_account_follow++;
                resolve(null);
            })
            .catch((/**@type{import('../../types.js').server_server_error}*/error)=>{
                reject(error);
            });
        });
    };
    /**
     * Create user account app setting like
     * @param {number} app_id 
     * @param {number} user1 
     * @param {number} user2 
     * @returns {Promise.&lt;null>}
     */
    const create_user_account_app_data_post_like = async (app_id, user1, user2 ) =>{
        return new Promise((resolve, reject) => {
            getUserPostsByUserId(app_id, user1)
            .then(result_posts=>{
                const random_posts_index = Math.floor(1 + Math.random() * result_posts.length - 1 );
                user_account_app_data_post_like.like(app_id, user2, result_posts[random_posts_index].id)
                .then(result => {
                    if (result.affectedRows == 1)
                        records_user_account_app_data_post_like++;
                    resolve(null);
                })
                .catch((/**@type{import('../../types.js').server_server_error}*/error)=>{
                    reject(error);
                });
            })
            .catch((/**@type{import('../../types.js').server_server_error}*/error)=>{
                reject(error);
            });
        });
    };
    /**
     * Create user account app setting view
     * @param {number} app_id 
     * @param {number} user1 
     * @param {number} user2 
     * @param {string} social_type 
     * @returns {Promise.&lt;null>}
     */
    const create_user_account_app_data_post_view = async (app_id, user1, user2 , social_type) =>{
        return new Promise((resolve, reject) => {
            getUserPostsByUserId(app_id, user1)
            .then(result_posts=>{
                //choose random post from user
                        const random_index = Math.floor(1 + Math.random() * result_posts.length -1);
                        let user_account_id;
                        if (social_type == 'POSTS_VIEW')
                            user_account_id = user2;
                        else
                            user_account_id = null;
                        insertUserPostView(app_id, {  user_account_id: user_account_id,
                                                    user_account_app_data_post_id: result_posts[random_index].id,
                                                    client_ip: null,
                                                    client_user_agent: null,
                                                    client_longitude: null,
                                                    client_latitude: null
                                                            })
                    .then(result=>{
                        if (result.affectedRows == 1)
                                records_user_account_app_data_post_view++;
                            resolve(null);
                    })
                    .catch((/**@type{import('../../types.js').server_server_error}*/error)=>{
                        reject(error);
                    });
            })
            .catch((/**@type{import('../../types.js').server_server_error}*/error)=>{
                reject(error);
            });
        });
    };
    for (const social_type of social_types){
        socketAdminSend(app_id, {   client_id:serverUtilNumberValue(query.get('client_id')),
                                    client_id_current:null,
                                    broadcast_type:'PROGRESS',
                                    broadcast_message:btoa(JSON.stringify({part:install_count, total:install_total_count, text:social_type}))});
        install_count++;
        //select new random sample for each social type
        /**@type{[number]|[]} */
        const random_users1 = [];
        /**@type{[number]|[]} */
        const random_users2 = [];
        //loop until two groups both have 50% samples with unique users in each sample
        const sample_amount = Math.floor(demo_users.length * 0.5);
        while (random_users1.length &lt; sample_amount || random_users2.length &lt; sample_amount){
            const random_array_index1 = Math.floor(1 + Math.random() * demo_users.length - 1 );
            const random_array_index2 = Math.floor(1 + Math.random() * demo_users.length - 1 );
        const random_include_id1 = demo_users[random_array_index1].id;
        /**@ts-ignore */
            if (random_users1.length &lt;sample_amount &amp;&amp; !random_users1.includes(random_include_id1) ){
            /**@ts-ignore */
            random_users1.push(demo_users[random_array_index1].id);
        }
        /**@ts-ignore */
            if (random_users2.length &lt;sample_amount &amp;&amp; !random_users2.includes(demo_users[random_array_index2].id)){
            /**@ts-ignore */
            random_users2.push(demo_users[random_array_index2].id);
        }
        }
        for (const user1 of random_users1){
            for(const user2 of random_users2){
                switch (social_type){
                    case 'LIKE':{
                        await create_likeuser(app_id, user1, user2);
                        break;
                    }
                    case 'VIEW':{
                        await create_user_account_view(app_id, 
                                                {user_account_id: user1,
                                                user_account_id_view: user2,
                                                client_ip: null,
                                                client_user_agent: null,
                                                client_longitude: null,
                                                client_latitude: null
                                                });
                        break;
                    }
                    case 'VIEW_ANONYMOUS':{
                        await create_user_account_view(app_id, 
                                                        {
                                                        user_account_id: null,
                                                        user_account_id_view: user1,
                                                        client_ip: null,
                                                        client_user_agent: null,
                                                        client_longitude: null,
                                                        client_latitude: null
                                                        });
                        break;
                    }
                    case 'FOLLOWER':{
                        await create_user_account_follow(app_id, user1, user2);
                        break;
                    }
                    case 'POSTS_LIKE':{
                        //pick a random user setting from the user and return the app_id
                        const user_account_app_data_posts = demo_users.filter(user=>user.id == user1)[0].settings;
                        if (user_account_app_data_posts.length>0){
                            const settings_app_id = user_account_app_data_posts[Math.floor(1 + Math.random() * user_account_app_data_posts.length - 1 )].app_id;
                            await create_user_account_app_data_post_like(settings_app_id, user1, user2);
                        }
                        break;
                    }
                    case 'POSTS_VIEW':
                    case 'POSTS_VIEW_ANONYMOUS':{
                        //pick a random user setting from the user and return the app_id
                        const user_account_app_data_posts = demo_users.filter(user=>user.id == user1)[0].settings;
                        if (user_account_app_data_posts.length>0){
                            const settings_app_id = user_account_app_data_posts[Math.floor(1 + Math.random() * user_account_app_data_posts.length - 1 )].app_id;
                            await create_user_account_app_data_post_view(settings_app_id, user1, user2 , social_type) ;
                        }
                        break;
                    }
                }						
            }
        }
    }
    install_result.push({'user_account': records_user_account});
    install_result.push({'user_account_app': records_user_account_app});
    install_result.push({'user_account_resource_master': records_user_account_resource_master});
    install_result.push({'user_account_resource_detail': records_user_account_resource_detail});
    install_result.push({'user_account_resource_detail_data': records_user_account_resource_detail_data});
    install_result.push({'user_account_like': records_user_account_like});
    install_result.push({'user_account_view': records_user_account_view});
    install_result.push({'user_account_follow': records_user_account_follow});
    install_result.push({'user_account_app_data_post': records_user_account_app_data_post});
    install_result.push({'user_account_app_data_post_like': records_user_account_app_data_post_like});
    install_result.push({'user_account_app_data_post_view': records_user_account_app_data_post_view});
    install_result.push({'finished': new Date().toISOString()});
    logServerI(`Demo install result: ${install_result.reduce((result, current)=> result += `${Object.keys(current)[0]}:${Object.values(current)[0]} `, '')}`);
    return {info: install_result};
};
/**
 * Demo uninstall
 * @param {number} app_id
 * @param {*} query
 * @returns {Promise.&lt;{info: {}[]}>}
 */
const DemoUninstall = async (app_id, query)=> {
    /**@type{import('../../socket.js')} */
    const {socketAdminSend} = await import(`file://${process.cwd()}/server/socket.js`);
    /**@type{import('../../log.js')} */
    const {logServerI} = await import(`file://${process.cwd()}/server/log.js`);
    /**@type{import('../sql/user_account.service.js')} */
	const {getDemousers, deleteUser} = await import(`file://${process.cwd()}/server/db/sql/user_account.service.js`);
    return new Promise((resolve, reject)=>{
        getDemousers(app_id)
        .then(result_demo_users=>{
            let deleted_user = 0;
            if (result_demo_users.length>0){
                const delete_users = async () => {
                    for (const user of result_demo_users){
                        socketAdminSend(app_id, {   client_id:serverUtilNumberValue(query.get('client_id')),
                                                    client_id_current:null,
                                                    broadcast_type:'PROGRESS',
                                                    broadcast_message:btoa(JSON.stringify({part:deleted_user, total:result_demo_users.length, text:user.username}))});
                        await deleteUser(app_id, user.id)
                        .then(()=>{
                            deleted_user++;
                            if (deleted_user == result_demo_users.length)
                                return null;
                        })
                        .catch((/**@type{import('../../types.js').server_server_error}*/error)=>{
                            throw error;
                        });
                    }
                };
                delete_users()
                .then(()=>{
                    logServerI(`Demo uninstall count: ${deleted_user}`);
                    resolve({info: [{'count': deleted_user}]});
                })
                .catch((/**@type{import('../../types.js').server_server_error}*/error)=>{
                    reject(error);
                });
            }
            else{
                logServerI(`Demo uninstall count: ${result_demo_users.length}`);
                resolve({info: [{'count': result_demo_users.length}]});
            }
        })
        .catch((/**@type{import('../../types.js').server_server_error}*/error)=>{
            reject(error);
        });
    });
    
};

/**
 * Starts pool with parameters
 * @param {number|null} db_use 
 * @param {number|null} dba 
 * @param {string|null} user 
 * @param {string|null} password 
 * @param {number|null} pool_id 
 * @returns {Promise.&lt;null>}
 */
 const DB_POOL = async (db_use, dba, user, password, pool_id) =>{
    /**@type{import('../../log.js')} */
    const {logServerI, logServerE} = await import(`file://${process.cwd()}/server/log.js`);
    /**@type{import('../../db/db.service.js')} */
    const {dbPoolStart} = await import(`file://${process.cwd()}/server/db/db.service.js`);
    
    return new Promise ((resolve, reject)=>{
       /**@type{import('../../types.js').server_db_db_pool_parameters} */
       const dbparameters = {
          use:                       db_use,
          pool_id:                   pool_id,
          host:                      configGet('SERVICE_DB', `DB${db_use}_HOST`),
          port:                      serverUtilNumberValue(configGet('SERVICE_DB', `DB${db_use}_PORT`)),
          dba:                       dba,
          user:                      user,
          password:                  password,
          database:                  configGet('SERVICE_DB', `DB${db_use}_NAME`),
          //db 1 + 2 parameters
          charset:                   configGet('SERVICE_DB', `DB${db_use}_CHARACTERSET`),
          connectionLimit:           serverUtilNumberValue(configGet('SERVICE_DB', `DB${db_use}_CONNECTION_LIMIT`)),
          // db 3 parameters
          connectionTimeoutMillis:   serverUtilNumberValue(configGet('SERVICE_DB', `DB${db_use}_TIMEOUT_CONNECTION`)),
          idleTimeoutMillis:         serverUtilNumberValue(configGet('SERVICE_DB', `DB${db_use}_TIMEOUT_IDLE`)),
          max:                       serverUtilNumberValue(configGet('SERVICE_DB', `DB${db_use}_MAX`)),
          // db 4 parameters
          connectString:             configGet('SERVICE_DB', `DB${db_use}_CONNECTSTRING`),
          poolMin:                   serverUtilNumberValue(configGet('SERVICE_DB', `DB${db_use}_POOL_MIN`)),
          poolMax:                   serverUtilNumberValue(configGet('SERVICE_DB', `DB${db_use}_POOL_MAX`)),
          poolIncrement:             serverUtilNumberValue(configGet('SERVICE_DB', `DB${db_use}_POOL_INCREMENT`))
       };
       dbPoolStart(dbparameters)
       .then((/**@type{null}*/result)=>{
          logServerI(`Started pool ${dbparameters.pool_id}, db ${dbparameters.use}, host ${dbparameters.host}, port ${dbparameters.port}, dba ${dbparameters.dba}, user ${dbparameters.user}, database ${dbparameters.database}`);
          resolve(result);
       })
       .catch((/**@type{import('../../types.js').server_server_error}*/error)=>{
          logServerE('Starting pool error: ' + error);
          reject(error);
       });
    });
 };
 /**
  * Start pools for database used
  */
const Start = async () => {
    /**@type{import('../file.service.js')} */
    const {fileCache} = await import(`file://${process.cwd()}/server/db/file.service.js`);
    const common_app_id = serverUtilNumberValue(fileCache('CONFIG_SERVER').SERVER.filter((/**@type{*}*/key)=>'APP_COMMON_APP_ID'in key)[0].APP_COMMON_APP_ID) ?? 0;
    if (configGet('SERVICE_DB', 'START')=='1'){    
        let user;
        let password;
        let dba = 0;
        const db_use = serverUtilNumberValue(configGet('SERVICE_DB', 'USE'));
       
        if (db_use == 5)
            await DB_POOL(db_use, dba, null, null, null);
        else{
            if (configGet('SERVICE_DB', `DB${db_use}_DBA_USER`)){
                user = `${configGet('SERVICE_DB', `DB${db_use}_DBA_USER`)}`;
                password = `${configGet('SERVICE_DB', `DB${db_use}_DBA_PASS`)}`;
                dba = 1;
                await DB_POOL(db_use, dba, user, password, null);
                }
                dba = 0;
                for (const app  of fileCache('APP')){
                    const app_secret = fileCache('APP_SECRET').filter((/**@type{import('../../types.js').server_db_file_app_secret}*/app)=> app.APP_ID == common_app_id)[0];
                    if (app_secret[`SERVICE_DB_DB${db_use}_APP_USER`])
                        await DB_POOL(  db_use, 
                                        dba, 
                                        app_secret[`SERVICE_DB_DB${db_use}_APP_USER`],
                                        app_secret[`SERVICE_DB_DB${db_use}_APP_PASSWORD`],
                                        app.APP_ID);
            }  
        }
    }
 };
export{Info, InfoSpace, InfoSpaceSum, Install, InstalledCheck, Uninstall, DemoInstall, DemoUninstall, Start};</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">App Portolio</a></h2><h3>Modules</h3><ul><li><a href="module-apps_admin_app.html">apps/admin/app</a></li><li><a href="module-apps_admin_component_admin_secure.html">apps/admin/component/admin_secure</a></li><li><a href="module-apps_admin_component_app.html">apps/admin/component/app</a></li><li><a href="module-apps_admin_component_dialogue_send_broadcast.html">apps/admin/component/dialogue_send_broadcast</a></li><li><a href="module-apps_admin_component_menu_apps.html">apps/admin/component/menu_apps</a></li><li><a href="module-apps_admin_component_menu_apps_parameters.html">apps/admin/component/menu_apps_parameters</a></li><li><a href="module-apps_admin_component_menu_config.html">apps/admin/component/menu_config</a></li><li><a href="module-apps_admin_component_menu_config_detail.html">apps/admin/component/menu_config_detail</a></li><li><a href="module-apps_admin_component_menu_db_info.html">apps/admin/component/menu_db_info</a></li><li><a href="module-apps_admin_component_menu_installation.html">apps/admin/component/menu_installation</a></li><li><a href="module-apps_admin_component_menu_monitor.html">apps/admin/component/menu_monitor</a></li><li><a href="module-apps_admin_component_menu_monitor_detail.html">apps/admin/component/menu_monitor_detail</a></li><li><a href="module-apps_admin_component_menu_monitor_detail_server_log.html">apps/admin/component/menu_monitor_detail_server_log</a></li><li><a href="module-apps_admin_component_menu_server.html">apps/admin/component/menu_server</a></li><li><a href="module-apps_admin_component_menu_start.html">apps/admin/component/menu_start</a></li><li><a href="module-apps_admin_component_menu_start_chart.html">apps/admin/component/menu_start_chart</a></li><li><a href="module-apps_admin_component_menu_user_stat.html">apps/admin/component/menu_user_stat</a></li><li><a href="module-apps_admin_component_menu_users.html">apps/admin/component/menu_users</a></li><li><a href="module-apps_admin_component_menu_users_list.html">apps/admin/component/menu_users_list</a></li><li><a href="module-apps_admin_component_menu_users_logon.html">apps/admin/component/menu_users_logon</a></li><li><a href="module-apps_app1_app.html">apps/app1/app</a></li><li><a href="module-apps_app1_component_app.html">apps/app1/component/app</a></li><li><a href="module-apps_app1_component_app_theme.html">apps/app1/component/app_theme</a></li><li><a href="module-apps_app2_app.html">apps/app2/app</a></li><li><a href="module-apps_app2_app_types.html">apps/app2/app/types</a></li><li><a href="module-apps_app2_component_app.html">apps/app2/component/app</a></li><li><a href="module-apps_app2_component_dialogue_info.html">apps/app2/component/dialogue_info</a></li><li><a href="module-apps_app2_component_dialogue_scan_open_mobile.html">apps/app2/component/dialogue_scan_open_mobile</a></li><li><a href="module-apps_app2_component_print.html">apps/app2/component/print</a></li><li><a href="module-apps_app2_component_profile_info.html">apps/app2/component/profile_info</a></li><li><a href="module-apps_app2_component_profile_stat.html">apps/app2/component/profile_stat</a></li><li><a href="module-apps_app2_component_settings_tab1.html">apps/app2/component/settings_tab1</a></li><li><a href="module-apps_app2_component_settings_tab2.html">apps/app2/component/settings_tab2</a></li><li><a href="module-apps_app2_component_settings_tab3.html">apps/app2/component/settings_tab3</a></li><li><a href="module-apps_app2_component_settings_tab4.html">apps/app2/component/settings_tab4</a></li><li><a href="module-apps_app2_component_settings_tab5.html">apps/app2/component/settings_tab5</a></li><li><a href="module-apps_app2_component_settings_tab6.html">apps/app2/component/settings_tab6</a></li><li><a href="module-apps_app2_component_settings_tab7.html">apps/app2/component/settings_tab7</a></li><li><a href="module-apps_app2_component_settings_tab_nav_7.html">apps/app2/component/settings_tab_nav_7</a></li><li><a href="module-apps_app2_report_lib_timetable.html">apps/app2/report/lib_timetable</a></li><li><a href="module-apps_app2_src_modules_module_timetable_lib.html">apps/app2/src/modules/module_timetable_lib</a></li><li><a href="module-apps_app2_src_report_timetable.html">apps/app2/src/report/timetable</a></li><li><a href="module-apps_app2_src_types.html">apps/app2/src/types</a></li><li><a href="module-apps_app2_sw.html">apps/app2/sw</a></li><li><a href="module-apps_app3_app.html">apps/app3/app</a></li><li><a href="module-apps_app3_component_app.html">apps/app3/component/app</a></li><li><a href="module-apps_app3_component_docs.html">apps/app3/component/docs</a></li><li><a href="module-apps_app4_app.html">apps/app4/app</a></li><li><a href="module-apps_app4_component_app.html">apps/app4/component/app</a></li><li><a href="module-apps_app5_app.html">apps/app5/app</a></li><li><a href="module-apps_app5_component_app.html">apps/app5/component/app</a></li><li><a href="module-apps_app5_component_page_secure.html">apps/app5/component/page_secure</a></li><li><a href="module-apps_app5_component_page_start.html">apps/app5/component/page_start</a></li><li><a href="module-apps_app5_src_functions_account_create.html">apps/app5/src/functions/account_create</a></li><li><a href="module-apps_app5_src_functions_account_get.html">apps/app5/src/functions/account_get</a></li><li><a href="module-apps_app5_src_functions_account_metadata.html">apps/app5/src/functions/account_metadata</a></li><li><a href="module-apps_app5_src_functions_account_statement.html">apps/app5/src/functions/account_statement</a></li><li><a href="module-apps_app5_src_functions_account_transactions.html">apps/app5/src/functions/account_transactions</a></li><li><a href="module-apps_app5_src_functions_customer_create.html">apps/app5/src/functions/customer_create</a></li><li><a href="module-apps_app5_src_functions_customer_get.html">apps/app5/src/functions/customer_get</a></li><li><a href="module-apps_app5_src_functions_customer_metadata.html">apps/app5/src/functions/customer_metadata</a></li><li><a href="module-apps_app5_src_functions_payment_request_create.html">apps/app5/src/functions/payment_request_create</a></li><li><a href="module-apps_app5_src_functions_payment_request_get.html">apps/app5/src/functions/payment_request_get</a></li><li><a href="module-apps_app5_src_functions_payment_request_get_status.html">apps/app5/src/functions/payment_request_get_status</a></li><li><a href="module-apps_app5_src_functions_payment_request_metadata.html">apps/app5/src/functions/payment_request_metadata</a></li><li><a href="module-apps_app5_src_functions_payment_request_update.html">apps/app5/src/functions/payment_request_update</a></li><li><a href="module-apps_app5_src_functions_transaction_metadata.html">apps/app5/src/functions/transaction_metadata</a></li><li><a href="module-apps_app6_app.html">apps/app6/app</a></li><li><a href="module-apps_app6_component_app.html">apps/app6/component/app</a></li><li><a href="module-apps_app6_component_page_start.html">apps/app6/component/page_start</a></li><li><a href="module-apps_app6_src_functions_payment_metadata.html">apps/app6/src/functions/payment_metadata</a></li><li><a href="module-apps_app6_src_functions_payment_request_create.html">apps/app6/src/functions/payment_request_create</a></li><li><a href="module-apps_app6_src_functions_payment_request_get_status.html">apps/app6/src/functions/payment_request_get_status</a></li><li><a href="module-apps_app6_src_functions_payment_request_metadata.html">apps/app6/src/functions/payment_request_metadata</a></li><li><a href="module-apps_app6_src_functions_product_get.html">apps/app6/src/functions/product_get</a></li><li><a href="module-apps_app6_src_functions_product_location_get.html">apps/app6/src/functions/product_location_get</a></li><li><a href="module-apps_app6_src_functions_product_metadata.html">apps/app6/src/functions/product_metadata</a></li><li><a href="module-apps_app6_src_functions_product_variant_location_metadata.html">apps/app6/src/functions/product_variant_location_metadata</a></li><li><a href="module-apps_app7_app.html">apps/app7/app</a></li><li><a href="module-apps_app7_app_types.html">apps/app7/app/types</a></li><li><a href="module-apps_app7_component_app.html">apps/app7/component/app</a></li><li><a href="module-apps_app7_component_cube.html">apps/app7/component/cube</a></li><li><a href="module-apps_app7_component_cube_lib.html">apps/app7/component/cube_lib</a></li><li><a href="module-apps_app7_src_functions_solve.html">apps/app7/src/functions/solve</a></li><li><a href="module-apps_app7_src_functions_solver1.html">apps/app7/src/functions/solver1</a></li><li><a href="module-apps_app7_src_functions_solver1_algorithms.html">apps/app7/src/functions/solver1/algorithms</a></li><li><a href="module-apps_app7_src_functions_solver1_coordinates.html">apps/app7/src/functions/solver1/coordinates</a></li><li><a href="module-apps_app7_src_functions_solver1_cube.html">apps/app7/src/functions/solver1/cube</a></li><li><a href="module-apps_app7_src_functions_solver1_movetable.html">apps/app7/src/functions/solver1/movetable</a></li><li><a href="module-apps_app7_src_functions_solver1_pruningtable.html">apps/app7/src/functions/solver1/pruningtable</a></li><li><a href="module-apps_app7_src_functions_solver1_scramblers_2gll.html">apps/app7/src/functions/solver1/scramblers/2gll</a></li><li><a href="module-apps_app7_src_functions_solver1_scramblers_3x3.html">apps/app7/src/functions/solver1/scramblers/3x3</a></li><li><a href="module-apps_app7_src_functions_solver1_scramblers_cmll.html">apps/app7/src/functions/solver1/scramblers/cmll</a></li><li><a href="module-apps_app7_src_functions_solver1_scramblers_corners.html">apps/app7/src/functions/solver1/scramblers/corners</a></li><li><a href="module-apps_app7_src_functions_solver1_scramblers_edges.html">apps/app7/src/functions/solver1/scramblers/edges</a></li><li><a href="module-apps_app7_src_functions_solver1_scramblers_lse.html">apps/app7/src/functions/solver1/scramblers/lse</a></li><li><a href="module-apps_app7_src_functions_solver1_scramblers_lsll.html">apps/app7/src/functions/solver1/scramblers/lsll</a></li><li><a href="module-apps_app7_src_functions_solver1_scramblers_pll.html">apps/app7/src/functions/solver1/scramblers/pll</a></li><li><a href="module-apps_app7_src_functions_solver1_scramblers_scramblepieces.html">apps/app7/src/functions/solver1/scramblers/scramblepieces</a></li><li><a href="module-apps_app7_src_functions_solver1_scramblers_zbll.html">apps/app7/src/functions/solver1/scramblers/zbll</a></li><li><a href="module-apps_app7_src_functions_solver1_scramblers_zzls.html">apps/app7/src/functions/solver1/scramblers/zzls</a></li><li><a href="module-apps_app7_src_functions_solver1_search.html">apps/app7/src/functions/solver1/search</a></li><li><a href="module-apps_app7_src_functions_solver1_solvers_crosssolver.html">apps/app7/src/functions/solver1/solvers/crosssolver</a></li><li><a href="module-apps_app7_src_functions_solver1_solvers_eolinesolver.html">apps/app7/src/functions/solver1/solvers/eolinesolver</a></li><li><a href="module-apps_app7_src_functions_solver1_solvers_firstblocksolver.html">apps/app7/src/functions/solver1/solvers/firstblocksolver</a></li><li><a href="module-apps_app7_src_functions_solver1_solvers_kociemba.html">apps/app7/src/functions/solver1/solvers/kociemba</a></li><li><a href="module-apps_app7_src_functions_solver1_solvers_xcrosssolver.html">apps/app7/src/functions/solver1/solvers/xcrosssolver</a></li><li><a href="module-apps_app7_src_functions_solver1_tools.html">apps/app7/src/functions/solver1/tools</a></li><li><a href="module-apps_app7_src_functions_solver1_worker.html">apps/app7/src/functions/solver1/worker</a></li><li><a href="module-apps_app7_src_functions_solver2.html">apps/app7/src/functions/solver2</a></li><li><a href="module-apps_app7_src_functions_solver3.html">apps/app7/src/functions/solver3</a></li><li><a href="module-apps_app7_src_functions_solver3_algorithm-shortener.html">apps/app7/src/functions/solver3/algorithm-shortener</a></li><li><a href="module-apps_app7_src_functions_solver3_models_cube.html">apps/app7/src/functions/solver3/models/cube</a></li><li><a href="module-apps_app7_src_functions_solver3_models_face.html">apps/app7/src/functions/solver3/models/face</a></li><li><a href="module-apps_app7_src_functions_solver3_models_rubikscube.html">apps/app7/src/functions/solver3/models/rubikscube</a></li><li><a href="module-apps_app7_src_functions_solver3_models_vector.html">apps/app7/src/functions/solver3/models/vector</a></li><li><a href="module-apps_app7_src_functions_solver3_module_combiner.html">apps/app7/src/functions/solver3/module/combiner</a></li><li><a href="module-apps_app7_src_functions_solver3_module_gl-vec3.html">apps/app7/src/functions/solver3/module/gl-vec3</a></li><li><a href="module-apps_app7_src_functions_solver3_solvers_basesolver.html">apps/app7/src/functions/solver3/solvers/basesolver</a></li><li><a href="module-apps_app7_src_functions_solver3_solvers_cross.html">apps/app7/src/functions/solver3/solvers/cross</a></li><li><a href="module-apps_app7_src_functions_solver3_solvers_f2l.html">apps/app7/src/functions/solver3/solvers/f2l</a></li><li><a href="module-apps_app7_src_functions_solver3_solvers_oll.html">apps/app7/src/functions/solver3/solvers/oll</a></li><li><a href="module-apps_app7_src_functions_solver3_solvers_pll.html">apps/app7/src/functions/solver3/solvers/pll</a></li><li><a href="module-apps_app7_src_functions_solver3_utils.html">apps/app7/src/functions/solver3/utils</a></li><li><a href="module-apps_app7_src_types.html">apps/app7/src/types</a></li><li><a href="module-apps_common_common.html">apps/common/common</a></li><li><a href="module-apps_common_component_common_app.html">apps/common/component/common_app</a></li><li><a href="module-apps_common_component_common_app_data_display.html">apps/common/component/common_app_data_display</a></li><li><a href="module-apps_common_component_common_broadcast.html">apps/common/component/common_broadcast</a></li><li><a href="module-apps_common_component_common_construction.html">apps/common/component/common_construction</a></li><li><a href="module-apps_common_component_common_dialogue_apps.html">apps/common/component/common_dialogue_apps</a></li><li><a href="module-apps_common_component_common_dialogue_lov.html">apps/common/component/common_dialogue_lov</a></li><li><a href="module-apps_common_component_common_dialogue_maintenance.html">apps/common/component/common_dialogue_maintenance</a></li><li><a href="module-apps_common_component_common_dialogue_message.html">apps/common/component/common_dialogue_message</a></li><li><a href="module-apps_common_component_common_dialogue_profile.html">apps/common/component/common_dialogue_profile</a></li><li><a href="module-apps_common_component_common_dialogue_profile_info.html">apps/common/component/common_dialogue_profile_info</a></li><li><a href="module-apps_common_component_common_dialogue_profile_info_detail.html">apps/common/component/common_dialogue_profile_info_detail</a></li><li><a href="module-apps_common_component_common_dialogue_profile_stat.html">apps/common/component/common_dialogue_profile_stat</a></li><li><a href="module-apps_common_component_common_dialogue_profile_stat_list.html">apps/common/component/common_dialogue_profile_stat_list</a></li><li><a href="module-apps_common_component_common_dialogue_user_edit.html">apps/common/component/common_dialogue_user_edit</a></li><li><a href="module-apps_common_component_common_dialogue_user_menu.html">apps/common/component/common_dialogue_user_menu</a></li><li><a href="module-apps_common_component_common_dialogue_user_menu_app_theme.html">apps/common/component/common_dialogue_user_menu_app_theme</a></li><li><a href="module-apps_common_component_common_dialogue_user_password_new.html">apps/common/component/common_dialogue_user_password_new</a></li><li><a href="module-apps_common_component_common_dialogue_user_start.html">apps/common/component/common_dialogue_user_start</a></li><li><a href="module-apps_common_component_common_dialogue_user_verify.html">apps/common/component/common_dialogue_user_verify</a></li><li><a href="module-apps_common_component_common_module_leaflet.html">apps/common/component/common_module_leaflet</a></li><li><a href="module-apps_common_component_common_module_leaflet_control.html">apps/common/component/common_module_leaflet_control</a></li><li><a href="module-apps_common_component_common_module_leaflet_popup.html">apps/common/component/common_module_leaflet_popup</a></li><li><a href="module-apps_common_component_common_module_leaflet_search_city.html">apps/common/component/common_module_leaflet_search_city</a></li><li><a href="module-apps_common_component_common_profile_search.html">apps/common/component/common_profile_search</a></li><li><a href="module-apps_common_component_common_profile_search_list.html">apps/common/component/common_profile_search_list</a></li><li><a href="module-apps_common_component_common_profile_toolbar.html">apps/common/component/common_profile_toolbar</a></li><li><a href="module-apps_common_component_common_select.html">apps/common/component/common_select</a></li><li><a href="module-apps_common_component_common_user_account.html">apps/common/component/common_user_account</a></li><li><a href="module-apps_common_component_common_window_info.html">apps/common/component/common_window_info</a></li><li><a href="module-apps_common_maintenance.html">apps/common/maintenance</a></li><li><a href="module-apps_common_src_common_service.html">apps/common/src/common/service</a></li><li><a href="module-apps_common_src_component_common_app.html">apps/common/src/component/common_app</a></li><li><a href="module-apps_common_src_component_common_info_disclaimer.html">apps/common/src/component/common_info_disclaimer</a></li><li><a href="module-apps_common_src_component_common_info_privacy_policy.html">apps/common/src/component/common_info_privacy_policy</a></li><li><a href="module-apps_common_src_component_common_info_terms.html">apps/common/src/component/common_info_terms</a></li><li><a href="module-apps_common_src_component_common_mail.html">apps/common/src/component/common_mail</a></li><li><a href="module-apps_common_src_component_common_maintenance.html">apps/common/src/component/common_maintenance</a></li><li><a href="module-apps_common_src_component_common_report.html">apps/common/src/component/common_report</a></li><li><a href="module-apps_common_src_component_common_server_error.html">apps/common/src/component/common_server_error</a></li><li><a href="module-apps_common_src_functions_common_country.html">apps/common/src/functions/common_country</a></li><li><a href="module-apps_common_src_functions_common_locale.html">apps/common/src/functions/common_locale</a></li><li><a href="module-apps_default_PWA_app.html">apps/default_PWA/app</a></li><li><a href="module-apps_default_PWA_component_app.html">apps/default_PWA/component/app</a></li><li><a href="module-apps_default_PWA_sw.html">apps/default_PWA/sw</a></li><li><a href="module-apps_types.html">apps/types</a></li><li><a href="module-microservice.html">microservice</a></li><li><a href="module-microservice_batch_server.html">microservice/batch/server</a></li><li><a href="module-microservice_batch_service.html">microservice/batch/service</a></li><li><a href="module-microservice_cirtcuitbreaker.html">microservice/cirtcuitbreaker</a></li><li><a href="module-microservice_geolocation_server.html">microservice/geolocation/server</a></li><li><a href="module-microservice_geolocation_service.html">microservice/geolocation/service</a></li><li><a href="module-microservice_mail_server.html">microservice/mail/server</a></li><li><a href="module-microservice_mail_service.html">microservice/mail/service</a></li><li><a href="module-microservice_messagequeue.html">microservice/messagequeue</a></li><li><a href="module-microservice_registry.html">microservice/registry</a></li><li><a href="module-microservice_worldcities_server.html">microservice/worldcities/server</a></li><li><a href="module-microservice_worldcities_service.html">microservice/worldcities/service</a></li><li><a href="module-server_bff.html">server/bff</a></li><li><a href="module-server_bff_service.html">server/bff/service</a></li><li><a href="module-server_config.html">server/config</a></li><li><a href="module-server_db_common.html">server/db/common</a></li><li><a href="module-server_db_components_app_data_entity.html">server/db/components/app_data_entity</a></li><li><a href="module-server_db_components_app_data_resource.html">server/db/components/app_data_resource</a></li><li><a href="module-server_db_components_app_data_stat.html">server/db/components/app_data_stat</a></li><li><a href="module-server_db_components_app_setting.html">server/db/components/app_setting</a></li><li><a href="module-server_db_components_database.html">server/db/components/database</a></li><li><a href="module-server_db_components_identity_provider.html">server/db/components/identity_provider</a></li><li><a href="module-server_db_components_user_account.html">server/db/components/user_account</a></li><li><a href="module-server_db_components_user_account_app.html">server/db/components/user_account_app</a></li><li><a href="module-server_db_components_user_account_app_data_post.html">server/db/components/user_account_app_data_post</a></li><li><a href="module-server_db_db.html">server/db/db</a></li><li><a href="module-server_db_file.html">server/db/file</a></li><li><a href="module-server_db_sql_app.html">server/db/sql/app</a></li><li><a href="module-server_db_sql_app_data_entity.html">server/db/sql/app_data_entity</a></li><li><a href="module-server_db_sql_app_data_entity_resource.html">server/db/sql/app_data_entity_resource</a></li><li><a href="module-server_db_sql_app_data_resource_detail.html">server/db/sql/app_data_resource_detail</a></li><li><a href="module-server_db_sql_app_data_resource_detail_data.html">server/db/sql/app_data_resource_detail_data</a></li><li><a href="module-server_db_sql_app_data_resource_master.html">server/db/sql/app_data_resource_master</a></li><li><a href="module-server_db_sql_app_data_stat.html">server/db/sql/app_data_stat</a></li><li><a href="module-server_db_sql_app_setting.html">server/db/sql/app_setting</a></li><li><a href="module-server_db_sql_database.html">server/db/sql/database</a></li><li><a href="module-server_db_sql_identity_provider.html">server/db/sql/identity_provider</a></li><li><a href="module-server_db_sql_user_account.html">server/db/sql/user_account</a></li><li><a href="module-server_db_sql_user_account_app.html">server/db/sql/user_account_app</a></li><li><a href="module-server_db_sql_user_account_app_data_post.html">server/db/sql/user_account_app_data_post</a></li><li><a href="module-server_db_sql_user_account_app_data_post_like.html">server/db/sql/user_account_app_data_post_like</a></li><li><a href="module-server_db_sql_user_account_app_data_post_view.html">server/db/sql/user_account_app_data_post_view</a></li><li><a href="module-server_db_sql_user_account_event.html">server/db/sql/user_account_event</a></li><li><a href="module-server_db_sql_user_account_follow.html">server/db/sql/user_account_follow</a></li><li><a href="module-server_db_sql_user_account_like.html">server/db/sql/user_account_like</a></li><li><a href="module-server_db_sql_user_account_view.html">server/db/sql/user_account_view</a></li><li><a href="module-server_iam.html">server/iam</a></li><li><a href="module-server_iam_service.html">server/iam/service</a></li><li><a href="module-server_info.html">server/info</a></li><li><a href="module-server_log.html">server/log</a></li><li><a href="module-server_security.html">server/security</a></li><li><a href="module-server_server.html">server/server</a></li><li><a href="module-server_socket.html">server/socket</a></li><li><a href="module-server_types.html">server/types</a></li><li><a href="module-test.html">test</a></li></ul><h3>Classes</h3><ul><li><a href="module-apps_app2_report_lib_timetable-PrayTimes.html">PrayTimes</a></li><li><a href="module-apps_app7_src_functions_solver1_pruningtable-PruningTable.html">PruningTable</a></li><li><a href="module-apps_app7_src_functions_solver1_search-Search.html">Search</a></li><li><a href="module-apps_app7_src_functions_solver1_solvers_kociemba-PhaseOneSearch.html">PhaseOneSearch</a></li><li><a href="module-apps_app7_src_functions_solver3_models_cube-Cubie.html">Cubie</a></li><li><a href="module-apps_app7_src_functions_solver3_models_face-Face.html">Face</a></li><li><a href="module-apps_app7_src_functions_solver3_models_rubikscube-RubiksCube.html">RubiksCube</a></li><li><a href="module-apps_app7_src_functions_solver3_models_vector-Vector.html">Vector</a></li><li><a href="module-apps_app7_src_functions_solver3_solvers_basesolver-BaseSolver.html">BaseSolver</a></li><li><a href="module-apps_app7_src_functions_solver3_solvers_f2l-Case1Solver.html">Case1Solver</a></li><li><a href="module-apps_app7_src_functions_solver3_solvers_f2l-Case2Solver.html">Case2Solver</a></li><li><a href="module-apps_app7_src_functions_solver3_solvers_f2l-Case3Solver.html">Case3Solver</a></li><li><a href="module-apps_app7_src_functions_solver3-Solver.html">Solver</a></li><li><a href="module-microservice_cirtcuitbreaker-circuitBreakerClass.html">circuitBreakerClass</a></li></ul><h3><a href="global.html">Global</a></h3>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.3</a>
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
