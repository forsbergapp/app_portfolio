



    
    <div class='section'>
        <div class='article'>
            <pre class="prettyprint source linenums"><code>/**
 * Display apps
 * @module apps/admin/component/menu_apps
 */


/**
 * @import {CommonAppRecord,CommonModuleCommon, COMMON_DOCUMENT,CommonComponentLifecycle}  from '../../../common_types.js'
 * @typedef {CommonModuleCommon['commonFFB']} commonFFB
 * @typedef {CommonModuleCommon['commonComponentRender']} commonComponentRender
 */

/**
 * @param {{apps:CommonAppRecord[]}} props
 */
const template = props => ` &lt;div id='menu_apps_content_widget1' class='widget'>
                                &lt;div id='menu_apps_title' class='common_icon'>&lt;/div>
                                &lt;div id='menu_apps' class='common_list_scrollbar'>
                                    &lt;div id='menu_apps_row_title' class='menu_apps_row'>
                                        &lt;div id='menu_apps_col_title1' data-column='ID' class='menu_apps_col list_title'>ID&lt;/div>
                                        &lt;div id='menu_apps_col_title2' data-column='NAME' class='menu_apps_col list_title'>NAME&lt;/div>
                                        &lt;div id='menu_apps_col_title3' data-column='SUBDOMAIN' class='menu_apps_col list_title'>SUBDOMAIN&lt;/div>
                                        &lt;div id='menu_apps_col_title4' data-column='PATH' class='menu_apps_col list_title'>PATH&lt;/div>
                                        &lt;div id='menu_apps_col_title4' data-column='LOGO' class='menu_apps_col list_title'>LOGO&lt;/div>
                                        &lt;div id='menu_apps_col_title4' data-column='SHOWPARAM' class='menu_apps_col list_title'>SHOWPARAM&lt;/div>
                                        &lt;div id='menu_apps_col_title4' data-column='MANIFEST' class='menu_apps_col list_title'>MANIFEST&lt;/div>
                                        &lt;div id='menu_apps_col_title4' data-column='JS' class='menu_apps_col list_title'>JS&lt;/div>
                                        &lt;div id='menu_apps_col_title4' data-column='CSS' class='menu_apps_col list_title'>CSS&lt;/div>
                                        &lt;div id='menu_apps_col_title4' data-column='CSS_REPORT' class='menu_apps_col list_title'>CSS_REPORT&lt;/div>
                                        &lt;div id='menu_apps_col_title4' data-column='FAVICON_32x32' class='menu_apps_col list_title'>FAVICON_32x32&lt;/div>
                                        &lt;div id='menu_apps_col_title4' data-column='FAVICON_192x192' class='menu_apps_col list_title'>FAVICON_192x192&lt;/div>
                                        &lt;div id='menu_apps_col_title5' data-column='STATUS' class='menu_apps_col list_title'>STATUS&lt;/div>
                                    &lt;/div>
                                    ${props.apps.map(app=>
                                        `&lt;div data-changed-record='0' data-app_id = '${app.ID}' class='menu_apps_row common_row' >
                                            &lt;div class='menu_apps_col list_readonly' data-column='ID' >${app.ID}&lt;/div>
                                            &lt;div class='menu_apps_col common_input list_edit' data-column='NAME' contentEditable='true' >${app.NAME}&lt;/div>
                                            &lt;div class='menu_apps_col common_input list_edit' data-column='SUBDOMAIN' contentEditable='true' >${app.SUBDOMAIN}&lt;/div>
                                            &lt;div class='menu_apps_col common_input list_edit' data-column='PATH' contentEditable='true' >${app.PATH}&lt;/div>
                                            &lt;div class='menu_apps_col common_input list_edit' data-column='LOGO' contentEditable='true' >${app.LOGO}&lt;/div>
                                            &lt;div class='menu_apps_col common_input list_edit' data-column='SHOWPARAM' contentEditable='true' >${app.SHOWPARAM}&lt;/div>
                                            &lt;div class='menu_apps_col common_input list_edit' data-column='MANIFEST' contentEditable='true' >${app.MANIFEST}&lt;/div>
                                            &lt;div class='menu_apps_col common_input list_edit' data-column='JS' contentEditable='true' >${app.JS}&lt;/div>
                                            &lt;div class='menu_apps_col common_input list_edit' data-column='CSS' contentEditable='true' >${app.CSS}&lt;/div>
                                            &lt;div class='menu_apps_col common_input list_edit' data-column='CSS_REPORT' contentEditable='true' >${app.CSS_REPORT}&lt;/div>
                                            &lt;div class='menu_apps_col common_input list_edit' data-column='FAVICON_32x32' contentEditable='true' >${app.FAVICON_32x32}&lt;/div>
                                            &lt;div class='menu_apps_col common_input list_edit' data-column='FAVICON_192x192' contentEditable='true' >${app.FAVICON_192x192}&lt;/div>
                                            &lt;div class='menu_apps_col common_input list_edit' data-column='STATUS' contentEditable='true' >${app.STATUS}&lt;/div>
                                        &lt;/div>`
                                    ).join('')}
                                &lt;/div>
                            &lt;/div>
                            &lt;div id='menu_apps_content_widget2' class='widget'>
                                &lt;div id='menu_apps_detail_title' class='list_nav'>
                                    &lt;div id='menu_apps_detail_parameter'    class='list_nav_list list_button common_icon list_nav_selected_tab'>&lt;/div>
                                    &lt;div id='menu_apps_detail_secret'       class='list_nav_list list_button common_icon'>&lt;/div>
                                    &lt;div id='menu_apps_detail_module'       class='list_nav_list list_button common_icon'>&lt;/div>
                                &lt;/div>
                                &lt;div id='menu_apps_detail' class='common_list_scrollbar'>&lt;/div>
                                &lt;div id='apps_buttons' class="save_buttons">
                                    &lt;div id='menu_apps_save' class='common_dialogue_button button_save common_icon'>&lt;/div>
                                &lt;/div>
                            &lt;/div>` ;
/**
 * @param {{data:       {commonMountdiv:string},
 *          methods:    {
 *                      COMMON_DOCUMENT:COMMON_DOCUMENT,
 *                      commonFFB: commonFFB
 *                      },
 *          lifecycle:  null}} props 
 * @returns {Promise.&lt;{ lifecycle:CommonComponentLifecycle, 
 *                      data:null, 
 *                      methods:null,
 *                      template:string}>}
 */
const component = async props => {
    /**@type{CommonAppRecord[]} */
    const apps = await props.methods.commonFFB({path:'/app-common', method:'GET', authorization_type:'ADMIN'})
                    .then((/**@type{string}*/result)=>JSON.parse(result).rows);

    const onMounted = async () =>{
        if (apps.length>0)
            props.methods.COMMON_DOCUMENT.querySelectorAll('#menu_apps .list_edit')[0].focus();
    };
    return {
        lifecycle:  {onMounted:onMounted},
        data:       null,
        methods:    null,
        template:   template({apps:apps})
};
};
export default component;</code></pre>
        </div>
    </div>



