# Process and microservice management

## Start Node.Js
    
Starting main server first time creates initial configuration for service registry and services.
A microservice use REST API to communicate with main server for access to service registry, IAM and message queue.
Review configurations in /data/db/OpenApi.json (#/servers and #/components/parameters/config), /data/db/ServiceRegistry.json and /data/microservice/*.json

> **Note:** Microservices are optional. Only main server is required to start.

### Development

Use VSCodium to start app portfolio

### Linux server

#### Main server

```
pm2 start $HOME/app_portfolio/server/init.js --cwd $HOME/app_portfolio --name app_portfolio -o "/dev/null" -e "/dev/null" --watch --ignore-watch=".git .vscode .well-known data docs node_modules .gitignore .eslintignore .eslintrc.js README.md tsconfig.json"
```
#### Microservices

```
pm2 start $HOME/app_portfolio/serviceregistry/microservice/batch/server.js --cwd $HOME/app_portfolio --name batch
```

## Common pm2 info

save configuration

```
pm2 save
```

restore after reboot

```
pm2 resurrect
```