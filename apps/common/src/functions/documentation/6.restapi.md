# REST API

- ISO20022
- OWASP guidelines for security 
- IAM pattern to authenticate resources
- OpenAPI pattern using JSON syntax

## REST API URI implementation

[protocol]://[subdomain].[domain]/[backend for frontend (bff)]/[role authorization]/version/[resource collection/service]/[resource]/[optional resource id]?[URI query]

All REST API paths can only be accessed from an app with dynamic ID token created for the specific app instance in the browser.

All REST API paths use backend for frontend (bff) pattern and are grouped by role

Paths can be access from all subdomains except admin paths only available from admin app

|Role                  |Comment                                                     |
|:---------------------|:-----------------------------------------------------------|
|app_id                |Authorized without begin logged in                          |
|app_id_signup         |Same as app_id and checks if signup is enabled              |
|app                   |Same as app_id but used for app assets                      |
|app_access            |Authorized when a user is logged in                         |
|admin                 |Authorized when admin is logged in                          |
|app_external          |Authorized for external url and sending encrypted messages  |
|iam_user              |Authenticates user login in IAM                             |
|iam_provider          |Authenticates provider user login in IAM                    |
|iam_admin             |Authenticates admin login in IAM                            |

## REST API using openAPI pattern

OpenAPI pattern is implemented for REST API documentation and uses JSON format. This source is used as both documentation and for management of REST API in javascript.
The documentation follows single source of truth pattern and is integrated with JSDoc where all comments are saved using @description tag for summary and @returns tag for responses in the rows and properties keys and these JSDoc tags are displayed with green text.

@{CONFIG_REST_API}