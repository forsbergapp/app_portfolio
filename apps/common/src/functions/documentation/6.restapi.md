# REST API

- ISO20022
- OWASP guidelines for security 
- IAM pattern to authenticate resources
- OpenAPI pattern using JSON syntax

## REST API URI implementation

[protocol]://[subdomain].[domain]/[backend for frontend (bff)]/[role authorization]/version/[resource collection/service]/[resource]/[optional resource id]?[URI query]

All REST API paths can only be accessed from an app with dynamic ID token created for the specific app instance in the browser.

All REST API paths use backend for frontend (bff) pattern and are grouped by role

Paths can be access from all subdomains except admin paths only available from admin app

|Role                  |Comment                                                     |
|:---------------------|:-----------------------------------------------------------|
|app_id                |Authorized without begin logged in                          |
|app_id_signup         |Same as app_id and checks if signup is enabled              |
|app                   |Same as app_id but used for app assets                      |
|app_access            |Authorized when a user is logged in                         |
|admin                 |Authorized when admin is logged in                          |
|app_external          |Authorized for external url and sending encrypted messages  |
|iam_user              |Authenticates user login in IAM                             |
|iam_provider          |Authenticates provider user login in IAM                    |
|iam_admin             |Authenticates admin login in IAM                            |

## REST API using openAPI pattern

The openAPI implemented pattern for REST API documentation uses JSON format and is used to define paths, methods, validation rules, operationId and function parameters.
Parameters server_validation* define how to validate.
Parameters server_function_parmeter* define what parameters to use for each function.

@{CONFIG_REST_API}