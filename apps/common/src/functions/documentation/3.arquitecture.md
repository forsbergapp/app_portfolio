# Arquitecture

[![Arquitecture diagram](/common/documents/arquitecture_small.webp)](/common/documents/arquitecture.webp)

Project follows software as a service (SaaS) pattern

Server uses Express framework pattern

Comparison of implementation

|Express                                            |App Portfolio                                                                  |
|:--------------------------------------------------|:------------------------------------------------------------------------------|
|limited HTTP2 support		                        |supports anything NodeJs supports                                              |
|responses phonemic errors not OWASP	            |logographic OWASP recommended responses                                        |
|different functionality how to route               |switch ... case  [/path] [middlewarefunction] [bff]                            |
|mounts not type declared app function on createServer|mounts type declared app function on createServer                             |
|req.body                                           |if req.headers['content-type'] =='application/json' read req.on 'data' and req.on 'end'|
|req.protocol                                       |req.socket.encrypted?'https':'http'                                            |
|req.ip                                             |req.socket.remoteAddress                                                       |
|req.hostname                                       |req.headers.host                                                       |
|req.path                                           |req.url                                                       |
|req.originalUrl                                    |req.url                                                       |
|req.route                                          |{path:''}                                                       |
|req.query                                          |reads req.path and uses Array.from, URLSearchParams, reduce() and decodeURIComponent()|
|res.type                                           |res.setHeader('Content-Type', type)|
|res.send                                           |function with res.getHeader, res.type, res.write and res.end|
|res.sendFile                                       |fs.createReadStream, readStream.on and readStream.pipe|
|res.redirect                                       |res.writeHead(301, {'Location':url}) and res.end|
