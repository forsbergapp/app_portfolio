/**
 * @module apps/common/common
 */

/** 
 * @import { common} from '../../../common_types.js' 
 */

/**@type{common['COMMON_WINDOW']} */
const COMMON_WINDOW = window;

/**@type{common['COMMON_DOCUMENT']} */
const COMMON_DOCUMENT = document;

/**
 * @name ICON_DUPLICATE
 * @description Icons duplicates for performance, svg contains template
 * @constant
 * @type{Object.<string,string>} 
 */
const ICON_DUPLICATE = {
    user:       '<svg $1 viewBox="0 0 448 512"><path $2 d="M224 248a120 120 0 1 0 0-240 120 120 0 1 0 0 240zm-29.7 56C95.8 304 16 383.8 16 482.3 16 498.7 29.3 512 45.7 512l356.6 0c16.4 0 29.7-13.3 29.7-29.7 0-98.5-79.8-178.3-178.3-178.3l-59.4 0z"/></svg>',
    user2:      '<svg $1 viewBox="0 0 576 512"><path $2 d="M64 128a112 112 0 1 1 224 0 112 112 0 1 1 -224 0zM0 464c0-97.2 78.8-176 176-176s176 78.8 176 176l0 6c0 23.2-18.8 42-42 42L42 512c-23.2 0-42-18.8-42-42l0-6zM432 64a96 96 0 1 1 0 192 96 96 0 1 1 0-192zm0 240c79.5 0 144 64.5 144 144l0 22.4c0 23-18.6 41.6-41.6 41.6l-144.8 0c6.6-12.5 10.4-26.8 10.4-42l0-6c0-51.5-17.4-98.9-46.5-136.7 22.6-14.7 49.6-23.3 78.5-23.3z"/></svg>',
    users3:     '<svg $1 viewBox="0 0 640 512"><path $2 d="M320 16a104 104 0 1 1 0 208 104 104 0 1 1 0-208zM96 88a72 72 0 1 1 0 144 72 72 0 1 1 0-144zM0 416c0-70.7 57.3-128 128-128 12.8 0 25.2 1.9 36.9 5.4-32.9 36.8-52.9 85.4-52.9 138.6l0 16c0 11.4 2.4 22.2 6.7 32L32 480c-17.7 0-32-14.3-32-32l0-32zm521.3 64c4.3-9.8 6.7-20.6 6.7-32l0-16c0-53.2-20-101.8-52.9-138.6 11.7-3.5 24.1-5.4 36.9-5.4 70.7 0 128 57.3 128 128l0 32c0 17.7-14.3 32-32 32l-86.7 0zM472 160a72 72 0 1 1 144 0 72 72 0 1 1 -144 0zM160 432c0-88.4 71.6-160 160-160s160 71.6 160 160l0 16c0 17.7-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32l0-16z"/></svg>',
    key:        '<svg $1 viewBox="0 0 24 24"><path $2 d="M3.433 17.325 3.079 19.8a1 1 0 0 0 1.131 1.131l2.475-.354C7.06 20.524 8 18 8 18s.472.405.665.466c.412.13.813-.274.948-.684L10 16.01s.577.292.786.335c.266.055.524-.109.707-.293a.988.988 0 0 0 .241-.391L12 14.01s.675.187.906.214c.263.03.519-.104.707-.293l1.138-1.137a5.502 5.502 0 0 0 5.581-1.338 5.507 5.507 0 0 0 0-7.778 5.507 5.507 0 0 0-7.778 0 5.5 5.5 0 0 0-1.338 5.581l-7.501 7.5a.994.994 0 0 0-.282.566zM18.504 5.506a2.919 2.919 0 0 1 0 4.122l-4.122-4.122a2.919 2.919 0 0 1 4.122 0z"/></svg>',
    chart_bar:  '<svg $1 viewBox="0 0 512 512"><path $2 d="M192 80c0-26.5 21.5-48 48-48l32 0c26.5 0 48 21.5 48 48l0 352c0 26.5-21.5 48-48 48l-32 0c-26.5 0-48-21.5-48-48l0-352zM0 272c0-26.5 21.5-48 48-48l32 0c26.5 0 48 21.5 48 48l0 160c0 26.5-21.5 48-48 48l-32 0c-26.5 0-48-21.5-48-48L0 272zM432 96l32 0c26.5 0 48 21.5 48 48l0 288c0 26.5-21.5 48-48 48l-32 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48z"/></svg>',
    database:   '<svg $1 viewBox="0 0 448 512"><path $2 d="M448 205.8c-14.8 9.8-31.8 17.7-49.5 24-47 16.8-108.7 26.2-174.5 26.2S96.4 246.5 49.5 229.8c-17.6-6.3-34.7-14.2-49.5-24L0 288c0 44.2 100.3 80 224 80s224-35.8 224-80l0-82.2zm0-77.8l0-48C448 35.8 347.7 0 224 0S0 35.8 0 80l0 48c0 44.2 100.3 80 224 80s224-35.8 224-80zM398.5 389.8C351.6 406.5 289.9 416 224 416S96.4 406.5 49.5 389.8c-17.6-6.3-34.7-14.2-49.5-24L0 432c0 44.2 100.3 80 224 80s224-35.8 224-80l0-66.2c-14.8 9.8-31.8 17.7-49.5 24z"/></svg>',             
    globe:      '<svg $1 viewBox="0 0 512 512"><path $2 d="M351.9 280l-190.9 0c2.9 64.5 17.2 123.9 37.5 167.4 11.4 24.5 23.7 41.8 35.1 52.4 11.2 10.5 18.9 12.2 22.9 12.2s11.7-1.7 22.9-12.2c11.4-10.6 23.7-28 35.1-52.4 20.3-43.5 34.6-102.9 37.5-167.4zM160.9 232l190.9 0C349 167.5 334.7 108.1 314.4 64.6 303 40.2 290.7 22.8 279.3 12.2 268.1 1.7 260.4 0 256.4 0s-11.7 1.7-22.9 12.2c-11.4 10.6-23.7 28-35.1 52.4-20.3 43.5-34.6 102.9-37.5 167.4zm-48 0C116.4 146.4 138.5 66.9 170.8 14.7 78.7 47.3 10.9 131.2 1.5 232l111.4 0zM1.5 280c9.4 100.8 77.2 184.7 169.3 217.3-32.3-52.2-54.4-131.7-57.9-217.3L1.5 280zm398.4 0c-3.5 85.6-25.6 165.1-57.9 217.3 92.1-32.7 159.9-116.5 169.3-217.3l-111.4 0zm111.4-48C501.9 131.2 434.1 47.3 342 14.7 374.3 66.9 396.4 146.4 399.9 232l111.4 0z"/></svg>',
    sun:        '<svg $1 viewBox="0 0 640 640"><path $2 d="M210.2 53.9C217.6 50.8 226 51.7 232.7 56.1L320.5 114.3L408.3 56.1C415 51.7 423.4 50.9 430.8 53.9C438.2 56.9 443.4 63.5 445 71.3L465.9 174.5L569.1 195.4C576.9 197 583.5 202.4 586.5 209.7C589.5 217 588.7 225.5 584.3 232.2L526.1 320L584.3 407.8C588.7 414.5 589.5 422.9 586.5 430.3C583.5 437.7 576.9 443.1 569.1 444.6L465.8 465.4L445 568.7C443.4 576.5 438 583.1 430.7 586.1C423.4 589.1 414.9 588.3 408.2 583.9L320.4 525.7L232.6 583.9C225.9 588.3 217.5 589.1 210.1 586.1C202.7 583.1 197.3 576.5 195.8 568.7L175 465.4L71.7 444.5C63.9 442.9 57.3 437.5 54.3 430.2C51.3 422.9 52.1 414.4 56.5 407.7L114.7 320L56.5 232.2C52.1 225.5 51.3 217.1 54.3 209.7C57.3 202.3 63.9 196.9 71.7 195.4L175 174.6L195.9 71.3C197.5 63.5 202.9 56.9 210.2 53.9zM239.6 320C239.6 275.6 275.6 239.6 320 239.6C364.4 239.6 400.4 275.6 400.4 320C400.4 364.4 364.4 400.4 320 400.4C275.6 400.4 239.6 364.4 239.6 320zM448.4 320C448.4 249.1 390.9 191.6 320 191.6C249.1 191.6 191.6 249.1 191.6 320C191.6 390.9 249.1 448.4 320 448.4C390.9 448.4 448.4 390.9 448.4 320z"/></svg>',
    moon:       '<svg $1 viewBox="0 0 512 512"><path $2 d="M256 0C114.6 0 0 114.6 0 256S114.6 512 256 512c68.8 0 131.3-27.2 177.3-71.4 7.3-7 9.4-17.9 5.3-27.1s-13.7-14.9-23.8-14.1c-4.9 .4-9.8 .6-14.8 .6-101.6 0-184-82.4-184-184 0-72.1 41.5-134.6 102.1-164.8 9.1-4.5 14.3-14.3 13.1-24.4S322.6 8.5 312.7 6.3C294.4 2.2 275.4 0 256 0z"/></svg>',
    calendar:   '<svg $1 viewBox="0 0 448 512"><path $2 d="M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 32 0c35.3 0 64 28.7 64 64l0 288c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 128C0 92.7 28.7 64 64 64l32 0 0-32c0-17.7 14.3-32 32-32zM64 240l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm128 0l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zM64 368l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zm112 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16z"/></svg>',
    eye:        '<svg $1 viewBox="0 0 576 512"><path $2 d="M288 32c-80.8 0-145.5 36.8-192.6 80.6-46.8 43.5-78.1 95.4-93 131.1-3.3 7.9-3.3 16.7 0 24.6 14.9 35.7 46.2 87.7 93 131.1 47.1 43.7 111.8 80.6 192.6 80.6s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1 3.3-7.9 3.3-16.7 0-24.6-14.9-35.7-46.2-87.7-93-131.1-47.1-43.7-111.8-80.6-192.6-80.6zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64-11.5 0-22.3-3-31.7-8.4-1 10.9-.1 22.1 2.9 33.2 13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-12.2-45.7-55.5-74.8-101.1-70.8 5.3 9.3 8.4 20.1 8.4 31.7z"/></svg>',
    send:       '<svg $1 viewBox="0 0 24 24"><path $2 d="m2.6 13.083 3.452 1.511L16 9.167l-6 7 8.6 3.916a1 1 0 0 0 1.399-.85l1-15a1.002 1.002 0 0 0-1.424-.972l-17 8a1.002 1.002 0 0 0 .025 1.822zM8 22.167l4.776-2.316L8 17.623z"/></svg>',
    edit:       '<svg $1 viewBox="0 0 512 512"><path $2 d="M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L368 46.1 465.9 144 490.3 119.6c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L432 177.9 334.1 80 172.4 241.7zM96 64C43 64 0 107 0 160L0 416c0 53 43 96 96 96l256 0c53 0 96-43 96-96l0-96c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 96c0 17.7-14.3 32-32 32L96 448c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 64z"/></svg>',
    cancel:     '<svg $1 viewBox="0 0 512 512"><path $2 d="M256 512a256 256 0 1 0 0-512 256 256 0 1 0 0 512zM167 167c9.4-9.4 24.6-9.4 33.9 0l55 55 55-55c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-55 55 55 55c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-55-55-55 55c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l55-55-55-55c-9.4-9.4-9.4-24.6 0-33.9z"/></svg>',
    ok:         '<svg $1 viewBox="0 0 512 512"><path $2 d="M256 512a256 256 0 1 1 0-512 256 256 0 1 1 0 512zM374 145.7c-10.7-7.8-25.7-5.4-33.5 5.3L221.1 315.2 169 263.1c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l72 72c5 5 11.8 7.5 18.8 7s13.4-4.1 17.5-9.8L379.3 179.2c7.8-10.7 5.4-25.7-5.3-33.5z"/></svg>',
    gps_position:'<svg $1 viewBox="0 0 320 512"><path $2 d="M192 284.4C256.1 269.9 304 212.5 304 144 304 64.5 239.5 0 160 0S16 64.5 16 144c0 68.5 47.9 125.9 112 140.4L128 480c0 17.7 14.3 32 32 32s32-14.3 32-32l0-195.6zM168 96c-30.9 0-56 25.1-56 56 0 13.3-10.7 24-24 24s-24-10.7-24-24c0-57.4 46.6-104 104-104 13.3 0 24 10.7 24 24s-10.7 24-24 24z"/></svg>',
    weekday:    '<svg $1 viewBox="0 0 448 512"><path $2 d="M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 32 0c35.3 0 64 28.7 64 64l0 288c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 128C0 92.7 28.7 64 64 64l32 0 0-32c0-17.7 14.3-32 32-32zm0 256c-17.7 0-32 14.3-32 32l0 64c0 17.7 14.3 32 32 32l192 0c17.7 0 32-14.3 32-32l0-64c0-17.7-14.3-32-32-32l-192 0z"/></svg>'
}
/**
 * @name COMMON_GLOBAL
 * @description Globals, svg contains template
 * @constant
 * @type{common['CommonGlobal']} 
 */
const COMMON_GLOBAL = {
    ICONS : {
        home:                   '<svg $1 viewBox="4 4 16 16"><g stroke-width="0"></g><g stroke-linecap="round" stroke-linejoin="round"></g><g > <path $2 d="M5.5 20V13H3L12 5L21 13H18.5V20H14.5V16.5C14.5 15.6716 13.8284 15 13 15H11C10.1716 15 9.5 15.6716 9.5 16.5V20H6.5Z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>',
        framework_js:           '<svg $1 viewBox="0 0 32 32"><g stroke-width="0"></g><g stroke-linecap="round" stroke-linejoin="round"></g><g > <path $2 d="M17.313 14.789h-2.809c0 2.422-0.011 4.829-0.011 7.254 0.033 0.329 0.051 0.712 0.051 1.099 0 0.81-0.081 1.601-0.236 2.365l0.013-0.076c-0.412 0.861-1.475 0.751-1.957 0.6-0.451-0.242-0.808-0.609-1.031-1.055l-0.006-0.014c-0.044-0.094-0.097-0.174-0.16-0.246l0.001 0.001-2.281 1.406c0.367 0.79 0.934 1.434 1.637 1.885l0.018 0.011c0.763 0.427 1.675 0.678 2.645 0.678 0.484 0 0.954-0.063 1.401-0.18l-0.038 0.009c0.988-0.248 1.793-0.89 2.254-1.744l0.009-0.019c0.359-0.914 0.566-1.973 0.566-3.080 0-0.388-0.026-0.77-0.075-1.145l0.005 0.044c0.015-2.567 0-5.135 0-7.722zM28.539 23.843c-0.219-1.368-1.11-2.518-3.753-3.59-0.92-0.431-1.942-0.731-2.246-1.425-0.063-0.158-0.099-0.341-0.099-0.532 0-0.124 0.015-0.244 0.044-0.359l-0.002 0.010c0.208-0.55 0.731-0.935 1.343-0.935 0.199 0 0.388 0.040 0.559 0.113l-0.009-0.004c0.552 0.19 0.988 0.594 1.215 1.112l0.005 0.013c1.292-0.845 1.292-0.845 2.193-1.406-0.216-0.369-0.459-0.689-0.734-0.977l0.002 0.002c-0.767-0.814-1.852-1.32-3.056-1.32-0.171 0-0.34 0.010-0.505 0.030l0.020-0.002-0.881 0.111c-0.856 0.194-1.587 0.639-2.133 1.252l-0.003 0.004c-0.535 0.665-0.859 1.519-0.859 2.449 0 1.279 0.613 2.415 1.56 3.131l0.010 0.007c1.706 1.275 4.2 1.555 4.519 2.755 0.3 1.462-1.087 1.931-2.457 1.762-0.957-0.218-1.741-0.83-2.184-1.652l-0.009-0.017-2.287 1.313c0.269 0.536 0.607 0.994 1.011 1.385l0.001 0.001c2.174 2.194 7.61 2.082 8.586-1.255 0.113-0.364 0.178-0.782 0.178-1.215 0-0.3-0.031-0.593-0.091-0.875l0.005 0.028zM1.004 1.004h29.991v29.991h-29.991z"></path> </g></svg>',
        framework_vue:          '<svg $1 viewBox="0 0 24 24" ><g stroke-width="0"></g><g stroke-linecap="round" stroke-linejoin="round"></g><g> <path $2 d="M19.1143 2H15L12 6.9L9.42857 2H0L12 23L24 2H19.1143ZM3 3.75H5.91429L12 14.6L18.0857 3.75H21L12 19.5L3 3.75Z" ></path> </g></svg>',
        framework_react:        '<svg $1 viewBox="0 0 512 512"><path $2 d="M418.2 177.2c-5.4-1.8-10.8-3.5-16.2-5.1 .9-3.7 1.7-7.4 2.5-11.1 12.3-59.6 4.2-107.5-23.1-123.3-26.3-15.1-69.2 .6-112.6 38.4-4.3 3.7-8.5 7.6-12.5 11.5-2.7-2.6-5.5-5.2-8.3-7.7-45.5-40.4-91.1-57.4-118.4-41.5-26.2 15.2-34 60.3-23 116.7 1.1 5.6 2.3 11.1 3.7 16.7-6.4 1.8-12.7 3.8-18.6 5.9-53.4 18.5-91.7 47.7-91.7 77.9 0 31.2 40.8 62.5 96.3 81.5 4.5 1.5 9 3 13.6 4.3-1.5 6-2.8 11.9-4 18-10.5 55.5-2.3 99.5 23.9 114.6 27 15.6 72.4-.4 116.6-39.1 3.5-3.1 7-6.3 10.5-9.7 4.4 4.3 9 8.4 13.6 12.4 42.8 36.8 85.1 51.7 111.2 36.6 27-15.6 35.8-62.9 24.4-120.5-.9-4.4-1.9-8.9-3-13.5 3.2-.9 6.3-1.9 9.4-2.9 57.7-19.1 99.5-50 99.5-81.7 0-30.3-39.4-59.7-93.8-78.4zM282.9 92.3c37.2-32.4 71.9-45.1 87.7-36 16.9 9.7 23.4 48.9 12.8 100.4-.7 3.4-1.4 6.7-2.3 10-22.2-5-44.7-8.6-67.3-10.6-13-18.6-27.2-36.4-42.6-53.1 3.9-3.7 7.7-7.2 11.7-10.7zM167.2 307.5c5.1 8.7 10.3 17.4 15.8 25.9-15.6-1.7-31.1-4.2-46.4-7.5 4.4-14.4 9.9-29.3 16.3-44.5 4.6 8.8 9.3 17.5 14.3 26.1zM136.9 187.2c14.4-3.2 29.7-5.8 45.6-7.8-5.3 8.3-10.5 16.8-15.4 25.4-4.9 8.5-9.7 17.2-14.2 26-6.3-14.9-11.6-29.5-16-43.6zm27.4 68.9c6.6-13.8 13.8-27.3 21.4-40.6s15.8-26.2 24.4-38.9c15-1.1 30.3-1.7 45.9-1.7s31 .6 45.9 1.7c8.5 12.6 16.6 25.5 24.3 38.7s14.9 26.7 21.7 40.4c-6.7 13.8-13.9 27.4-21.6 40.8-7.6 13.3-15.7 26.2-24.2 39-14.9 1.1-30.4 1.6-46.1 1.6s-30.9-.5-45.6-1.4c-8.7-12.7-16.9-25.7-24.6-39s-14.8-26.8-21.5-40.6zm180.6 51.2c5.1-8.8 9.9-17.7 14.6-26.7 6.4 14.5 12 29.2 16.9 44.3-15.5 3.5-31.2 6.2-47 8 5.4-8.4 10.5-17 15.5-25.6zm14.4-76.5c-4.7-8.8-9.5-17.6-14.5-26.2-4.9-8.5-10-16.9-15.3-25.2 16.1 2 31.5 4.7 45.9 8-4.6 14.8-10 29.2-16.1 43.4zM256.2 118.3c10.5 11.4 20.4 23.4 29.6 35.8-19.8-.9-39.7-.9-59.5 0 9.8-12.9 19.9-24.9 29.9-35.8zM140.2 57c16.8-9.8 54.1 4.2 93.4 39 2.5 2.2 5 4.6 7.6 7-15.5 16.7-29.8 34.5-42.9 53.1-22.6 2-45 5.5-67.2 10.4-1.3-5.1-2.4-10.3-3.5-15.5-9.4-48.4-3.2-84.9 12.6-94zM115.7 320.6c-4.2-1.2-8.3-2.5-12.4-3.9-21.3-6.7-45.5-17.3-63-31.2-10.1-7-16.9-17.8-18.8-29.9 0-18.3 31.6-41.7 77.2-57.6 5.7-2 11.5-3.8 17.3-5.5 6.8 21.7 15 43 24.5 63.6-9.6 20.9-17.9 42.5-24.8 64.5zm116.6 98c-16.5 15.1-35.6 27.1-56.4 35.3-11.1 5.3-23.9 5.8-35.3 1.3-15.9-9.2-22.5-44.5-13.5-92 1.1-5.6 2.3-11.2 3.7-16.7 22.4 4.8 45 8.1 67.9 9.8 13.2 18.7 27.7 36.6 43.2 53.4-3.2 3.1-6.4 6.1-9.6 8.9zm24.5-24.3c-10.2-11-20.4-23.2-30.3-36.3 9.6 .4 19.5 .6 29.5 .6 10.3 0 20.4-.2 30.4-.7-9.2 12.7-19.1 24.8-29.6 36.4zm130.7 30c-.9 12.2-6.9 23.6-16.5 31.3-15.9 9.2-49.8-2.8-86.4-34.2-4.2-3.6-8.4-7.5-12.7-11.5 15.3-16.9 29.4-34.8 42.2-53.6 22.9-1.9 45.7-5.4 68.2-10.5 1 4.1 1.9 8.2 2.7 12.2 4.9 21.6 5.7 44.1 2.5 66.3zm18.2-107.5c-2.8 .9-5.6 1.8-8.5 2.6-7-21.8-15.6-43.1-25.5-63.8 9.6-20.4 17.7-41.4 24.5-62.9 5.2 1.5 10.2 3.1 15 4.7 46.6 16 79.3 39.8 79.3 58 0 19.6-34.9 44.9-84.8 61.4zM256 301.8a45.8 45.8 0 1 0 0-91.6 45.8 45.8 0 1 0 0 91.6z"></path></svg>',
        apps:                   '<svg $1 viewBox="0 0 24 24"><path $2 d="M4 11h6a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1zm10 0h6a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1h-6a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1zM4 21h6a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1zm10 0h6a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1h-6a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1z"/></svg>',
        maintenance:            '<svg $1 viewBox="0 0 576 512"><path $2 d="M70.8-6.7c5.4-5.4 13.8-6.2 20.2-2L209.9 70.5c8.9 5.9 14.2 15.9 14.2 26.6l0 49.6 90.8 90.8c33.3-15 73.9-8.9 101.2 18.5L542.2 382.1c18.7 18.7 18.7 49.1 0 67.9l-60.1 60.1c-18.7 18.7-49.1 18.7-67.9 0L288.1 384c-27.4-27.4-33.5-67.9-18.5-101.2l-90.8-90.8-49.6 0c-10.7 0-20.7-5.3-26.6-14.2L23.4 58.9c-4.2-6.3-3.4-14.8 2-20.2L70.8-6.7zm145 303.5c-6.3 36.9 2.3 75.9 26.2 107.2l-94.9 95c-28.1 28.1-73.7 28.1-101.8 0s-28.1-73.7 0-101.8l135.4-135.5 35.2 35.1zM384.1 0c20.1 0 39.4 3.7 57.1 10.5 10 3.8 11.8 16.5 4.3 24.1L388.8 91.3c-3 3-4.7 7.1-4.7 11.3l0 41.4c0 8.8 7.2 16 16 16l41.4 0c4.2 0 8.3-1.7 11.3-4.7l56.7-56.7c7.6-7.5 20.3-5.7 24.1 4.3 6.8 17.7 10.5 37 10.5 57.1 0 43.2-17.2 82.3-45 111.1l-49.1-49.1c-33.1-33-78.5-45.7-121.1-38.4l-56.8-56.8 0-29.7-.2-5c-.8-12.4-4.4-24.3-10.5-34.9 29.4-35 73.4-57.2 122.7-57.3z"/></svg>',
                                //old üö®
        alert:                  '<svg $1 viewBox="0 0 512 512"><path $2 d="M461.2 18.9C472.7 24 480 35.4 480 48l0 416c0 12.6-7.3 24-18.8 29.1s-24.8 3.2-34.3-5.1l-46.6-40.7c-43.6-38.1-98.7-60.3-156.4-63l0 95.7c0 17.7-14.3 32-32 32l-32 0c-17.7 0-32-14.3-32-32l0-96C57.3 384 0 326.7 0 256S57.3 128 128 128l84.5 0c61.8-.2 121.4-22.7 167.9-63.3l46.6-40.7c9.4-8.3 22.9-10.2 34.3-5.1zM224 320l0 .2c70.3 2.7 137.8 28.5 192 73.4l0-275.3c-54.2 44.9-121.7 70.7-192 73.4L224 320z"/></svg>',
        save:                   '<svg $1 viewBox="0 0 448 512"><path $2 d="M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-242.7c0-17-6.7-33.3-18.7-45.3L352 50.7C340 38.7 323.7 32 306.7 32L64 32zm32 96c0-17.7 14.3-32 32-32l160 0c17.7 0 32 14.3 32 32l0 64c0 17.7-14.3 32-32 32l-160 0c-17.7 0-32-14.3-32-32l0-64zM224 288a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"/></svg>',
        add:                    '<svg $1 viewBox="0 0 448 512"><path $2 d="M256 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 160-160 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l160 0 0 160c0 17.7 14.3 32 32 32s32-14.3 32-32l0-160 160 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-160 0 0-160z"/></svg>',
        remove:                 '<svg $1 viewBox="0 0 448 512"><path $2 d="M0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32z"/></svg>',
        delete:                 '<svg $1 viewBox="0 0 448 512"><path $2 d="M136.7 5.9C141.1-7.2 153.3-16 167.1-16l113.9 0c13.8 0 26 8.8 30.4 21.9L320 32 416 32c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l96 0 8.7-26.1zM32 144l384 0 0 304c0 35.3-28.7 64-64 64L96 512c-35.3 0-64-28.7-64-64l0-304zm88 64c-13.3 0-24 10.7-24 24l0 192c0 13.3 10.7 24 24 24s24-10.7 24-24l0-192c0-13.3-10.7-24-24-24zm104 0c-13.3 0-24 10.7-24 24l0 192c0 13.3 10.7 24 24 24s24-10.7 24-24l0-192c0-13.3-10.7-24-24-24zm104 0c-13.3 0-24 10.7-24 24l0 192c0 13.3 10.7 24 24 24s24-10.7 24-24l0-192c0-13.3-10.7-24-24-24z"/></svg>',
        
        lov:                    '<svg $1 viewBox="0 0 448 512"><path $2 d="M201.4 105.4c12.5-12.5 32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L224 173.3 54.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l192-192z"/></svg>',
        select:        		    '<svg $1 viewBox="0 0 448 512"><path $2 d="M201.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 338.7 54.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"/></svg>',
        send:                   ICON_DUPLICATE.send,
        email:                  '<svg $1 viewBox="0 0 512 512"><path $2 d="M48 64c-26.5 0-48 21.5-48 48 0 15.1 7.1 29.3 19.2 38.4l208 156c17.1 12.8 40.5 12.8 57.6 0l208-156c12.1-9.1 19.2-23.3 19.2-38.4 0-26.5-21.5-48-48-48L48 64zM0 196L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-188-198.4 148.8c-34.1 25.6-81.1 25.6-115.2 0L0 196z"/></svg>',
        otp:                    ICON_DUPLICATE.key,
        settings:               '<svg $1 viewBox="0 0 512 512"><path $2 d="M195.1 9.5C198.1-5.3 211.2-16 226.4-16l59.8 0c15.2 0 28.3 10.7 31.3 25.5L332 79.5c14.1 6 27.3 13.7 39.3 22.8l67.8-22.5c14.4-4.8 30.2 1.2 37.8 14.4l29.9 51.8c7.6 13.2 4.9 29.8-6.5 39.9L447 233.3c.9 7.4 1.3 15 1.3 22.7s-.5 15.3-1.3 22.7l53.4 47.5c11.4 10.1 14 26.8 6.5 39.9l-29.9 51.8c-7.6 13.1-23.4 19.2-37.8 14.4l-67.8-22.5c-12.1 9.1-25.3 16.7-39.3 22.8l-14.4 69.9c-3.1 14.9-16.2 25.5-31.3 25.5l-59.8 0c-15.2 0-28.3-10.7-31.3-25.5l-14.4-69.9c-14.1-6-27.2-13.7-39.3-22.8L73.5 432.3c-14.4 4.8-30.2-1.2-37.8-14.4L5.8 366.1c-7.6-13.2-4.9-29.8 6.5-39.9l53.4-47.5c-.9-7.4-1.3-15-1.3-22.7s.5-15.3 1.3-22.7L12.3 185.8c-11.4-10.1-14-26.8-6.5-39.9L35.7 94.1c7.6-13.2 23.4-19.2 37.8-14.4l67.8 22.5c12.1-9.1 25.3-16.7 39.3-22.8L195.1 9.5zM256.3 336a80 80 0 1 0 -.6-160 80 80 0 1 0 .6 160z"/></svg>',
        chat:                   '<svg $1 viewBox="0 0 512 512"><path $2 d="M512 240c0 132.5-114.6 240-256 240-37.1 0-72.3-7.4-104.1-20.7L33.5 510.1c-9.4 4-20.2 1.7-27.1-5.8S-2 485.8 2.8 476.8l48.8-92.2C19.2 344.3 0 294.3 0 240 0 107.5 114.6 0 256 0S512 107.5 512 240z"/></svg>',
        log:                    '<svg $1 viewBox="0 0 512 512"><path $2 d="M48 144a48 48 0 1 0 0-96 48 48 0 1 0 0 96zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L192 64zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zM48 464a48 48 0 1 0 0-96 48 48 0 1 0 0 96zM96 256a48 48 0 1 0 -96 0 48 48 0 1 0 96 0z"/></svg>',
        chart_pie:              '<svg $1 viewBox="0 0 576 512"><path $2 d="M512.4 240l-176 0c-17.7 0-32-14.3-32-32l0-176c0-17.7 14.4-32.2 31.9-29.9 107 14.2 191.8 99 206 206 2.3 17.5-12.2 31.9-29.9 31.9zM222.6 37.2c18.1-3.8 33.8 11 33.8 29.5l0 197.3c0 5.6 2 11 5.5 15.3L394 438.7c11.7 14.1 9.2 35.4-6.9 44.1-34.1 18.6-73.2 29.2-114.7 29.2-132.5 0-240-107.5-240-240 0-115.5 81.5-211.9 190.2-234.8zM477.8 288l64 0c18.5 0 33.3 15.7 29.5 33.8-10.2 48.4-35 91.4-69.6 124.2-12.3 11.7-31.6 9.2-42.4-3.9L374.9 340.4c-17.3-20.9-2.4-52.4 24.6-52.4l78.2 0z"/></svg>',
        chart_bar:              ICON_DUPLICATE.chart_bar,
        monitor:                '<svg $1 viewBox="0 0 512 512"><path $2 d="M48 144a48 48 0 1 0 0-96 48 48 0 1 0 0 96zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L192 64zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zM48 464a48 48 0 1 0 0-96 48 48 0 1 0 0 96zM96 256a48 48 0 1 0 -96 0 48 48 0 1 0 96 0z"/></svg>',
        server:                 '<svg $1 viewBox="0 0 448 512"><path $2 d="M64 32C28.7 32 0 60.7 0 96l0 64c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-64c0-35.3-28.7-64-64-64L64 32zm216 72a24 24 0 1 1 0 48 24 24 0 1 1 0-48zm56 24a24 24 0 1 1 48 0 24 24 0 1 1 -48 0zM64 288c-35.3 0-64 28.7-64 64l0 64c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-64c0-35.3-28.7-64-64-64L64 288zm216 72a24 24 0 1 1 0 48 24 24 0 1 1 0-48zm56 24a24 24 0 1 1 48 0 24 24 0 1 1 -48 0z"/></svg>',
        database:               '<svg $1 viewBox="0 0 24 24"><path $2 d="M20 6c0-2.168-3.663-4-8-4S4 3.832 4 6v2c0 2.168 3.663 4 8 4s8-1.832 8-4V6zm-8 13c-4.337 0-8-1.832-8-4v3c0 2.168 3.663 4 8 4s8-1.832 8-4v-3c0 2.168-3.663 4-8 4z"/><path $2 d="M20 10c0 2.168-3.663 4-8 4s-8-1.832-8-4v3c0 2.168 3.663 4 8 4s8-1.832 8-4v-3z"/></svg>',
        user_connections:       '<svg $1 viewBox="0 0 576 512"><path $2 d="M64 0C28.7 0 0 28.7 0 64l0 72c0 13.3 10.7 24 24 24s24-10.7 24-24l0-72c0-8.8 7.2-16 16-16l72 0c13.3 0 24-10.7 24-24S149.3 0 136 0L64 0zM440 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l72 0c8.8 0 16 7.2 16 16l0 72c0 13.3 10.7 24 24 24s24-10.7 24-24l0-72c0-35.3-28.7-64-64-64L440 0zM48 376c0-13.3-10.7-24-24-24S0 362.7 0 376l0 72c0 35.3 28.7 64 64 64l72 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-72 0c-8.8 0-16-7.2-16-16l0-72zm528 0c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 72c0 8.8-7.2 16-16 16l-72 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l72 0c35.3 0 64-28.7 64-64l0-72zM288 216a56 56 0 1 0 0-112 56 56 0 1 0 0 112zm0 40c-53 0-96 43-96 96l0 24c0 13.3 10.7 24 24 24l144 0c13.3 0 24-10.7 24-24l0-24c0-53-43-96-96-96zm192-64a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM168 272.3c-49.3 4.1-88 45.3-88 95.7l0 10.7c0 11.8 9.6 21.3 21.3 21.3l46.8 0c-2.7-7.5-4.1-15.6-4.1-24l0-24c0-29.5 8.8-56.9 24-79.7zM427.9 400l46.8 0c11.8 0 21.3-9.6 21.3-21.3l0-10.7c0-50.3-38.7-91.6-88-95.7 15.2 22.8 24 50.2 24 79.7l0 24c0 8.4-1.4 16.5-4.1 24zM192 192a48 48 0 1 0 -96 0 48 48 0 1 0 96 0z"/></svg>',
        database_started:       '<svg $1 viewBox="0 0 576 512"><path $2 d="M566.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L466.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l434.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128z"/></svg>',
        database_stat:          ICON_DUPLICATE.chart_bar,
        broadcast:              '<svg $1 viewBox="0 0 576 512"><path $2 d="M87.9 11.5c-11.3-6.9-26.1-3.2-33 8.1-24.8 41-39 89.1-39 140.4s14.2 99.4 39 140.4c6.9 11.3 21.6 15 33 8.1s15-21.6 8.1-33C75.7 241.9 64 202.3 64 160S75.7 78.1 96.1 44.4c6.9-11.3 3.2-26.1-8.1-33zm400.1 0c-11.3 6.9-15 21.6-8.1 33 20.4 33.7 32.1 73.3 32.1 115.6s-11.7 81.9-32.1 115.6c-6.9 11.3-3.2 26.1 8.1 33s26.1 3.2 33-8.1c24.8-41 39-89.1 39-140.4S545.8 60.6 521 19.6c-6.9-11.3-21.6-15-33-8.1zM320 215.4c19.1-11.1 32-31.7 32-55.4 0-35.3-28.7-64-64-64s-64 28.7-64 64c0 23.7 12.9 44.4 32 55.4L256 480c0 17.7 14.3 32 32 32s32-14.3 32-32l0-264.6zM180.2 91c7.2-11.2 3.9-26-7.2-33.2s-26-3.9-33.2 7.2c-17.6 27.4-27.8 60-27.8 95s10.2 67.6 27.8 95c7.2 11.2 22 14.4 33.2 7.2s14.4-22 7.2-33.2c-12.8-19.9-20.2-43.6-20.2-69s7.4-49.1 20.2-69zM436.2 65c-7.2-11.2-22-14.4-33.2-7.2s-14.4 22-7.2 33.2c12.8 19.9 20.2 43.6 20.2 69s-7.4 49.1-20.2 69c-7.2 11.2-3.9 26 7.2 33.2s26 3.9 33.2-7.2c17.6-27.4 27.8-60 27.8-95s-10.2-67.6-27.8-95z"/></svg>',
        checkbox_checked:       '<svg $1 viewBox="0 0 448 512"><path $2 d="M384 32c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96C0 60.7 28.7 32 64 32l320 0zM342 145.7c-10.7-7.8-25.7-5.4-33.5 5.3L189.1 315.2 137 263.1c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l72 72c5 5 11.9 7.5 18.8 7s13.4-4.1 17.5-9.8L347.3 179.2c7.8-10.7 5.4-25.7-5.3-33.5z"/></svg>',
        checkbox_empty:         '‚òê',
        info:                   '<svg $1 viewBox="0 0 512 512"><path $2 d="M256 512a256 256 0 1 0 0-512 256 256 0 1 0 0 512zM224 160a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm-8 64l48 0c13.3 0 24 10.7 24 24l0 88 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-80 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l24 0 0-64-24 0c-13.3 0-24-10.7-24-24s10.7-24 24-24z"/></svg>',
        close:                  ICON_DUPLICATE.cancel,
        online:                 '<svg $1 viewBox="0 0 512 512"><path $2 d="M0 256a256 256 0 1 1 512 0 256 256 0 1 1 -512 0z"/></svg>',
        search:                 '<svg $1 viewBox="0 0 512 512"><path $2 d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376C296.3 401.1 253.9 416 208 416 93.1 416 0 322.9 0 208S93.1 0 208 0 416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"/></svg>',
        menu_open:              '<svg $1 viewBox="0 0 448 512"><path $2 d="M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"/></svg>',
        first:                  '<svg $1 viewBox="0 0 384 512"><path $2 d="M363 36.8c-12.9-7-28.7-6.3-41 1.8L64 208.1 64 64c0-17.7-14.3-32-32-32S0 46.3 0 64L0 448c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144.1 258 169.6c12.3 8.1 28 8.8 41 1.8s21-20.5 21-35.2l0-368c0-14.7-8.1-28.2-21-35.2z"/></svg>',
        previous:               '<svg $1 viewBox="0 0 256 512"><path $2 d="M7.7 235.8c-10.3 12.6-9.5 31.1 2.2 42.8l128 128c9.2 9.2 22.9 11.9 34.9 6.9s19.8-16.6 19.8-29.6l0-256c0-12.9-7.8-24.6-19.8-29.6s-25.7-2.2-34.9 6.9l-128 128-2.2 2.4z"/></svg>',
        next:                   '<svg $1 viewBox="0 0 256 512"><path $2 d="M249.3 235.8c10.2 12.6 9.5 31.1-2.2 42.8l-128 128c-9.2 9.2-22.9 11.9-34.9 6.9S64.5 396.9 64.5 384l0-256c0-12.9 7.8-24.6 19.8-29.6s25.7-2.2 34.9 6.9l128 128 2.2 2.4z"/></svg>',
        last:                   '<svg $1 viewBox="0 0 384 512"><path $2 d="M21 36.8c12.9-7 28.7-6.3 41 1.8L320 208.1 320 64c0-17.7 14.3-32 32-32s32 14.3 32 32l0 384c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-144.1-258 169.6c-12.3 8.1-28 8.8-41 1.8S0 454.7 0 440L0 72C0 57.3 8.1 43.8 21 36.8z"/></svg>',
        slider_left:            '<svg $1 viewBox="0 0 512 512"><path $2 d="M512 256a256 256 0 1 0 -512 0 256 256 0 1 0 512 0zM271 135c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-87 87 87 87c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0L167 273c-9.4-9.4-9.4-24.6 0-33.9L271 135z"/></svg>',
        slider_right:           '<svg $1 viewBox="0 0 512 512"><path $2 d="M0 256a256 256 0 1 0 512 0 256 256 0 1 0 -512 0zM241 377c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l87-87-87-87c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0L345 239c9.4 9.4 9.4 24.6 0 33.9L241 377z"/></svg>',
        align_left:             '<svg $1 viewBox="0 0 448 512"><path $2 d="M288 64c0 17.7-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l224 0c17.7 0 32 14.3 32 32zm0 256c0 17.7-14.3 32-32 32L32 352c-17.7 0-32-14.3-32-32s14.3-32 32-32l224 0c17.7 0 32 14.3 32 32zM0 192c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 224c-17.7 0-32-14.3-32-32zM448 448c0 17.7-14.3 32-32 32L32 480c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"/></svg>',
        align_center:           '<svg $1 viewBox="0 0 448 512"><path $2 d="M448 64c0-17.7-14.3-32-32-32L32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32zm0 256c0-17.7-14.3-32-32-32L32 288c-17.7 0-32 14.3-32 32s14.3 32 32 32l384 0c17.7 0 32-14.3 32-32zM0 192c0 17.7 14.3 32 32 32l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L32 160c-17.7 0-32 14.3-32 32zM448 448c0-17.7-14.3-32-32-32L32 416c-17.7 0-32 14.3-32 32s14.3 32 32 32l384 0c17.7 0 32-14.3 32-32z"/></svg>',
        align_right:            '<svg $1 viewBox="0 0 448 512"><path $2 d="M448 64c0 17.7-14.3 32-32 32L192 96c-17.7 0-32-14.3-32-32s14.3-32 32-32l224 0c17.7 0 32 14.3 32 32zm0 256c0 17.7-14.3 32-32 32l-224 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l224 0c17.7 0 32 14.3 32 32zM0 192c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 224c-17.7 0-32-14.3-32-32zM448 448c0 17.7-14.3 32-32 32L32 480c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"/></svg>',
        cancel:                 ICON_DUPLICATE.cancel,
        ok:                     ICON_DUPLICATE.ok, 
        zoomout:                '<svg $1 viewBox="0 0 512 512"><path $2 d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376C296.3 401.1 253.9 416 208 416 93.1 416 0 322.9 0 208S93.1 0 208 0 416 93.1 416 208zM136 184c-13.3 0-24 10.7-24 24s10.7 24 24 24l144 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-144 0z"/></svg>',
        zoomin:                 '<svg $1 viewBox="0 0 512 512"><path $2 d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376C296.3 401.1 253.9 416 208 416 93.1 416 0 322.9 0 208S93.1 0 208 0 416 93.1 416 208zM208 112c-13.3 0-24 10.7-24 24l0 48-48 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l48 0 0 48c0 13.3 10.7 24 24 24s24-10.7 24-24l0-48 48 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-48 0 0-48c0-13.3-10.7-24-24-24z"/></svg>',
        left:                   '<svg $1 viewBox="0 0 512 512"><path $2 d="M512 256a256 256 0 1 0 -512 0 256 256 0 1 0 512 0zM124.7 244.7l104-104c4.6-4.6 11.5-5.9 17.4-3.5s9.9 8.3 9.9 14.8l0 56 96 0c17.7 0 32 14.3 32 32l0 32c0 17.7-14.3 32-32 32l-96 0 0 56c0 6.5-3.9 12.3-9.9 14.8s-12.9 1.1-17.4-3.5l-104-104c-6.2-6.2-6.2-16.4 0-22.6z"/></svg>',
        right:                  '<svg $1 viewBox="0 0 512 512"><path $2 d="M0 256a256 256 0 1 0 512 0 256 256 0 1 0 -512 0zm387.3 11.3l-104 104c-4.6 4.6-11.5 5.9-17.4 3.5S256 366.5 256 360l0-56-96 0c-17.7 0-32-14.3-32-32l0-32c0-17.7 14.3-32 32-32l96 0 0-56c0-6.5 3.9-12.3 9.9-14.8s12.9-1.1 17.4 3.5l104 104c6.2 6.2 6.2 16.4 0 22.6z"/></svg>',
        up:                     '<svg $1 viewBox="0 0 512 512"><path $2 d="M256 512a256 256 0 1 0 0-512 256 256 0 1 0 0 512zm11.3-387.3l104 104c4.6 4.6 5.9 11.5 3.5 17.4S366.5 256 360 256l-56 0 0 96c0 17.7-14.3 32-32 32l-32 0c-17.7 0-32-14.3-32-32l0-96-56 0c-6.5 0-12.3-3.9-14.8-9.9s-1.1-12.9 3.5-17.4l104-104c6.2-6.2 16.4-6.2 22.6 0z"/></svg>',
        down:                   '<svg $1 viewBox="0 0 512 512"><path $2 d="M256 0a256 256 0 1 0 0 512 256 256 0 1 0 0-512zM244.7 387.3l-104-104c-4.6-4.6-5.9-11.5-3.5-17.4s8.3-9.9 14.8-9.9l56 0 0-96c0-17.7 14.3-32 32-32l32 0c17.7 0 32 14.3 32 32l0 96 56 0c6.5 0 12.3 3.9 14.8 9.9s1.1 12.9-3.5 17.4l-104 104c-6.2 6.2-16.4 6.2-22.6 0z"/></svg>',
        
        print:                  '<svg $1 viewBox="0 0 512 512"><path $2 d="M64 64C64 28.7 92.7 0 128 0L341.5 0c17 0 33.3 6.7 45.3 18.7l42.5 42.5c12 12 18.7 28.3 18.7 45.3l0 37.5-384 0 0-80zM0 256c0-35.3 28.7-64 64-64l384 0c35.3 0 64 28.7 64 64l0 96c0 17.7-14.3 32-32 32l-32 0 0 64c0 35.3-28.7 64-64 64l-256 0c-35.3 0-64-28.7-64-64l0-64-32 0c-17.7 0-32-14.3-32-32l0-96zM128 416l0 32 256 0 0-96-256 0 0 64zM456 272a24 24 0 1 0 -48 0 24 24 0 1 0 48 0z"/></svg>',
        html:                   '<svg $1 viewBox="0 0 384 512"><path $2 d="M0 64C0 28.7 28.7 0 64 0L213.5 0c17 0 33.3 6.7 45.3 18.7L365.3 125.3c12 12 18.7 28.3 18.7 45.3L384 448c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 64zm208-5.5l0 93.5c0 13.3 10.7 24 24 24L325.5 176 208 58.5zM120 256c-13.3 0-24 10.7-24 24s10.7 24 24 24l144 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-144 0zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24l144 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-144 0z"/></svg>',
        lock:                   '<svg $1 viewBox="0 0 24 24"><path $2 d="M12 2C9.243 2 7 4.243 7 7v3H6a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2h-1V7c0-2.757-2.243-5-5-5zM9 7c0-1.654 1.346-3 3-3s3 1.346 3 3v3H9V7zm4 10.723V20h-2v-2.277a1.993 1.993 0 0 1 .567-3.677A2.001 2.001 0 0 1 14 16a1.99 1.99 0 0 1-1 1.723z"/></svg>',
        papersize:              '<svg $1 viewBox="0 0 24 24"><path $2 d="m20 8-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8zM9 19H7v-9h2v9zm4 0h-2v-6h2v6zm4 0h-2v-3h2v3zM14 9h-1V4l5 5h-4z"/></svg>',
        highlight:              '<svg $1 viewBox="0 0 576 512"><path $2 d="M315 315L473.4 99.9 444.1 70.6 229 229 315 315zm-187 5l0 0 0-71.7c0-15.3 7.2-29.6 19.5-38.6L420.6 8.4C428 2.9 437 0 446.2 0 457.6 0 468.5 4.5 476.6 12.6l54.8 54.8c8.1 8.1 12.6 19 12.6 30.5 0 9.2-2.9 18.2-8.4 25.6L334.4 396.5c-9 12.3-23.4 19.5-38.6 19.5l-71.7 0-25.4 25.4c-12.5 12.5-32.8 12.5-45.3 0l-50.7-50.7c-12.5-12.5-12.5-32.8 0-45.3L128 320zM7 466.3l51.7-51.7 70.6 70.6-19.7 19.7c-4.5 4.5-10.6 7-17 7L24 512c-13.3 0-24-10.7-24-24l0-4.7c0-6.4 2.5-12.5 7-17z"/></svg>',
        show:                   ICON_DUPLICATE.eye,
        view:                   ICON_DUPLICATE.eye,
        preview:                ICON_DUPLICATE.eye,
        notes:                  ICON_DUPLICATE.edit,
        login:                  '<svg $1 viewBox="0 0 512 512"><path $2 d="M352 96l64 0c17.7 0 32 14.3 32 32l0 256c0 17.7-14.3 32-32 32l-64 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l64 0c53 0 96-43 96-96l0-256c0-53-43-96-96-96l-64 0c-17.7 0-32 14.3-32 32s14.3 32 32 32zm-9.4 182.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L242.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l210.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128z"/></svg>',
        logout:                 '<svg $1 viewBox="0 0 512 512"><path $2 d="M160 96c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 32C43 32 0 75 0 128L0 384c0 53 43 96 96 96l64 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l64 0zM502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 192 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l210.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128z"/></svg>',
        signup:                 '<svg $1 viewBox="0 0 640 512"><path $2 d="M256.1 248a120 120 0 1 0 0-240 120 120 0 1 0 0 240zm-29.7 56c-98.5 0-178.3 79.8-178.3 178.3 0 16.4 13.3 29.7 29.7 29.7l196.5 0 10.9-54.5c4.3-21.7 15-41.6 30.6-57.2l67.3-67.3c-28-18.3-61.4-28.9-97.4-28.9l-59.4 0zM332.3 466.9l-11.9 59.6c-.2 .9-.3 1.9-.3 2.9 0 8 6.5 14.6 14.6 14.6 1 0 1.9-.1 2.9-.3l59.6-11.9c12.4-2.5 23.8-8.6 32.7-17.5l118.9-118.9-80-80-118.9 118.9c-8.9 8.9-15 20.3-17.5 32.7zm267.8-123c22.1-22.1 22.1-57.9 0-80s-57.9-22.1-80 0l-28.8 28.8 80 80 28.8-28.8z"/></svg>',
        question:               '?',
        active:                 'ACTIVE',
        status:                 'STATUS',
        level:                  'LEVEL',
        type:                   'TYPE',
        reload:				    '<svg $1 viewBox="0 0 512 512"><path $2 d="M436.7 74.7L448 85.4 448 32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 128c0 17.7-14.3 32-32 32l-128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l47.9 0-7.6-7.2c-.2-.2-.4-.4-.6-.6-75-75-196.5-75-271.5 0s-75 196.5 0 271.5 196.5 75 271.5 0c8.2-8.2 15.5-16.9 21.9-26.1 10.1-14.5 30.1-18 44.6-7.9s18 30.1 7.9 44.6c-8.5 12.2-18.2 23.8-29.1 34.7-100 100-262.1 100-362 0S-25 175 75 75c99.9-99.9 261.7-100 361.7-.3z"/></svg>',
        reset:				    '<svg $1 viewBox="0 0 512 512"><path $2 d="M256 64c-56.8 0-107.9 24.7-143.1 64l47.1 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 192c-17.7 0-32-14.3-32-32L0 32C0 14.3 14.3 0 32 0S64 14.3 64 32l0 54.7C110.9 33.6 179.5 0 256 0 397.4 0 512 114.6 512 256S397.4 512 256 512c-87 0-163.9-43.4-210.1-109.7-10.1-14.5-6.6-34.4 7.9-44.6s34.4-6.6 44.6 7.9c34.8 49.8 92.4 82.3 157.6 82.3 106 0 192-86 192-192S362 64 256 64z"/></svg>',
        sum:                    '‚àë',
        internet:               '<svg $1 viewBox="0 0 512 512"><path $2 d="M351.9 280l-190.9 0c2.9 64.5 17.2 123.9 37.5 167.4 11.4 24.5 23.7 41.8 35.1 52.4 11.2 10.5 18.9 12.2 22.9 12.2s11.7-1.7 22.9-12.2c11.4-10.6 23.7-28 35.1-52.4 20.3-43.5 34.6-102.9 37.5-167.4zM160.9 232l190.9 0C349 167.5 334.7 108.1 314.4 64.6 303 40.2 290.7 22.8 279.3 12.2 268.1 1.7 260.4 0 256.4 0s-11.7 1.7-22.9 12.2c-11.4 10.6-23.7 28-35.1 52.4-20.3 43.5-34.6 102.9-37.5 167.4zm-48 0C116.4 146.4 138.5 66.9 170.8 14.7 78.7 47.3 10.9 131.2 1.5 232l111.4 0zM1.5 280c9.4 100.8 77.2 184.7 169.3 217.3-32.3-52.2-54.4-131.7-57.9-217.3L1.5 280zm398.4 0c-3.5 85.6-25.6 165.1-57.9 217.3 92.1-32.7 159.9-116.5 169.3-217.3l-111.4 0zm111.4-48C501.9 131.2 434.1 47.3 342 14.7 374.3 66.9 396.4 146.4 399.9 232l111.4 0z"/></svg>',
        fullscreen:             '<svg $1 viewBox="0 0 448 512"><path $2 d="M32 32C14.3 32 0 46.3 0 64l0 96c0 17.7 14.3 32 32 32s32-14.3 32-32l0-64 64 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L32 32zM64 352c0-17.7-14.3-32-32-32S0 334.3 0 352l0 96c0 17.7 14.3 32 32 32l96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-64 0 0-64zM320 32c-17.7 0-32 14.3-32 32s14.3 32 32 32l64 0 0 64c0 17.7 14.3 32 32 32s32-14.3 32-32l0-96c0-17.7-14.3-32-32-32l-96 0zM448 352c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 64-64 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l96 0c17.7 0 32-14.3 32-32l0-96z"/></svg>',
        init:                   '<svg $1 viewBox="0 0 576 512"><path $2 d="M309.5-18.9c-4.1-8-12.4-13.1-21.4-13.1s-17.3 5.1-21.4 13.1L193.1 125.3 33.2 150.7c-8.9 1.4-16.3 7.7-19.1 16.3s-.5 18 5.8 24.4l114.4 114.5-25.2 159.9c-1.4 8.9 2.3 17.9 9.6 23.2s16.9 6.1 25 2L288.1 417.6 432.4 491c8 4.1 17.7 3.3 25-2s11-14.2 9.6-23.2L441.7 305.9 556.1 191.4c6.4-6.4 8.6-15.8 5.8-24.4s-10.1-14.9-19.1-16.3L383 125.3 309.5-18.9z"/></svg>',
        run:                    ICON_DUPLICATE.send,
        arrow_pointer:    	    '<svg $1 viewBox="0 0 448 512"><path $2 d="M77.3 2.5c8.1-4.1 17.9-3.2 25.1 2.3l320 239.9c8.3 6.2 11.6 17 8.4 26.8s-12.4 16.4-22.8 16.4l-152.3 0 88.9 177.7c7.9 15.8 1.5 35-14.3 42.9s-35 1.5-42.9-14.3l-88.9-177.7-91.3 121.8c-6.2 8.3-17 11.6-26.8 8.4S64 434.3 64 424L64 24c0-9.1 5.1-17.4 13.3-21.5z"/></svg>',
        arrow_pointer_query:    '<svg $1 viewBox="0 0 448 512"><path $2 d="M 63,128 C 68,126 73,127 77,130 L 262,268 C 267,272 268,278 267,283 265,289 260,293 254,293 L 166,293 217,395 C 222,404 218,415 209,420 200,425 189,421 184,412 L 133,309 80,380 C 77,384 70,386 65,384 59,383 55,377 55,371 L 55,141 C 55,136 58,131 63,128 L 63,128 Z "/><path fill="rgb(0,0,0)" stroke="none" d="M 287,162 C 287,143 310,129 338,129 365,129 388,143 388,162 388,175 373,186 352,191 338,194 321,203 321,216 L 321,225 C 321,230 328,235 338,235 347,235 354,230 354,225 L 354,216 C 354,216 354,215 356,214 357,213 360,211 364,211 396,204 421,184 421,162 421,132 383,108 338,108 290,108 253,132 253,162 253,167 261,172 271,172 279,172 287,167 287,162 L 287,162 287,162 Z M 338,277 C 349,277 359,271 359,264 359,257 349,251 338,251 326,251 316,257 316,264 316,271 326,277 338,277 L 338,277 338,277 Z "/></svg>',
        user:                   '<svg $1 viewBox="0 0 448 512"><path $2 d="M224 248a120 120 0 1 0 0-240 120 120 0 1 0 0 240zm-29.7 56C95.8 304 16 383.8 16 482.3 16 498.7 29.3 512 45.7 512l356.6 0c16.4 0 29.7-13.3 29.7-29.7 0-98.5-79.8-178.3-178.3-178.3l-59.4 0z"/></svg>',
        users:                  ICON_DUPLICATE.users3,
        username:               ICON_DUPLICATE.user + ' ABC',
        user_last_logintime:    '<svg $1 viewBox="0 0 512 512"><path $2 d="M352 96l64 0c17.7 0 32 14.3 32 32l0 256c0 17.7-14.3 32-32 32l-64 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l64 0c53 0 96-43 96-96l0-256c0-53-43-96-96-96l-64 0c-17.7 0-32 14.3-32 32s14.3 32 32 32zm-9.4 182.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L242.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l210.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128z"/></svg>',
        user_account_created:   '<svg $1 viewBox="0 0 576 512"><path $2 d="M268.9 85.2L152.3 214.8c-4.6 5.1-4.4 13 .5 17.9 30.5 30.5 80 30.5 110.5 0l31.8-31.8c4.2-4.2 9.5-6.5 14.9-6.9 6.8-.6 13.8 1.7 19 6.9L505.6 376 576 320 576 32 464 96 440.2 80.1C424.4 69.6 405.9 64 386.9 64l-70.4 0c-1.1 0-2.3 0-3.4 .1-16.9 .9-32.8 8.5-44.2 21.1zM116.6 182.7L223.4 64 183.8 64c-25.5 0-49.9 10.1-67.9 28.1L112 96 0 32 0 320 156.4 450.3c23 19.2 52 29.7 81.9 29.7l15.7 0-7-7c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l41 41 9 0c19.1 0 37.8-4.3 54.8-12.3L359 441c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l32 32 17.5-17.5c8.9-8.9 11.5-21.8 7.6-33.1l-137.9-136.8-14.9 14.9c-49.3 49.3-129.1 49.3-178.4 0-23-23-23.9-59.9-2.2-84z"/></svg>',
        user_account_modified:  ICON_DUPLICATE.edit,
        user_password:          ICON_DUPLICATE.key,
        user_password_confirm:  ICON_DUPLICATE.key + '!',
        user_password_reminder: ICON_DUPLICATE.key + '?',
        user_avatar:            ICON_DUPLICATE.user,
        user_follow_user:       '<svg $1 viewBox="0 0 640 512"><path $2 d="M136 128a120 120 0 1 1 240 0 120 120 0 1 1 -240 0zM48 482.3C48 383.8 127.8 304 226.3 304l59.4 0c98.5 0 178.3 79.8 178.3 178.3 0 16.4-13.3 29.7-29.7 29.7L77.7 512C61.3 512 48 498.7 48 482.3zM544 96c13.3 0 24 10.7 24 24l0 48 48 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-48 0 0 48c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-48-48 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l48 0 0-48c0-13.3 10.7-24 24-24z"/></svg>',
        user_followed_user:     '<svg $1 viewBox="0 0 640 512"><path $2 d="M286 304c98.5 0 178.3 79.8 178.3 178.3 0 16.4-13.3 29.7-29.7 29.7L78 512c-16.4 0-29.7-13.3-29.7-29.7 0-98.5 79.8-178.3 178.3-178.3l59.4 0zM585.7 105.9c7.8-10.7 22.8-13.1 33.5-5.3s13.1 22.8 5.3 33.5L522.1 274.9c-4.2 5.7-10.7 9.4-17.7 9.8s-14-2.2-18.9-7.3l-46.4-48c-9.2-9.5-9-24.7 .6-33.9 9.5-9.2 24.7-8.9 33.9 .6l26.5 27.4 85.6-117.7zM256.3 248a120 120 0 1 1 0-240 120 120 0 1 1 0 240z"/></svg>',
        user_like:              '<svg $1 viewBox="0 0 512 512"><path $2 d="M241 87.1l15 20.7 15-20.7C296 52.5 336.2 32 378.9 32 452.4 32 512 91.6 512 165.1l0 2.6c0 112.2-139.9 242.5-212.9 298.2-12.4 9.4-27.6 14.1-43.1 14.1s-30.8-4.6-43.1-14.1C139.9 410.2 0 279.9 0 167.7l0-2.6C0 91.6 59.6 32 133.1 32 175.8 32 216 52.5 241 87.1z"/></svg>',
        user_unlike:            '<svg $1 viewBox="0 0 512 512"><path $2 d="M133.1 32c17.3 0 34.2 3.4 49.9 9.7l54.8 85.2-75.4 75.4c-1.5 1.5-2.4 3.6-2.3 5.8s1 4.2 2.6 5.7l112 104c2.9 2.7 7.4 2.9 10.5 .3s3.8-7 1.7-10.4l-60.4-98.1 90.7-75.6c2.6-2.1 3.5-5.7 2.4-8.8L296.4 60.6C319.6 42.3 348.6 32 378.9 32 452.4 32 512 91.6 512 165.1l0 2.6c0 112.2-139.9 242.5-212.9 298.2-12.4 9.4-27.6 14.1-43.1 14.1s-30.8-4.6-43.1-14.1C139.9 410.2 0 279.9 0 167.7l0-2.6C0 91.6 59.6 32 133.1 32z"/></svg>',
        user_views:             ICON_DUPLICATE.eye,
        user_follows:           ICON_DUPLICATE.user2,
        user_followed:          ICON_DUPLICATE.users3,
        id_card:                '<svg $1 viewBox="0 0 576 512"><path $2 d="M0 96C0 60.7 28.7 32 64 32l448 0c35.3 0 64 28.7 64 64L0 96zm0 48l576 0 0 272c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 144zM247.3 416c20.2 0 35.3-19.4 22.4-35-14.7-17.7-36.9-29-61.7-29l-64 0c-24.8 0-47 11.3-61.7 29-12.9 15.6 2.2 35 22.4 35l142.5 0zM176 312a56 56 0 1 0 0-112 56 56 0 1 0 0 112zM360 208c-13.3 0-24 10.7-24 24s10.7 24 24 24l112 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-112 0zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24l112 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-112 0z"/></svg>',
        user_profile:           '<svg $1 viewBox="0 0 576 512"><path $2 d="M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l448 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zm80 256l64 0c44.2 0 80 35.8 80 80 0 8.8-7.2 16-16 16L80 384c-8.8 0-16-7.2-16-16 0-44.2 35.8-80 80-80zm-24-96a56 56 0 1 1 112 0 56 56 0 1 1 -112 0zm240-48l112 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-112 0c-13.3 0-24-10.7-24-24s10.7-24 24-24zm0 96l112 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-112 0c-13.3 0-24-10.7-24-24s10.7-24 24-24z"/></svg>',
        user_profile_stat:      '<svg $1 viewBox="0 0 448 512"><path $2 d="M224.3 128L139.7-12.9c-6.5-10.8-20.1-14.7-31.3-9.1L21.8 21.3C9.9 27.2 5.1 41.6 11 53.5L80.6 192.6c-30.1 33.9-48.3 78.5-48.3 127.4 0 106 86 192 192 192s192-86 192-192c0-48.9-18.3-93.5-48.3-127.4L437.6 53.5c5.9-11.9 1.1-26.3-10.7-32.2L340.2-22.1c-11.2-5.6-24.9-1.6-31.3 9.1L224.3 128zm30.8 142.5c1.4 2.8 4 4.7 7 5.1l50.1 7.3c7.7 1.1 10.7 10.5 5.2 16l-36.3 35.4c-2.2 2.2-3.2 5.2-2.7 8.3l8.6 49.9c1.3 7.6-6.7 13.5-13.6 9.9l-44.8-23.6c-2.7-1.4-6-1.4-8.7 0l-44.8 23.6c-6.9 3.6-14.9-2.2-13.6-9.9l8.6-49.9c.5-3-.5-6.1-2.7-8.3l-36.3-35.4c-5.6-5.4-2.5-14.8 5.2-16l50.1-7.3c3-.4 5.7-2.4 7-5.1l22.4-45.4c3.4-7 13.3-7 16.8 0l22.4 45.4z"/></svg>',
        user_session_expired:	'‚õî',
        verification_code:      '<svg $1 viewBox="0 0 512 512"><path $2 d="M336 352c97.2 0 176-78.8 176-176S433.2 0 336 0 160 78.8 160 176c0 18.7 2.9 36.8 8.3 53.7L7 391c-4.5 4.5-7 10.6-7 17l0 80c0 13.3 10.7 24 24 24l80 0c13.3 0 24-10.7 24-24l0-40 40 0c13.3 0 24-10.7 24-24l0-40 40 0c6.4 0 12.5-2.5 17-7l33.3-33.3c16.9 5.4 35 8.3 53.7 8.3zM376 96a40 40 0 1 1 0 80 40 40 0 1 1 0-80z"/></svg>',
        provider_id:            'ID',
        pay:                    '<svg $1 viewBox="0 0 512 512"><path $2 d="M242.4 292.5c5.4-5.4 14.7-5.4 20.1 0l77 77c14.2 14.2 33.1 22 53.1 22l15.1 0-97.1 97.1c-30.3 29.5-79.5 29.5-109.8 0l-97.5-97.4 9.3 0c20 0 38.9-7.8 53.1-22l76.7-76.7zm20.1-73.6c-6.4 5.5-14.6 5.6-20.1 0l-76.7-76.7c-14.2-15.1-33.1-22-53.1-22l-9.3 0 97.4-97.4c30.4-30.3 79.6-30.3 109.9 0l97.2 97.1-15.2 0c-20 0-38.9 7.8-53.1 22l-77 77zM112.6 142.7c13.8 0 26.5 5.6 37.1 15.4l76.7 76.7c7.2 6.3 16.6 10.8 26.1 10.8 9.4 0 18.8-4.5 26-10.8l77-77c9.8-9.7 23.3-15.3 37.1-15.3l37.7 0 58.3 58.3c30.3 30.3 30.3 79.5 0 109.8l-58.3 58.3-37.7 0c-13.8 0-27.3-5.6-37.1-15.4l-77-77c-13.9-13.9-38.2-13.9-52.1 .1l-76.7 76.6c-10.6 9.8-23.3 15.4-37.1 15.4l-31.8 0-58-58c-30.3-30.3-30.3-79.5 0-109.8l58-58.1 31.8 0z"/></svg>',
        gps:                    '<svg $1 viewBox="0 0 384 512"><path $2 d="M0 188.6C0 84.4 86 0 192 0S384 84.4 384 188.6c0 119.3-120.2 262.3-170.4 316.8-11.8 12.8-31.5 12.8-43.3 0-50.2-54.5-170.4-197.5-170.4-316.8zM192 256a64 64 0 1 0 0-128 64 64 0 1 0 0 128z"/></svg>',
        gps_position:           ICON_DUPLICATE.gps_position,
        gps_position_lat:       ICON_DUPLICATE.gps_position,
        gps_position_long:      '',
        gps_high_latitude:      ICON_DUPLICATE.globe + '‚ùÑ',
        map_my_location:        '<svg $1 viewBox="0 0 640 640"><path $2 d="M320 48C337.7 48 352 62.3 352 80L352 98.3C450.1 112.3 527.7 189.9 541.7 288L560 288C577.7 288 592 302.3 592 320C592 337.7 577.7 352 560 352L541.7 352C527.7 450.1 450.1 527.7 352 541.7L352 560C352 577.7 337.7 592 320 592C302.3 592 288 577.7 288 560L288 541.7C189.9 527.7 112.3 450.1 98.3 352L80 352C62.3 352 48 337.7 48 320C48 302.3 62.3 288 80 288L98.3 288C112.3 189.9 189.9 112.3 288 98.3L288 80C288 62.3 302.3 48 320 48zM160 320C160 408.4 231.6 480 320 480C408.4 480 480 408.4 480 320C480 231.6 408.4 160 320 160C231.6 160 160 231.6 160 320zM320 224C373 224 416 267 416 320C416 373 373 416 320 416C267 416 224 373 224 320C224 267 267 224 320 224z"/></svg>',
        map_layer:              '<svg $1 viewBox="0 0 512 512"><path $2 d="M232.5 5.2c14.9-6.9 32.1-6.9 47 0l218.6 101c8.5 3.9 13.9 12.4 13.9 21.8s-5.4 17.9-13.9 21.8l-218.6 101c-14.9 6.9-32.1 6.9-47 0L13.9 149.8C5.4 145.8 0 137.3 0 128s5.4-17.9 13.9-21.8L232.5 5.2zM48.1 218.4l164.3 75.9c27.7 12.8 59.6 12.8 87.3 0l164.3-75.9 34.1 15.8c8.5 3.9 13.9 12.4 13.9 21.8s-5.4 17.9-13.9 21.8l-218.6 101c-14.9 6.9-32.1 6.9-47 0L13.9 277.8C5.4 273.8 0 265.3 0 256s5.4-17.9 13.9-21.8l34.1-15.8zM13.9 362.2l34.1-15.8 164.3 75.9c27.7 12.8 59.6 12.8 87.3 0l164.3-75.9 34.1 15.8c8.5 3.9 13.9 12.4 13.9 21.8s-5.4 17.9-13.9 21.8l-218.6 101c-14.9 6.9-32.1 6.9-47 0L13.9 405.8C5.4 401.8 0 393.3 0 384s5.4-17.9 13.9-21.8z"/></svg>',
        regional:               ICON_DUPLICATE.globe,
        regional_day:           '<svg $1 viewBox="0 0 448 512"><path $2 d="M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 32 0c35.3 0 64 28.7 64 64l0 288c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 128C0 92.7 28.7 64 64 64l32 0 0-32c0-17.7 14.3-32 32-32zm0 256c-17.7 0-32 14.3-32 32l0 64c0 17.7 14.3 32 32 32l64 0c17.7 0 32-14.3 32-32l0-64c0-17.7-14.3-32-32-32l-64 0z"/></svg>',
        regional_month:         ICON_DUPLICATE.weekday,
        regional_year:          '<svg $1 viewBox="0 0 448 512"><path $2 d="M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 32 0c35.3 0 64 28.7 64 64l0 288c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 128C0 92.7 28.7 64 64 64l32 0 0-32c0-17.7 14.3-32 32-32zM64 240l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm128 0l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zM64 368l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zm112 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16z"/></svg>',
        regional_weekday:       ICON_DUPLICATE.weekday,
        regional_locale:        'abc',
        regional_calendar:      ICON_DUPLICATE.calendar,
        regional_calendartype:  ICON_DUPLICATE.calendar,
		regional_calendar_hijri_type:ICON_DUPLICATE.calendar,
        regional_numbersystem:  '123',
        regional_direction:     '<svg $1 viewBox="0 0 512 512"><path $2 d="M502.6 150.6l-96 96c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L402.7 160 32 160c-17.7 0-32-14.3-32-32S14.3 96 32 96l370.7 0-41.4-41.4c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l96 96c12.5 12.5 12.5 32.8 0 45.3zm-397.3 352l-96-96c-12.5-12.5-12.5-32.8 0-45.3l96-96c12.5-12.5 32.8-12.5 45.3 0s12.5 32.8 0 45.3L109.3 352 480 352c17.7 0 32 14.3 32 32s-14.3 32-32 32l-370.7 0 41.4 41.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0z"/></svg>',
        regional_script:        '<svg $1 viewBox="0 0 576 512"><path $2 d="M0 112C0 70.5 31.6 36.4 72 32.4l0-.4 280 0c53 0 96 43 96 96l0 176-176 0c-39.8 0-72 32.2-72 72l0 60c0 24.3-19.7 44-44 44s-44-19.7-44-44l0-228-64 0c-26.5 0-48-21.5-48-48l0-48zM236.8 480c7.1-13.1 11.2-28.1 11.2-44l0-60c0-13.3 10.7-24 24-24l248 0c13.3 0 24 10.7 24 24l0 24c0 44.2-35.8 80-80 80l-227.2 0zM80 80c-17.7 0-32 14.3-32 32l0 48 64 0 0-48c0-17.7-14.3-32-32-32z"/></svg>',
        regional_timeformat:    '12/24',
        regional_timezone:      ICON_DUPLICATE.globe,
        sky_sunrise_before:     ICON_DUPLICATE.moon,
        sky_sunrise:            ICON_DUPLICATE.sun + '‚≠°',
        sky_midday:             ICON_DUPLICATE.sun,
        sky_afternoon:          '<svg $1 viewBox="0 0 576 512"><path $2 d="M453.6-14.8c4.9 2 8.5 6.4 9.5 11.6L480 80 563.2 96.8c5.2 1.1 9.5 4.6 11.6 9.5s1.5 10.5-1.4 14.9l-46.9 70.7 46.9 70.7c2.9 4.4 3.5 10 1.4 14.9s-6.4 8.5-11.6 9.5L501 299.7c-11.9-8.7-25.1-15.6-39.4-20.4-2.5-12.7-6.8-24.7-12.7-35.7 9.5-14.9 15.1-32.6 15.1-51.7 0-53-43-96-96-96-47.9 0-87.6 35.1-94.8 80.9-26.5-20.3-59.5-32.5-95.4-32.9l-15.1-22.7c-2.9-4.4-3.5-10-1.4-14.9s6.4-8.5 11.6-9.5L256 80 272.8-3.2c1.1-5.2 4.6-9.5 9.5-11.6s10.5-1.5 14.9 1.4L368 33.6 438.7-13.3c4.4-2.9 10-3.5 14.9-1.4zM416 192c0 3.8-.4 7.5-1.3 11.1-21.7-17-49-27.1-78.7-27.1-4.6 0-9.1 .2-13.5 .7 6.4-19 24.4-32.7 45.5-32.7 26.5 0 48 21.5 48 48zM96 512c-53 0-96-43-96-96 0-42.5 27.6-78.6 65.9-91.2-1.3-6.7-1.9-13.7-1.9-20.8 0-61.9 50.1-112 112-112 43.1 0 80.5 24.3 99.2 60 14.7-17.1 36.5-28 60.8-28 44.2 0 80 35.8 80 80 0 5.5-.6 10.8-1.6 16 .5 0 1.1 0 1.6 0 53 0 96 43 96 96s-43 96-96 96L96 512z"/></svg>',
        sky_sunset:             ICON_DUPLICATE.sun + '‚≠£',
        sky_night:              ICON_DUPLICATE.moon,
		sky_midnight:           ICON_DUPLICATE.moon,
        misc_design:            '<svg $1 viewBox="0 0 512 512"><path $2 d="M512 256c0 .9 0 1.8 0 2.7-.4 36.5-33.6 61.3-70.1 61.3L344 320c-26.5 0-48 21.5-48 48 0 3.4 .4 6.7 1 9.9 2.1 10.2 6.5 20 10.8 29.9 6.1 13.8 12.1 27.5 12.1 42 0 31.8-21.6 60.7-53.4 62-3.5 .1-7 .2-10.6 .2-141.4 0-256-114.6-256-256S114.6 0 256 0 512 114.6 512 256zM128 288a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm0-96a32 32 0 1 0 0-64 32 32 0 1 0 0 64zM288 96a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm96 96a32 32 0 1 0 0-64 32 32 0 1 0 0 64z"/></svg>',
        misc_image:             '<svg $1 viewBox="0 0 448 512"><path $2 d="M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zm64 80a48 48 0 1 1 0 96 48 48 0 1 1 0-96zM272 224c8.4 0 16.1 4.4 20.5 11.5l88 144c4.5 7.4 4.7 16.7 .5 24.3S368.7 416 360 416L88 416c-8.9 0-17.2-5-21.3-12.9s-3.5-17.5 1.6-24.8l56-80c4.5-6.4 11.8-10.2 19.7-10.2s15.2 3.8 19.7 10.2l26.4 37.8 61.4-100.5c4.4-7.1 12.1-11.5 20.5-11.5z"/></svg>',
        misc_text:              '<svg $1 viewBox="0 0 576 512"><path $2 d="M40 32C17.9 32 0 49.9 0 72l0 56c0 17.7 14.3 32 32 32s32-14.3 32-32l0-32 64 0 0 320-32 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l128 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-32 0 0-320 64 0 0 32c0 17.7 14.3 32 32 32s32-14.3 32-32l0-56c0-22.1-17.9-40-40-40L40 32zM438.6 361.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l64 64c12.5 12.5 32.8 12.5 45.3 0l64-64c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-9.4 9.4 0-229.5 9.4 9.4c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-64-64c-6-6-14.1-9.4-22.6-9.4s-16.6 3.4-22.6 9.4l-64 64c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l9.4-9.4 0 229.5-9.4-9.4z"/></svg>',
        misc_second:            '2',
        misc_book:              '<svg $1 viewBox="0 0 448 512"><path $2 d="M384 512L96 512c-53 0-96-43-96-96L0 96C0 43 43 0 96 0L400 0c26.5 0 48 21.5 48 48l0 288c0 20.9-13.4 38.7-32 45.3l0 66.7c17.7 0 32 14.3 32 32s-14.3 32-32 32l-32 0zM96 384c-17.7 0-32 14.3-32 32s14.3 32 32 32l256 0 0-64-256 0zm32-232c0 13.3 10.7 24 24 24l176 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-176 0c-13.3 0-24 10.7-24 24zm24 72c-13.3 0-24 10.7-24 24s10.7 24 24 24l176 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-176 0z"/></svg>',
        misc_food:              '<svg $1 viewBox="0 0 512 512"><path $2 d="M63.9 14.4C63.1 6.2 56.2 0 48 0s-15.1 6.2-16 14.3L17.9 149.7c-1.3 6-1.9 12.1-1.9 18.2 0 45.9 35.1 83.6 80 87.7L96 480c0 17.7 14.3 32 32 32s32-14.3 32-32l0-224.4c44.9-4.1 80-41.8 80-87.7 0-6.1-.6-12.2-1.9-18.2L223.9 14.3C223.1 6.2 216.2 0 208 0s-15.1 6.2-15.9 14.4L178.5 149.9c-.6 5.7-5.4 10.1-11.1 10.1-5.8 0-10.6-4.4-11.2-10.2L143.9 14.6C143.2 6.3 136.3 0 128 0s-15.2 6.3-15.9 14.6L99.8 149.8c-.5 5.8-5.4 10.2-11.2 10.2-5.8 0-10.6-4.4-11.1-10.1L63.9 14.4zM448 0C432 0 320 32 320 176l0 112c0 35.3 28.7 64 64 64l32 0 0 128c0 17.7 14.3 32 32 32s32-14.3 32-32l0-448c0-17.7-14.3-32-32-32z"/></svg>',
        misc_prayer:            '<svg $1 viewBox="0 0 384 512"><path $2 d="M320 64a64 64 0 1 0 -128 0 64 64 0 1 0 128 0zM200.7 264l22.9 31.5c6.5 8.9 16.3 14.7 27.2 16.1s21.9-1.7 30.4-8.7l88-72c17.1-14 19.6-39.2 5.6-56.3s-39.2-19.6-56.3-5.6l-55.2 45.2-26.2-36c-15.6-21.5-40.6-34.2-67.2-34.2-30.9 0-59.2 17.1-73.6 44.4L47.8 280.9c-20.2 38.5-9.4 85.9 25.6 111.8L126.6 432 40 432c-22.1 0-40 17.9-40 40s17.9 40 40 40l208 0c17.3 0 32.6-11.1 38-27.5s-.3-34.4-14.2-44.7l-116.1-85.8 45-90z"/></svg>',
        misc_calling:           '<svg $1 viewBox="0 0 640 512"><path $2 d="M533.6 32.5c-10.3-8.4-25.4-6.8-33.8 3.5s-6.8 25.4 3.5 33.8C557.5 113.8 592 180.8 592 256s-34.5 142.2-88.7 186.3c-10.3 8.4-11.8 23.5-3.5 33.8s23.5 11.8 33.8 3.5C598.5 426.7 640 346.2 640 256S598.5 85.2 533.6 32.5zM473.1 107c-10.3-8.4-25.4-6.8-33.8 3.5s-6.8 25.4 3.5 33.8C475.3 170.7 496 210.9 496 256s-20.7 85.3-53.2 111.8c-10.3 8.4-11.8 23.5-3.5 33.8s23.5 11.8 33.8 3.5c43.2-35.2 70.9-88.9 70.9-149s-27.7-113.8-70.9-149zm-60.5 74.5c-10.3-8.4-25.4-6.8-33.8 3.5s-6.8 25.4 3.5 33.8C393.1 227.6 400 241 400 256s-6.9 28.4-17.7 37.3c-10.3 8.4-11.8 23.5-3.5 33.8s23.5 11.8 33.8 3.5C434.1 312.9 448 286.1 448 256s-13.9-56.9-35.4-74.5zM80 352l48 0 134.1 119.2c6.4 5.7 14.6 8.8 23.1 8.8 19.2 0 34.8-15.6 34.8-34.8l0-378.4c0-19.2-15.6-34.8-34.8-34.8-8.5 0-16.7 3.1-23.1 8.8L128 160 80 160c-26.5 0-48 21.5-48 48l0 96c0 26.5 21.5 48 48 48z"/></svg>',
        misc_ban:               '<svg $1 viewBox="0 0 512 512"><path $2 d="M367.2 412.5L99.5 144.8c-22.4 31.4-35.5 69.8-35.5 111.2 0 106 86 192 192 192 41.5 0 79.9-13.1 111.2-35.5zm45.3-45.3c22.4-31.4 35.5-69.8 35.5-111.2 0-106-86-192-192-192-41.5 0-79.9 13.1-111.2 35.5L412.5 367.2zM0 256a256 256 0 1 1 512 0 256 256 0 1 1 -512 0z"/></svg>',
        robot:                  '<svg $1 viewBox="0 0 640 512"><path $2 d="M352 0c0-17.7-14.3-32-32-32S288-17.7 288 0l0 64-96 0c-53 0-96 43-96 96l0 224c0 53 43 96 96 96l256 0c53 0 96-43 96-96l0-224c0-53-43-96-96-96l-96 0 0-64zM160 368c0-13.3 10.7-24 24-24l32 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-32 0c-13.3 0-24-10.7-24-24zm120 0c0-13.3 10.7-24 24-24l32 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-32 0c-13.3 0-24-10.7-24-24zm120 0c0-13.3 10.7-24 24-24l32 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-32 0c-13.3 0-24-10.7-24-24zM224 176a48 48 0 1 1 0 96 48 48 0 1 1 0-96zm144 48a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zM64 224c0-17.7-14.3-32-32-32S0 206.3 0 224l0 96c0 17.7 14.3 32 32 32s32-14.3 32-32l0-96zm544-32c-17.7 0-32 14.3-32 32l0 96c0 17.7 14.3 32 32 32s32-14.3 32-32l0-96c0-17.7-14.3-32-32-32z"/></svg>',
        human:                  ICON_DUPLICATE.user,
        hourglass:              '<svg $1 viewBox="0 0 384 512"><path $2 d="M32 0C14.3 0 0 14.3 0 32S14.3 64 32 64l0 11c0 42.4 16.9 83.1 46.9 113.1l67.9 67.9-67.9 67.9C48.9 353.9 32 394.6 32 437l0 11c-17.7 0-32 14.3-32 32s14.3 32 32 32l320 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l0-11c0-42.4-16.9-83.1-46.9-113.1l-67.9-67.9 67.9-67.9c30-30 46.9-70.7 46.9-113.1l0-11c17.7 0 32-14.3 32-32S369.7 0 352 0L32 0zM96 75l0-11 192 0 0 11c0 19-5.6 37.4-16 53L112 128c-10.3-15.6-16-34-16-53zm16 309c3.5-5.3 7.6-10.3 12.1-14.9l67.9-67.9 67.9 67.9c4.6 4.6 8.6 9.6 12.2 14.9L112 384z"/></svg>',
        misc_solve:             ICON_DUPLICATE.sun,
        misc_education:         '<svg $1 viewBox="0 0 576 512"><path $2 d="M48 195.8l209.2 86.1c9.8 4 20.2 6.1 30.8 6.1s21-2.1 30.8-6.1l242.4-99.8c9-3.7 14.8-12.4 14.8-22.1s-5.8-18.4-14.8-22.1L318.8 38.1C309 34.1 298.6 32 288 32s-21 2.1-30.8 6.1L14.8 137.9C5.8 141.6 0 150.3 0 160L0 456c0 13.3 10.7 24 24 24s24-10.7 24-24l0-260.2zm48 71.7L96 384c0 53 86 96 192 96s192-43 192-96l0-116.6-142.9 58.9c-15.6 6.4-32.2 9.7-49.1 9.7s-33.5-3.3-49.1-9.7L96 267.4z"/></svg>',
        misc_scramble:          '<svg $1 viewBox="0 0 512 512"><path $2 d="M403.8 34.4c12-5 25.7-2.2 34.9 6.9l64 64c6 6 9.4 14.1 9.4 22.6s-3.4 16.6-9.4 22.6l-64 64c-9.2 9.2-22.9 11.9-34.9 6.9S384 204.9 384 192l0-32-32 0c-10.1 0-19.6 4.7-25.6 12.8l-32.4 43.2-40-53.3 21.2-28.3C293.3 110.2 321.8 96 352 96l32 0 0-32c0-12.9 7.8-24.6 19.8-29.6zM154 296l40 53.3-21.2 28.3C154.7 401.8 126.2 416 96 416l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l64 0c10.1 0 19.6-4.7 25.6-12.8L154 296zM438.6 470.6c-9.2 9.2-22.9 11.9-34.9 6.9S384 460.9 384 448l0-32-32 0c-30.2 0-58.7-14.2-76.8-38.4L121.6 172.8c-6-8.1-15.5-12.8-25.6-12.8l-64 0c-17.7 0-32-14.3-32-32S14.3 96 32 96l64 0c30.2 0 58.7 14.2 76.8 38.4L326.4 339.2c6 8.1 15.5 12.8 25.6 12.8l32 0 0-32c0-12.9 7.8-24.6 19.8-29.6s25.7-2.2 34.9 6.9l64 64c6 6 9.4 14.1 9.4 22.6s-3.4 16.6-9.4 22.6l-64 64z"/></svg>',
        infinite:               '<svg $1 viewBox="0 0 640 512"><path $2 d="M0 256c0-88.4 71.6-160 160-160 50.4 0 97.8 23.7 128 64l32 42.7 32-42.7c30.2-40.3 77.6-64 128-64 88.4 0 160 71.6 160 160S568.4 416 480 416c-50.4 0-97.8-23.7-128-64l-32-42.7-32 42.7c-30.2 40.3-77.6 64-128 64-88.4 0-160-71.6-160-160zm280 0l-43.2-57.6c-18.1-24.2-46.6-38.4-76.8-38.4-53 0-96 43-96 96s43 96 96 96c30.2 0 58.7-14.2 76.8-38.4L280 256zm80 0l43.2 57.6c18.1 24.2 46.6 38.4 76.8 38.4 53 0 96-43 96-96s-43-96-96-96c-30.2 0-58.7 14.2-76.8 38.4L360 256z"/></svg>',
        message_fail:           ICON_DUPLICATE.cancel,
        message_success:        ICON_DUPLICATE.ok,
        message_text:           'ABC'
    },
    apps:[],
    app_id:0,
    app_logo:null,
    app_copyright:null,
    app_link_url:null,
    app_link_title:null,
    app_text_edit:null,
    app_common_app_id:0,
    app_admin_app_id:1,
    app_start_app_id:0,
    app_toolbar_button_start:1,
    app_toolbar_button_framework:1,
    app_framework:1,
    app_framework_messages:1,
    app_rest_api_version:null,
    app_rest_api_basepath:null,
    app_root:'app_root',
    app_div:'app',
    app_console:{warn:COMMON_WINDOW.console.warn, info:COMMON_WINDOW.console.info, error:COMMON_WINDOW.console.error},
    app_eventListeners:{original: HTMLElement.prototype.addEventListener, REACT:[], VUE:[], OTHER:[]},
    app_function_session_expired:null,
    app_function_sse:null,
    app_fonts:[],
    app_content_type_json: '',
    app_content_type_html: '',
    app_content_type_sse: '',
    app_fonts_loaded:[],
    app_request_tries: 5,
    app_requesttimeout_seconds:5,
    app_requesttimeout_admin_minutes:60,
    app_typewatch:[],
    app_metadata:{  events:{click:null,
                            change:null,
                            keydown:null,
                            keyup:null,
                            focusin:null,
                            input:null,
                            mousedown:null,
                            mouseup:null,
                            mousemove:null,
                            mouseleave:null,
                            wheel:null,
                            touchstart:null,
                            touchend:null,
                            touchcancel:null,
                            touchmove:null,
                            copy:null,
                            paste:null,
                            cut:null
    },
                    lifeCycle:{
                        onMounted:()=>null
                    }
                },
    info_link_policy_name:null,
    info_link_disclaimer_name:null,
    info_link_terms_name:null,
    info_link_policy_url:null,
    info_link_disclaimer_url:null,
    info_link_terms_url:null,
    iam_user_app_id:null,
    iam_user_id:null,
    iam_user_username:null,
    iam_user_avatar:null,
    admin_first_time:null,
    admin_only:null,
    x:{encrypt: ()=>'', decrypt: ()=>''},
    client_latitude:'',
    client_longitude:'',
    client_place:'',
    client_timezone:'',
    token_dt:null,
    token_at:null,
    token_admin_at:null,
    token_exp:null,
    token_iat:null,
    token_external:null,
    rest_resource_bff:null,
    user_locale:'',
    user_timezone:'',
    user_direction:'',
    user_arabic_script:'',
    user_custom:{},
    resource_import:[],
    component_import:[],
    component:{}
};
Object.seal(COMMON_GLOBAL);

                    
/**
 * @description Get value for given global key
 * @param {keyof common['CommonGlobal']} key
 * @returns {*}
 */
const commonGlobalGet = key =>key=='ICONS'?
                                Object.keys(COMMON_GLOBAL[key]).reduce((icons, icon)=>{
                                    /**@ts-ignore */
                                    icons[icon] = COMMON_GLOBAL[key][icon]
                                                .replace('$1','width="1em" height="1em"')
                                                .replace('$2', 'fill="currentColor" stroke-linecap="round" stroke-width="1.25" stroke="currentColor"');
                                    return icons},{}):
                                COMMON_GLOBAL[key];
/**
 * @description Set value for given global key except icons
 * @param {keyof common['CommonGlobal']} key
 * @param {*} value
 * @returns {*}
 */
const commonGlobalSet = (key, value) =>((key in COMMON_GLOBAL) && key !='ICONS')?Object.assign(COMMON_GLOBAL, {[key]:value}):null;

/**
 * @name commonMiscElementId
 * @description Finds recursive parent id. Use when current element can be an image or svg attached to an event element
 * @function
 * @param {*} element 
 * @returns {string} 
 */
const commonMiscElementId = element => element.id==''?commonMiscElementId(element.parentNode):element.id;
/**
 * @name commonMiscElementDiv
 * @description Finds recursive parent div. Use when current element can be an image or svg attached to an event element
 * @function
 * @param {*} element 
 * @returns {HTMLElement} 
 */
const commonMiscElementDiv = element => element.nodeName.toUpperCase() == 'DIV'?element:commonMiscElementDiv(element.parentNode);
/**
 * @name commonMiscElementRow
 * @description Finds recursive parent row with given class or default common_row. Use when clicking in a list of records
 * @function
 * @param {*} element 
 * @param {string|null} [className]
 * @returns {HTMLElement} 
 */
const commonMiscElementRow = (element, className) => element?.classList?.contains(className ?? 'common_row')?element:commonMiscElementRow(element.parentNode, className);
/**
 * @name commonMiscFormatJsonDate
 * @description Format JSON date for given format and with optional locale and timezone or COMMON_GLOBAL values will be used
 * @function
 * @param {*} value 
 * @param {'SHORT'|'NORMAL'|'LONG'|null} format 
 * @param {string|null} locale
 * @param {string|null} timezone
 * @returns {string}
 */
const commonMiscFormatJsonDate = (value, format=null, locale=null, timezone=null) => {
    if (value == null)
        return '';
    else {
        if (typeof value=='number')
            return value==0?'0':value.toLocaleString(locale ?? COMMON_GLOBAL.user_locale ?? 'en').padStart(2,(0).toLocaleString(locale ?? COMMON_GLOBAL.user_locale ?? 'en'));
        else{
            //ISO 8601 format
            //"yyyy'-'MM'-'dd'T'HH':'mm':'ss'Z'"
            const isodate = /\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)+/g;
            try {
                if (value.match(isodate)){ 
                    /**@type{COMMON_WINDOW['Intl']['DateTimeFormatOptions']} */ 
                    let options;
                    switch (format){
                        case 'SHORT':{
                            options = {
                                timeZone: timezone ?? COMMON_GLOBAL.user_timezone,
                                year: 'numeric',
                                month: 'long'
                            };
                            break;
                        }
                        case 'LONG':{
                            options = {
                                timeZone: timezone ?? COMMON_GLOBAL.user_timezone,
                                weekday: 'long',
                                year: 'numeric',
                                month: 'long',
                                day: 'numeric',
                                hour: '2-digit',
                                minute: '2-digit',
                                second: '2-digit',
                                timeZoneName: 'long'
                            };
                            break;
                        }
                        default:
                        case 'NORMAL':{
                            options = {
                                timeZone: timezone ?? COMMON_GLOBAL.user_timezone,
                                year: 'numeric',
                                month: 'long',
                                day: 'numeric',
                                hour: '2-digit',
                                minute: '2-digit'
                            };
                            break;
                        }
                    }
                        
                    const utc_date = new Date(Date.UTC(
                        Number(value.substring(0, 4)), //year
                        Number(value.substring(5, 7)) - 1, //month
                        Number(value.substring(8, 10)), //day
                        Number(value.substring(11, 13)), //hour
                        Number(value.substring(14, 16)), //min
                        Number(value.substring(17, 19)) //sec
                    ));
                    const format_date = utc_date.toLocaleDateString(locale ?? COMMON_GLOBAL.user_locale, options);
                    return format_date;
                }
                else
                    return value;
            } catch (error) {
                return value;
            }
        }
    }
};
/**
 * @name commonMiscImport
 * @description fetches javascript module to use in import statement
 * @function
 * @param {string} url
 * @param {string|null} content
 * @returns {Promise.<*>}
 */
const commonMiscImport = async (url, content=null) =>{
    const app_id = url.startsWith('/common')?COMMON_GLOBAL.app_common_app_id:COMMON_GLOBAL.app_id;
    const module = COMMON_GLOBAL.component_import.filter(module=>module.url==url && module.app_id == app_id)[0]?.component;
    if (module)
        return import(module);    
    else{
        COMMON_GLOBAL.component_import.push(
                /*@ts-ignore*/
                {
                    app_id:app_id,
                    url:url,
                    component:content?
                                URL.createObjectURL(new Blob ([content], {type: 'text/javascript'})):
                                    await commonFFB({   path: '/app-resource/' + url.replaceAll('/','~'), 
                                                        query:`content_type=${'text/javascript'}&IAM_data_app_id=${app_id}`, 
                                                        method:'GET', 
                                                        response_type:'TEXT',
                                                        authorization_type:'APP_ID'})
                                            .then(module=>URL.createObjectURL(  new Blob ([JSON.parse(module).resource], {type: 'text/javascript'})))
                }); 
        return import(COMMON_GLOBAL.component_import[COMMON_GLOBAL.component_import.length-1].component);
    }
};
/**
 * @name commonMiscImportmap
 * @description Importmap that return file path for given file
 *              to solve importmap not working for some browsers
 * @function
 * @param {'React'|'ReactDOM'|'regional'|'Vue'} file
 * @returns {string}
 */
const commonMiscImportmap = file =>{
    return {
        React 		    : '/common/modules/react/react.development.js',
        ReactDOM 	    : '/common/modules/react/react-dom.development.js',
        regional  	    : '/common/modules/regional/regional.js',
        Vue 	        : '/common/modules/vue/vue.esm-browser.js'
    }[file] ??'';
};
/**
 * @name commonMiscInputControl
 * @description Controls input
 * @function
 * @param {HTMLElement|null} dialogue 
 * @param {{
*			check_valid_list_elements?:[HTMLElement,number|null][],
*			check_valid_list_values?:[string,number|null][],
*			username?:HTMLElement,
*			password?:*,
*          password_confirm?:HTMLElement,
*          password_confirm_reminder?:HTMLElement,
*			password_reminder?:HTMLElement,
*			password_new?:HTMLElement,
*			password_new_confirm?:*,
*			bio?:HTMLElement
*		}} validate_items 
* @returns {boolean}
*/
const commonMiscInputControl = (dialogue, validate_items) =>{
   let result = true;
   /**
    * Valid text element or value
    * @param {HTMLElement|string} validate
    * @returns {boolean}
    */
   const valid_text = validate =>{
       let div;
       if (typeof validate=='object')
           div = validate;
       else{
           div = COMMON_DOCUMENT.createElement('div');
           div.textContent = validate;
       }
       if (div.textContent.indexOf(':') > -1 || div.textContent.includes('"') || div.textContent.includes('\\') )
           return false;
       else
           try {
               JSON.parse(JSON.stringify(div.textContent));
               return true;
               
           } catch (error) {
               return false;
           }
   };
   /**
    * Set error
    * @param {HTMLElement} element 
    * @param {HTMLElement|null} element2 
    */
   const set_error = (element, element2=null) => {
       element.classList.add('common_input_error');
       element2?element.classList.add('common_input_error'):null;
       result = false;
   };
   if (dialogue)
       dialogue.querySelectorAll('.common_input_error')
           .forEach(element=>element.classList.remove('common_input_error'));

   if (validate_items.check_valid_list_elements)
       for (const element of validate_items.check_valid_list_elements){
           element[0].classList.remove('common_input_error');
       }
       
   //validate text content
   if (validate_items.username && valid_text(validate_items.username) == false){
       set_error(validate_items.username);
   }
   if (validate_items.password && valid_text(validate_items.password)== false){
       set_error(validate_items.password);
   }
   if (validate_items.password_reminder && valid_text(validate_items.password_reminder)== false){
       set_error(validate_items.password);
   }
   if (validate_items.password_new && valid_text(validate_items.password_new)== false){
       set_error(validate_items.password);
   }
   if (validate_items.password_new_confirm && valid_text(validate_items.password_new_confirm)== false){
       set_error(validate_items.password);
   }
   if (validate_items.bio && valid_text(validate_items.bio)== false){
       set_error(validate_items.bio);
   }
   if (validate_items.check_valid_list_elements){
       for (const element of validate_items.check_valid_list_elements){
           if (valid_text(element[0])==false)
               set_error(element[0]);
       }
   }
   if (validate_items.check_valid_list_values){
       for (const element of validate_items.check_valid_list_values){
           if (valid_text(element[0])==false){
               result = false;
               break;
           }
       }
   }
   //validate text length
   if (validate_items.username && validate_items.username.textContent && validate_items.username.textContent.length > 100){
       set_error(validate_items.username);
   }
   if (validate_items.password && validate_items.password.textContent.length > 100){
       set_error(validate_items.password);
   }
   if (validate_items.password_reminder && validate_items.password_reminder.textContent && validate_items.password_reminder.textContent.length > 100){
       set_error(validate_items.password_reminder);
   }
   if (validate_items.password_new && validate_items.password_new.textContent && validate_items.password_new.textContent.length > 100){
       set_error(validate_items.password_new);
   }
   if (validate_items.bio && validate_items.bio.textContent && validate_items.bio.textContent.length > 150){
       set_error(validate_items.bio);
   }
   if (validate_items.check_valid_list_elements){
       for (const element of validate_items.check_valid_list_elements){
           if (element[0] && element[1] && element[0].textContent && element[0].textContent.length > element[1])
               set_error(element[0]);
       }
   }
   if (validate_items.check_valid_list_values){
       for (const element of validate_items.check_valid_list_values){
           if (element[0] && element[1] && element[0].length > element[1]){
               result = false;
               break;
           }
       }
   }
   //validate not empty
   if (validate_items.username && validate_items.username.textContent == '') {
       set_error(validate_items.username);
   }
   if (validate_items.password && validate_items.password.textContent == '') {
       set_error(validate_items.password);
   }
   if (validate_items.password && validate_items.password_confirm && validate_items.password_confirm.textContent ==''){
       set_error(validate_items.password_confirm);
   }
   //validate same password
   if (validate_items.password && validate_items.password_confirm && (validate_items.password.textContent != validate_items.password_confirm.textContent)){
       set_error(validate_items.password, validate_items.password_confirm);
   }
   if (validate_items.password_new && validate_items.password_new.textContent && validate_items.password_new.textContent.length > 0 && (validate_items.password_new.textContent != validate_items.password_new_confirm.textContent)){
       set_error(validate_items.password_new, validate_items.password_new_confirm);
   }
   if (result==false){
       commonMessageShow('INFO', null, 'message_text','!');
       return false;
   }
   else
       return true;
};
/**
 * @name commonMiscListKeyEvent
 * @description List key event
 * @function
 * @param {{event:common['CommonAppEvent'],
 *          event_function:function,
 *          event_parameters:*,
 *          rows_element:string,
 *          search_input:string}} parameters
 * @returns {void}
 */
const commonMiscListKeyEvent = parameters => {
    switch (parameters.event.code){
        case 'ArrowLeft':
        case 'ArrowRight':{
            break;
        }
        case 'ArrowUp':
        case 'ArrowDown':{
            const rows = COMMON_DOCUMENT.querySelectorAll(`#${parameters.rows_element} .common_row:not(.common_row_hide)`);
            /**
             * Focus item
             * @param {HTMLElement} element 
             */
            const focus_item = (element) =>{
                element.focus();
                COMMON_DOCUMENT.querySelector(`#${parameters.search_input}`).focus();
            };
            if (Object.entries(rows).filter(row=>row[1].classList.contains('common_row_selected')).length>0){
                let i=0;
                for (const row of rows) {
                    if (row.classList.contains('common_row_selected'))
                        //if up and first or
                        //if down and last
                        if ((parameters.event.code=='ArrowUp' && i == 0)||
                            (parameters.event.code=='ArrowDown' && i == rows.length -1)){
                            if(parameters.event.code=='ArrowUp'){
                                //if the first, set the last
                                row.classList.remove ('common_row_selected');
                                rows[rows.length -1].classList.add ('common_row_selected');
                                focus_item(rows[rows.length -1]);
                            }
                            else{
                                //down
                                //if the last, set the first
                                row.classList.remove ('common_row_selected');
                                rows[0].classList.add ('common_row_selected');
                                focus_item(rows[0]);
                            }
                            break;
                        }
                        else{
                            if(parameters.event.code=='ArrowUp'){
                                //remove highlight, highlight previous
                                row.classList.remove ('common_row_selected');
                                rows[i-1].classList.add ('common_row_selected');
                                focus_item(rows[i-1]);
                            }
                            else{
                                //down
                                //remove highlight, highlight next
                                row.classList.remove ('common_row_selected');
                                rows[i+1].classList.add ('common_row_selected');
                                focus_item(rows[i+1]);
                            }
                            break;
                        }
                    i++;
                }
            }
            else{
                //no highlight found, highlight first
                rows[0].classList.add ('common_row_selected');
                focus_item(rows[0]);
            }
            break;
        }
        case 'Enter':{
            const rows = COMMON_DOCUMENT.querySelectorAll(`#${parameters.rows_element} .common_row`);
            for (const row of rows) {
                if (row.classList.contains('common_row_selected')){
                    //dispatch click event on row
                    row.click();
                    row.classList.remove ('common_row_selected');
                }
            }
            break;
        }
        default:{
            commonMiscTypewatch(parameters.event_function, parameters.event_parameters); 
            break;
        }            
    }
};

/**
 * @name commonMiscMobile
 * @description Check if mobile
 * @function
 * @returns {boolean}
 */
const commonMiscMobile = () =>{
    return (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(COMMON_WINDOW.navigator.userAgent));
};
/**
 * @name commonMiscPreferencesUpdateBodyClassFromPreferences
 * @description Common theme update body class from preferences
 * @function
 * @returns {void}
 */
const commonMiscPreferencesUpdateBodyClassFromPreferences = () => {
    const class_app_theme = COMMON_DOCUMENT.body.className.split(' ')[0] ?? '';
    const class_direction = COMMON_GLOBAL.user_direction;
    const class_arabic_script = COMMON_GLOBAL.user_arabic_script;
    COMMON_DOCUMENT.body.className = '';
    COMMON_DOCUMENT.body.classList.add(class_app_theme);
    if (class_direction)
        COMMON_DOCUMENT.body.classList.add(class_direction);
    if (class_arabic_script)
        COMMON_DOCUMENT.body.classList.add(class_arabic_script);
};
/**
 * @name commonMiscPrint
 * @description Prints element id
 * @param {string} element_id
 * @param {boolean} inner?
 * @function 
 * @returns {Promise.<void>}
 */
const commonMiscPrint = async (element_id, inner=true) => {
    /**@type{common['CommonComponentResult']}*/
        const {template} = await commonComponentRender({ mountDiv:   null,
                                                                data:  {   
                                                                        commonMountdiv:null, 
                                                                        appHtml:inner?
                                                                                    COMMON_DOCUMENT.querySelector(`#${element_id}`).innerHTML:
                                                                                        COMMON_DOCUMENT.querySelector(`#${element_id}`).outerHTML
                                                                        },
                                                                methods:null,
                                                                path: '/common/component/common_print.js'});
     if (template){
        COMMON_DOCUMENT.querySelector('#common_app_print').innerHTML = '<iframe/>';
        const print = COMMON_DOCUMENT.querySelector('#common_app_print iframe').contentWindow
        await print.document.open();
        await print.document.write(template);

        for (const font of COMMON_GLOBAL.app_fonts_loaded) {         
            const fontNew = new FontFace(
                font.family,
                'url(' + font.url + ')',
                font.attributes
            );  
            fontNew.load().then(()=>{
                print.document.fonts.add(fontNew);
            });
        }  
        await print.focus();

        //await delay to avoid browser render error
        await new Promise (resolve=>commonWindowSetTimeout(()=> {print.print();resolve(null);}, 100));    
        COMMON_DOCUMENT.querySelector('#common_app_print').textContent='';
     }
    
};
/**
 * @name commonMiscResourceFetch
 * @description fetches resources and updates attributes on element or return result if no element found
 *              'text/javascript' is used here for a link, not import()
 * @function
 * @param {string} url
 * @param {HTMLElement|null} element
 * @param { 'image/png'|'image/webp'|
 *          'text/javascript'|
 *          'text/css'} content_type,
 * @param {string|null} content
 * @returns {Promise.<string|void>}
 */
const commonMiscResourceFetch = async (url,element, content_type, content=null )=>{
    const app_id = url.startsWith('/common')?COMMON_GLOBAL.app_common_app_id:COMMON_GLOBAL.app_id;
    if (element && content_type.startsWith('image')){
        /**@ts-ignore */
        element.alt=' '; 
        element.removeAttribute('src');
    }   
    /**
    * @returns{Promise.<*>}
    */
    const getUrl = async ()=>{        
        const resource = COMMON_GLOBAL.resource_import.filter(resource=>resource.url==url && resource.app_id == app_id)[0]?.content;
        if (resource) 
            return resource;
        else{
            content?
                /**@ts-ignore */
                COMMON_GLOBAL.resource_import.push({
                                app_id:app_id,
                                url:url,
                                content:URL.createObjectURL(new Blob ([content], {type: content_type})),
                                content_type:content_type
                            }):
                    await commonFFB({   path:'/app-resource/' + url.replaceAll('/','~'), 
                                        query:`content_type=${content_type}&IAM_data_app_id=${app_id}`, 
                                        method:'GET', 
                                        //uses TEXT for images that use base64 strings and font css
                                        response_type:'TEXT',
                                        authorization_type:'APP_ID'})
                            .then(module=>
                                content_type.startsWith('image')?
                                    /**@ts-ignore */
                                    COMMON_GLOBAL.resource_import.push({
                                        app_id:app_id,
                                        url:url,
                                        content:JSON.parse(module).resource,
                                        content_type:content_type
                                    }):
                                        /**@ts-ignore */
                                        COMMON_GLOBAL.resource_import.push({
                                            app_id:app_id,
                                            url:url,
                                            content:URL.createObjectURL(  new Blob ([JSON.parse(module).resource], {type: content_type})),
                                            content_type:content_type
                                        })
                            );
            return COMMON_GLOBAL.resource_import[COMMON_GLOBAL.resource_import.length-1].content;
        }
    }; 

    if (element && content_type.startsWith('image')){
        element.style.backgroundImage = `url('${await getUrl()}')`;
        element.style.backgroundSize = 'cover';
    }
    else
        if (element && content_type.startsWith('text'))
            /**@ts-ignore */
            element.href=await getUrl();
        else{
            if (element)
                //font
                /**@ts-ignore */
                element.style.src = `url('${await getUrl()}')`;
            else
                return await getUrl();
        }

};
/**
 * @name commonMiscRoundOff
 * @description Rounds a number with 2 decimals
 * @function
 * @param {number} num 
 * @returns number
 */
const commonMiscRoundOff = num => {
    const x = Math.pow(10,2);
    return Math.round(num * x) / x;
};
/**
 * @name commonMiscSelectCurrentValueSet
 * @description Sets current value for select div
 *              Get json data for given key and value is found or matches value if not json
 * @function
 * @param {string} div
 * @param {string|number|null} value
 * @param {string|null} json_key
 * @param {string|number|null} json_value
 */
const commonMiscSelectCurrentValueSet = (div, value, json_key=null, json_value=null) =>{
    COMMON_DOCUMENT.querySelector(`#${div} .common_select_dropdown_value`).textContent = Array.from(COMMON_DOCUMENT.querySelectorAll(`#${div} .common_select_option`))
                                                                                            .filter(option=>(json_key?JSON.parse(option.getAttribute('data-value'))[json_key]:
                                                                                                                option.getAttribute('data-value'))==(json_value ?? value))[0].textContent;
    if (json_key)
        Array.from(COMMON_DOCUMENT.querySelectorAll(`#${div} .common_select_option`))
            .filter(option=>JSON.parse(option.getAttribute('data-value'))[json_key])[0].getAttribute('data-value');
    else
        COMMON_DOCUMENT.querySelector(`#${div} .common_select_dropdown_value`).setAttribute('data-value', value);
      
};

/**
 * @name commonMiscTimezoneDate
 * @description Get timezone date
 * @function
 * @param {string} timezone 
 * @returns {Date}
 */
const commonMiscTimezoneDate = timezone =>{
    const utc = new Date(	Number(new Date().toLocaleString('en', {timeZone: 'UTC', year:'numeric'})),
                            Number(new Date().toLocaleString('en', {timeZone: 'UTC', month:'numeric'}))-1,
                            Number(new Date().toLocaleString('en', {timeZone: 'UTC', day:'numeric'})),
                            Number(new Date().toLocaleString('en', {timeZone: 'UTC', hour:'numeric', hour12:false})),
                            Number(new Date().toLocaleString('en', {timeZone: 'UTC', minute:'numeric'})));
    return new Date(utc.setHours(  utc.getHours() + commonMiscTimezoneOffset(timezone)));
};
/**
 * @name commonMiscTypewatch
 * @description Delay API calls when typing to avoid too many calls 
 *              ES6 spread operator, arrow function without function keyword 
 * @function
 * @param {*} function_name 
 * @param  {...any} parameter 
 */
const commonMiscTypewatch = (function_name, ...parameter) =>{
    if (COMMON_GLOBAL.app_typewatch.filter(row=>row==function_name.name).length==0){
        /**@ts-ignore */
        COMMON_GLOBAL.app_typewatch.push(function_name.name);
        let type_delay=400;
        if (parameter.length>0 && parameter[0] !=null)
            switch (parameter[0].code){
                case 'ArrowLeft':
                case 'ArrowRight':
                case 'ArrowUp':
                case 'ArrowDown':{
                    //immediate response when navigating
                    type_delay = 0;
                    break;
                }
            }
        commonWindowSetTimeout(() => {
            function_name(...parameter);
            /**@ts-ignore */
            COMMON_GLOBAL.app_typewatch = COMMON_GLOBAL.app_typewatch.filter(row=>row!=function_name.name);
        }, type_delay);
    }
};
/**
 * @name commonMiscShowDateUpdate
 * @description Show date and time on local format in given element
 * @function
 * @param {string} element_id
 * @returns {Promise<void>}
 */
const commonMiscShowDateUpdate = async element_id => {
    
    if (COMMON_DOCUMENT.querySelector(`#${element_id}`)){
        COMMON_DOCUMENT.querySelector(`#${element_id}`).textContent = 
            new Date().toLocaleString(COMMON_GLOBAL.user_locale, {timeZone: COMMON_GLOBAL.user_timezone});
        await commonWindowWait(1000);
        commonMiscShowDateUpdate(element_id);
    }
};

/**
 * 
 * @name commonMiscSecondsToTime
 * @description Seconds to time string
 * @function
 * @param {number} seconds 
 * @returns {string}
 */
const commonMiscSecondsToTime = (seconds) => {
    let ut_sec = seconds;
    let ut_min = ut_sec/60;
    let ut_hour = ut_min/60;
    
    ut_sec = Math.floor(ut_sec);
    ut_min = Math.floor(ut_min);
    ut_hour = Math.floor(ut_hour);
    
    ut_hour = ut_hour%60;
    ut_min = ut_min%60;
    ut_sec = ut_sec%60;
    return `${ut_hour} Hour(s) ${ut_min} minute(s) ${ut_sec} second(s)`;
};
/**
 * @name commonMiscLengthWithoutDiacrites
 * @description Length without diacrites
 * @function
 * @param {string} str 
 * @returns {number}
 */
const commonMiscLengthWithoutDiacrites = (str) =>{
    return str.normalize('NFD').replace(/\p{Diacritic}/gu, '').length;
};
/**
 * @name commonMiscTimezoneOffset
 * @description Get timezone offset
 * @function
 * @param {string} local_timezone 
 * @returns {number}
 */
const commonMiscTimezoneOffset = (local_timezone) =>{
    const utc = new Date(	Number(new Date().toLocaleString('en', {timeZone: 'UTC', year:'numeric'})),
                            Number(new Date().toLocaleString('en', {timeZone: 'UTC', month:'numeric'}))-1,
                            Number(new Date().toLocaleString('en', {timeZone: 'UTC', day:'numeric'})),
                            Number(new Date().toLocaleString('en', {timeZone: 'UTC', hour:'numeric', hour12:false})),
                            Number(new Date().toLocaleString('en', {timeZone: 'UTC', minute:'numeric'}))).valueOf();
    const local = new Date(	Number(new Date().toLocaleString('en', {timeZone: local_timezone, year:'numeric'})),
                            Number(new Date().toLocaleString('en', {timeZone: local_timezone, month:'numeric'}))-1,
                            Number(new Date().toLocaleString('en', {timeZone: local_timezone, day:'numeric'})),
                            Number(new Date().toLocaleString('en', {timeZone: local_timezone, hour:'numeric', hour12:false})),
                            Number(new Date().toLocaleString('en', {timeZone: local_timezone, minute:'numeric'}))).valueOf();
    return (local-utc) / 1000 / 60 / 60;
};
/**
 * @name commonMiscLoadFont
 * @description loads a font using app resource fetch and FontFace
 * @function
 * @param {{uuid:string,
 *          secret:string,
 *          message:string}} parameters
 */
const commonMiscLoadFont = parameters => {
    const fontData = JSON.parse(parameters.message);
    commonFFB({ path:               '/app-resource/' + fontData.url.replaceAll('/','~'),
                query:              'content_type=font/woff2&IAM_data_app_id=0', 
                method:             'GET',
                authorization_type: 'APP_ID',
                //5 minutes timeout for fonts
                timeout:1000 * 60 * 5 })
    .then((/**@type{string}*/result)=> {
        const fontResult = JSON.parse(result).resource;
        /**
         * @param {string} css
         */
        const cssJSON = css =>'{' + css
                                .replace('font-face','')
                                .replace('url(','')
                                .replaceAll(')','')
                                .replace('format(',';format:')
                                .split(';')
                                .filter(row=>row.indexOf('}')==-1)
                                .map(row=>row.replace('{','').split(':')
                                            .map(col=>col.indexOf('"')==-1?
                                                        '"' + col.trimStart() + '"':
                                                            col.trimStart()).join(':'))
                                .join(',') + '}';
        //load font url where uuid is used
        for (const fontFaceCSS of (COMMON_GLOBAL.app_fonts ??[])
                                    .filter((row, index)=>index>0)
                                    /**@ts-ignore */
                                    .filter(row=>row.indexOf(fontData.uuid)>-1)
                                    /**@ts-ignore */
                                    .map(row=>row.substring(0, row.indexOf('}')+1))){
            const attributes =  {
                                style:          JSON.parse(cssJSON(fontFaceCSS))['font-style'],
                                weight:         JSON.parse(cssJSON(fontFaceCSS))['font-weight'],
                                ...(JSON.parse(cssJSON(fontFaceCSS))['font-stretch'] && {'stretch': JSON.parse(cssJSON(fontFaceCSS))['font-stretch']}),
                                display:        JSON.parse(cssJSON(fontFaceCSS))['font-display'],
                                ...(JSON.parse(cssJSON(fontFaceCSS))['unicode-range'] && {'unicodeRange': JSON.parse(cssJSON(fontFaceCSS))['unicode-range']})
                                };
            const fontLoad = {family:JSON.parse(cssJSON(fontFaceCSS))['font-family'],
                                url:   fontResult,
                                attributes:attributes
                                };
            COMMON_GLOBAL.app_fonts_loaded.push(fontLoad);
            const fontNew = new FontFace(
                    fontLoad.family,
                    'url(' + fontLoad.url + ')',
                    fontLoad.attributes
                );  
            fontNew.load().then(()=>{
                /**@ts-ignore */
                document.fonts.add(fontNew);
            });
        }
    });
};
/**
 * @name commonMisCssApply
 * @description apply css
 * @function
 * @param {string} cssText
*/
const commonMiscCssApply = cssText =>{
    const css = new CSSStyleSheet();
    css.replace(cssText);
    
    document.adoptedStyleSheets = [...document.adoptedStyleSheets, css];
};

/**
 * @name commonWindoGet
 * @description get window object
 * @function
 * @returns {common['COMMON_WINDOW']}
 */
const commonWindowGet = () =>COMMON_WINDOW;

/**
 * @name commonWindowFromBase64
 * @description Convert base64 containing unicode to string
 * @function
 * @param {string} str 
 * @returns {string}
 */
const commonWindowFromBase64 = str => {
    const binary_string = COMMON_WINDOW.atob(str);
    const len = binary_string.length;
    const bytes = new Uint8Array(len);
    for (let i = 0; i < len; i++) {
        bytes[i] = binary_string.charCodeAt(i);
    }
    return new TextDecoder('utf-8').decode(bytes);
};

/**
 * @name commonWindowDocumentFrame
 * @description Returns frames document element
 * @function
 * @returns {COMMON_DOCUMENT}
 */
const commonWindowDocumentFrame = () => COMMON_WINDOW.frames.document;

/**
 * @name commonWindowNavigatorLocale
 * @description Read Navigator language
 * @function
 * @returns {string}
 */
const commonWindowNavigatorLocale = () => COMMON_WINDOW.navigator.language.toLowerCase();

/**
 * @name commonWindowOpen
 * @description Opens an url in a new window
 * @function
 * @param {string} url
 * @returns {void}
 */
const commonWindowOpen = url => COMMON_WINDOW.open(url, '_blank');

/**
 * @name commonWindowPrompt
 * @description Opens an window prompt with given text
 * @function
 * @param {string} text
 * @returns {string}
 */
const commonWindowPrompt = text => COMMON_WINDOW.prompt(text);

/**
 * @name commonWindowSetTimeout
 * @description Use SetTimout for given function and millseconds
 * @function
 * @param {function}    function_timeout
 * @param {number}      milliseconds
 * @returns {void}
 */
const commonWindowSetTimeout = (function_timeout, milliseconds) => COMMON_WINDOW.setTimeout(function_timeout, milliseconds);


/**
 * @name commonWindowToBase64
 * @description Convert string to Base64
 * @function
 * @param {string} str 
 * @aram {boolean} btoa_only
 * @returns {string}
 */
const commonWindowToBase64 = (str,btoa=false) => COMMON_WINDOW.btoa(btoa?str:COMMON_WINDOW.encodeURIComponent(str));

/**
 * @name commonWindowUserAgentPlatform
 * @description Get user agent platform
 * @function
 * @param {string} useragent 
 */
const commonWindowUserAgentPlatform = useragent =>{
    if (useragent.toLowerCase().indexOf('windows'))
        return 'Windows';
    else
        if (useragent.toLowerCase().indexOf('mobile'))
            return 'Mobile';
        else
            if (useragent.toLowerCase().indexOf('linux'))
                return 'Linux';
            else
                return 'Other';
};

/**
 * @name commonWindowWait
 * @description Waits given amount of milliseconds
 * @function
 * @param {number} milliseconds
 * @returns {Promise<null>}
 */
const commonWindowWait = async milliseconds => new Promise ((resolve)=>{commonWindowSetTimeout(()=> resolve(null),milliseconds);});

/**
 * @name commonFrameworkHtml2ReactComponent
 * @description Convert HTML to React component
 * @function
 * @param {*} React_create_element
 * @param {*} element 
 * @returns {*}
 */
 const commonFrameworkHtml2ReactComponent = (React_create_element, element) =>{
    const result_component_current = [];
    if(element.length>0 ){
        for (const subelement of element){
            let props;
            /**@type{*} */
            const element_object = {};
            Object.entries(subelement.attributes).forEach((/**@type{*}*/attribute)=>element_object[attribute[1].name] = attribute[1].value);
            //always rename class to className, React will not create class if className is empty
            //but no error/warning will be displayed using this syntax
            element_object.className = element_object.class;
            delete element_object.class;

            //rename attributes used
            const rename_attributes =  [
                                    //Map SVG:
                                    ['stroke-width',    'strokeWidth'],
                                    //other used SVG attributes:
                                    ['xmlns:xlink',     'xmlnsXlink'],
                                    //other attributes
                                    ['charset',         'charSet'],
                                    ['tabindex',        'tabIndex'],
                                    ['contenteditable', 'contentEditable'],
                                    ];
            for (const element_attribute of Object.keys(element_object)){
                for (const element_svg of rename_attributes)
                    if (element_attribute== element_svg[0]){
                        element_object[element_svg[1]] = element_object[element_svg[0]];
                        delete element_object[element_svg[0]];
                    }
                        
            }
            //add required unique key
            const id = element_object.id?
                            element_object.id:
                                `React_key_${Date.now().toString()}_${Math.random().toString(36).substring(2)}`;
            element_object.key = `{${id}}`;
            //convert attributes to props
            if (subelement.nodeName=='OPTION'){
                props = {   ...element_object,
                            label: subelement.text};
            }
            else
                props = {   ...element_object};
            
            if (props.style){
                //props.style contains string, convert to object
                /**@type{Object.<string, {}>} */
                const style_object = {};
                for (const style of subelement.style){
                    //rename used css properties
                    style_object[style
                                .replace('background-image', 'backgroundImage')
                                .replace('background-color', 'backgroundColor')
                                .replace('background-size', 'backgroundSize')
                                .replace('z-index', 'zIndex')
                                .replace('margin-left', 'marginLeft')
                                .replace('margin-right', 'marginRight')
                                .replace('margin-top', 'marginTop')
                                .replace('margin-bottom', 'marginBottom')] = subelement.style[style];
                }
                props.style = {...style_object};
            }
            //replace '' with null
            props.style = props.style==''?null:props.style;
            const reactobj = subelement.childElementCount>0?React_create_element(subelement.nodeName.toLowerCase(), 
                                                props,
                                                commonFrameworkHtml2ReactComponent(React_create_element, subelement.children)):
                                                React_create_element(subelement.nodeName.toLowerCase(), 
                                                props);
            result_component_current.push(reactobj);
        }
        return result_component_current;
    }
    else
        return null;
};
/**
 * @name commonComponentMutationObserver
 * @description Tracks removed elements using MutationObserver on app root
 *              and uses Immediately Invoked Function Expression (IIFE)
 *              so only one MutationObserver is running and always on app root
 *              contains track() and untrack() methods
 * @function
 * @returns {void}
 */
const commonComponentMutationObserver = (() =>{
    /**@type{Object.<string,*>} */
    const tracked= {};
    const observer = new MutationObserver(() => {
                        Object.keys(tracked).forEach(div_id => {
                            //check if removed or empty
                            if (!COMMON_DOCUMENT.querySelector(`#${div_id}`)||COMMON_DOCUMENT.querySelector(`#${div_id}`).textContent=='') {
                                //a component can be used on different mounted divs
                                //and a component can share events to event delegation and methods
                                //remove if last shared component including methods and events
                                if (Object.keys(tracked).filter(all_div_id=>COMMON_GLOBAL.component[tracked[all_div_id].componentName]==COMMON_GLOBAL.component[tracked[div_id].componentName]).length==1)
                                    delete COMMON_GLOBAL.component[tracked[div_id].componentName];
                                //run the onUnMounted for the unmounted component
                                if (tracked[div_id].onUnmounted){
                                    tracked[div_id].onUnmounted();
                                }
                                //remove from tracked
                                delete tracked[div_id];
                            }
                        });
                    });

    observer.observe(document.body, {
        childList:true,
        subtree: true
    });

    return {
        /**
         * @name track
         * @description used by commonComponentRender to track components
         * @method
         * @param {{div:HTMLElement, componentName:string, onUnmounted:function|null|undefined}} component
         */
        track (component){
            if (component.div instanceof HTMLElement)
                tracked[component.div.id] = { componentName:component.componentName, 
                                              onUnmounted:component.onUnmounted};
            
        },
        /**
         * @name untrack
         * @description used by commonComponentRender to untrack components 
         *              when component is empty
         * @method
         * @param {{div:HTMLElement, componentName:string, onUnmounted:function|null|undefined}} component
         */
        untrack (component){
            delete tracked[component.div.id];
        }
        
    };
})();

/**
 * @name commonComponentTemplateMessage
 * @description Displays message, 
 *              local component template to be able to display app start errors and also to improve performance
 * @function
 * @param {{message:*,
 *          message_type:string,
 *          message_title_font_class:string|null,
 *          message_title_icon_class:'message_text'|'message_success'|'message_fail'|null,
 *          icons:{ close:string,
 *                  cancel:string,
 *                  message_text:string,
 *                  message_success:string,
 *                  message_fail:string,
 *                  message_confirm:string}}} props 
 * @returns {string}
 */
const commonComponentTemplateMessage = props =>`  
        ${props.message_type=='CONFIRM'?
            `<div id='common_app_dialogues_message_confirm_question' class='common_icon_title'>${props.icons.message_confirm}</div>`:''
        }
        ${props.message_type!='CONFIRM'?
        `<div id='common_app_dialogues_message_title_container'>
            <div id='common_app_dialogues_message_title_icon' class='common_icon_title'>${props.message_title_icon_class?props.icons[props.message_title_icon_class]:''}</div>
            <div id='common_app_dialogues_message_title' class='${props.message_title_font_class}'>
                ${props.message !=null && props.message !='' && typeof props.message == 'object'?Object.entries(props.message).map((/**@type{*}*/list_row)=>
                    //loop manages both object and array
                    `<div id='common_app_dialogues_message_info_list'>
                        <div class='common_app_dialogues_message_info_list_row'>
                            <div class='common_app_dialogues_message_info_list_col'>
                                <div>${props.message.constructor===Array?Object.keys(list_row[1])[0]:list_row[0]}</div>
                            </div>
                            <div class='common_app_dialogues_message_info_list_col'>
                                <div>${props.message.constructor===Array?Object.values(list_row[1])[0]:list_row[1]}</div>
                            </div>
                        </div>
                    </div>`).join(''):
                    (props.message?props.message:'')
                }
            </div>
        </div>`:''
        }
        ${props.message_type=='PROGRESS'?
            `<div id='common_app_dialogues_message_progressbar_wrap'>
                <div id='common_app_dialogues_message_progressbar'></div>
            </div>`:''
        }
        <div id='common_app_dialogues_message_buttons'>
            ${props.message_type=='CONFIRM'?
                `<div id='common_app_dialogues_message_cancel' class='common_app_dialogues_button common_link common_icon_button' >${props.icons.cancel}</div>`:''
            }
            ${props.message_type!='PROGRESS'?
                `<div id='common_app_dialogues_message_close' class='common_app_dialogues_button common_link common_icon_button' >${props.icons.close}</div>`:''
            }
        </div>`;
/**
 * @name commonComponentRender
 * @description Renders component
 *              Components use analogic Vue SFC structure
 *              Components are mounted using given framework
 *              Components return:
 *                  data        
 *                  methods
 *                  lifecycle   implemented onMounted, onBeforeMounted, onUnmounted
 *                  template    rendered HTML to mount
 * @function
 * @param {{mountDiv:string|null,
 *          data:{}|null,
 *          methods:{}|null,
 *          path:string}} parameters
 * @returns {Promise.<{data:*, methods:*, events?:common['commonComponentEvents']|null, template:string|null}>}
 */
const commonComponentRender = async parameters => {
    const {default:ComponentCreate} = await commonMiscImport(parameters.path);
    if (parameters.mountDiv)
        COMMON_DOCUMENT.querySelector(`#${parameters.mountDiv}`).innerHTML = 
            await commonMiscImport('/common/component/common_loading.js')
            .then((({default:module})=>module()
                                        .then((/**@type{common['CommonComponentResult']}*/component)=>component.template)))
            .catch(()=>'');
    //manage async and synchronous function with corresponding syntax        
    /**@type{common['CommonComponentResult']}*/
    const component = Object.prototype.toString.call(ComponentCreate).toLowerCase().indexOf('async')>-1?
                        await ComponentCreate({ data:       {...parameters.data,       ...{commonMountdiv:parameters.mountDiv}},
                                                methods:    {...parameters.methods,    ...{ COMMON:commonGet()}}})
                                                .catch((/**@type{Error}*/error)=>{
                                                    parameters.mountDiv?commonComponentRemove(parameters.mountDiv):null;
                                                    commonMessageShow('EXCEPTION', null, null, error);
                                                    return null;
                                                }):
                            (()=>{
                                try {
                                    return ComponentCreate({   data:       {...parameters.data,       ...{commonMountdiv:parameters.mountDiv}},
                                                        methods:    {...parameters.methods,    ...{ COMMON:commonGet()}}});    
                                } catch (error) {
                                    parameters.mountDiv?commonComponentRemove(parameters.mountDiv):null;
                                    commonMessageShow('EXCEPTION', null, null, error);
                                    return null;
                                }
                                })()
                            
    if (component){
        if (component.lifecycle?.onBeforeMounted){
            await component.lifecycle.onBeforeMounted();
        }
        
        //component can be mounted inside a third party component
        //and div and template can be empty in this case    
        if (parameters.mountDiv && component.template)
            switch (COMMON_GLOBAL.app_framework){
                case 2:{
                    //Vue
                    await commonFrameworkMount(2, component.template, {}, parameters.mountDiv, true);
                    break;
                }
                case 3:{
                    await commonFrameworkMount(3, component.template, {}, parameters.mountDiv, true);
                    break;
                }
                case 1:
                default:{
                    //Default Javascript
                    COMMON_DOCUMENT.querySelector(`#${parameters.mountDiv}`).innerHTML = component.template;
                }
            }
        //fetch resources using secure REST API if any
        COMMON_DOCUMENT.querySelectorAll(`#${parameters.mountDiv} link`).forEach((/**@type{HTMLElement}*/link) =>
            (link.getAttribute('data-href')==''||link.getAttribute('data-href')==null)?
                null:
                    commonMiscResourceFetch(link.getAttribute('data-href')??'', link,'text/css'));
        //set component with appid and name from filename without .js
        const componentName = (parameters.path.startsWith('/common/component/')?COMMON_GLOBAL.app_common_app_id:COMMON_GLOBAL.app_id).toString() + '_' +
                                parameters.path.split('/').reverse()[0].split('.')[0];
        //use Vue.createApp and data() return pattern and React.createRef() + current key pattern to share methods
        //share methods
        if (component.methods){
            if (!COMMON_GLOBAL.component[componentName])
                COMMON_GLOBAL.component[componentName]={};
            COMMON_GLOBAL.component[componentName].methods = component.methods;
        }
        //share events to event delegation in commonEvent()
        if (component.events){
            
            if (!COMMON_GLOBAL.component[componentName])
                COMMON_GLOBAL.component[componentName]={};
            COMMON_GLOBAL.component[componentName].events = component.events;
        }
        /**@type{{div:HTMLElement, componentName:string, onUnmounted:function|null|undefined}} */
        const trackObject = {
            div:COMMON_DOCUMENT.querySelector(`#${parameters.mountDiv}`),
            componentName:componentName,
            onUnmounted:component.lifecycle?.onUnmounted};
        if (parameters.path.startsWith('/common/component/'))
            //track mounted div if removed
            commonComponentMutationObserver.track(trackObject);
        //A component must be mounted to a div to use onUnMounted or can only be tracked on app root
        if (parameters.mountDiv!=null && parameters.mountDiv!='' && component.lifecycle?.onUnmounted){
            //manage onUnMounted
            const Unmounted = () =>{
                if (COMMON_DOCUMENT.querySelector(`#${parameters.mountDiv}`).textContent==''){
                    //remove shared component including methods and events
                    if (COMMON_GLOBAL.component[componentName])
                        delete COMMON_GLOBAL.component[componentName];
                    if (component.lifecycle?.onUnmounted){
                        ComponentHook.disconnect();
                        component.lifecycle.onUnmounted();
                    }
                    if (parameters.path.startsWith('/common/component/'))
                        //component is empty, remove tracking of removed element
                        commonComponentMutationObserver.untrack(trackObject);
                }
            };
            
            //Observe mounted div if empty
            const ComponentHook = new MutationObserver(Unmounted);
            ComponentHook.observe(COMMON_DOCUMENT.querySelector(`#${parameters.mountDiv}`), {characterData: true});
        }
        //manage onMounted
        if (component.lifecycle?.onMounted){
            await component.lifecycle.onMounted();
        }
        if ((parameters.mountDiv??'').indexOf('dialogue')>-1)
            COMMON_DOCUMENT.querySelector('#common_app #common_app_dialogues').classList.add('common_app_dialogues_modal');
    }
    //return data and methods from component to be used in apps
    return {data:component?component.data:null, 
            methods:component?component.methods:null, 
            events:component?component.events:null,
            template:component?.template??null};
};
/**
 * @name commonComponentRemove
 * @description Component remove
 * @function
 * @param {string} div
 * @returns {void}
 */
const commonComponentRemove = div => {
    const APPDIV = COMMON_DOCUMENT.querySelector(`#${div}`);
    if (APPDIV){
        APPDIV.textContent = '';
        if (div.indexOf('dialogue')>-1){
            APPDIV.classList.remove('common_app_dialogues_show0');
            APPDIV.classList.remove('common_app_dialogues_show1');
            APPDIV.classList.remove('common_app_dialogues_show2');
            APPDIV.classList.remove('common_app_dialogues_show3');
            COMMON_DOCUMENT.querySelector('#common_app #common_app_dialogues').classList.remove('common_app_dialogues_modal');
        }
    }    
};
/**
 * @name commonDialogueShow
 * @description Show common dialogue
 * @function
 * @param {string} dialogue 
 * @param {string|null} user_verification_type
 * @returns {Promise.<void>}
 */
const commonDialogueShow = async (dialogue, user_verification_type=null) => {
    switch (dialogue) {
        case 'VERIFY':
            {    
                commonComponentRender({
                    mountDiv:   'common_app_dialogues_iam_verify',
                    data:       {
                                    common_app_id:              COMMON_GLOBAL.app_common_app_id,
                                    iam_user_id:                COMMON_GLOBAL.iam_user_id,
                                    user_verification_type:     user_verification_type
                                },
                    methods:    null,
                    path:       '/common/component/common_app_dialogues_iam_verify.js'});
                commonComponentRemove('common_app_dialogues_iam_start');
                break;
            }
        case 'LOGIN_ADMIN':
        case 'LOGIN':
        case 'SIGNUP':{
            await commonComponentRender({
                mountDiv:       'common_app_dialogues_iam_start',
                data:           {
                                type:               dialogue=='LOGIN_ADMIN'?null:dialogue,
                                app_id:             COMMON_GLOBAL.app_id,
                                admin_app_id:       COMMON_GLOBAL.app_admin_app_id,
                                admin_only: 		COMMON_GLOBAL.admin_only,
                                admin_first_time:   COMMON_GLOBAL.admin_first_time
                                },
                methods:        null,
                path:           '/common/component/common_app_dialogues_iam_start.js'});
            break;
        }
    }
};
/**
 * @name commonMessageShow
 * @description Show message dialogue
 *              mounts local component using template for performance and to avoid any component error
 *              no async except optional close function event
 *              no spinner
 *              no framework mount
 *              no REST API
 *              no component cache
 *              no MutationObserver
 *              
 * @function
 * @param {'ERROR'|'ERROR_BFF'|'INFO'|'EXCEPTION'|'CONFIRM'|'LOG'|'PROGRESS'} message_type 
 * @param {function|null} function_event 
 * @param {'message_text'|'message_success'|'message_fail'|null} text_class
 * @param {*} message 
 * @returns {Promise.<void>}
 */
const commonMessageShow = async (message_type, function_event, text_class=null, message=null) => {
    
    COMMON_DOCUMENT.querySelector('#common_app_dialogues_message').classList.add('common_app_dialogues_show3');
    const function_close = async () => { 
        try {
            (message_type == 'CONFIRM' && function_event)?await function_event():null;    
        } catch (error) {
            null;
        }
        commonComponentRemove('common_app_dialogues_message');
    };

    let display_message = null;
    let display_message_font_class = null;
    switch (message_type){
        case 'ERROR_BFF':{
            try {
                /**@type{common['CommonErrorMessageISO20022']} */
                const message_iso = JSON.parse(message);
                display_message = message_iso.error?.text ?? message_iso;
            } catch (error) {
                display_message = message;
            }
            display_message_font_class = 'common_font_normal';
            break;
        }
        case 'INFO':
        case 'EXCEPTION':
        case 'LOG':{
            /**
             * @param {*} message
             */
            const format_message = message =>{
                try {
                    return (JSON.parse(message).error?JSON.parse(message).error.text:JSON.parse(message));
                } catch (error) {
                    return message;
                }
            };
            //parse error key or message
            display_message = format_message(message);
            
            display_message_font_class = message_type=='LOG'?'common_font_log':'common_font_normal';
            break;
        }
        case 'CONFIRM':{
            display_message = null;
            display_message_font_class = null;
            break;
        }
        case 'PROGRESS':{
            display_message = message.text;
            display_message_font_class = 'common_font_log';
            break;
        }
    }
    COMMON_DOCUMENT.querySelector('#common_app_dialogues_message').innerHTML = commonComponentTemplateMessage({  
                                message:                    display_message,
                                message_type:               message_type,
                                message_title_font_class:   display_message_font_class,
                                message_title_icon_class:   text_class,
                                icons:{ close:commonGlobalGet('ICONS')['ok'],
                                        cancel:commonGlobalGet('ICONS')['cancel'],
                                        message_text:commonGlobalGet('ICONS')['message_text'],
                                        message_success:commonGlobalGet('ICONS')['message_success'],
                                        message_fail:commonGlobalGet('ICONS')['message_fail'],
                                        message_confirm:commonGlobalGet('ICONS')['question']
                                }
                            })
    if (message_type == 'PROGRESS')
        COMMON_DOCUMENT.querySelector('#common_app_dialogues_message_progressbar').style.width = `${(message.part/message.total)*100}%`;
    else{
        COMMON_DOCUMENT.querySelector('#common_app_dialogues_message_close')['data-function'] = function_close;
        COMMON_DOCUMENT.querySelector('#common_app_dialogues_message_close').focus();
    }
};
/**
 * @name commonMesssageNotAuthorized
 * @description Returns not authorized message
 * @function
 * @returns {string}
 */
const commonMesssageNotAuthorized = () => '‚õî';

/**
 * @name commonProfileStat
 * @description Profile stat
 * @function
 * @param {number} statchoice 
 * @param {string|null} app_rest_url
 * @returns {Promise.<void>}
 */
const commonProfileStat = async (statchoice, app_rest_url = null) => {
    await commonComponentRender({
        mountDiv:   'common_app_dialogues_profile',
        data:       {   
                    stat_list_app_rest_url:app_rest_url,
                    statchoice:statchoice ?? 1
                    },
        methods:    null,
        path:       '/common/component/common_app_dialogues_profile.js'});
};
/**
 * @name commonProfileDetail
 * @description Profile detail
 * @function
 * @param {number} detailchoice  
 * @returns {void}
 */
const commonProfileDetail = (detailchoice) => {
    if (detailchoice==0){
        //show only other app specific hide common
        COMMON_DOCUMENT.querySelector('#common_app_dialogues_profile_info_list').textContent = '';
    }
    else{
        commonComponentRender({
            mountDiv:   'common_app_dialogues_profile_info_list',
            data:       {
                        iam_user_id:COMMON_GLOBAL.iam_user_id,
                        iam_user_id_profile:COMMON_DOCUMENT.querySelector('#common_app_dialogues_profile_info_id').textContent,
                        detailchoice:detailchoice
                        },
            methods:    null,
            path:       '/common/component/common_app_dialogues_profile_info_list.js'});
    }
};
/**
 * @name commonProfileSearch
 * @description Profile search
 * @function
 * @returns {void}
 */
const commonProfileSearch = () => {
    commonComponentRender({
        mountDiv:   'common_app_profile_search_list_wrap',
        data:       {
                    iam_user_id:COMMON_GLOBAL.iam_user_id
                    },
        methods:    null,
        path:       '/common/component/common_app_profile_search_list.js'})
    .catch(()=>{
        COMMON_DOCUMENT.querySelector('#common_app_profile_search_list_wrap').style.display = 'none';
        COMMON_DOCUMENT.querySelector('#common_app_profile_search_list_wrap').textContent = '';
    });
};

/**
 * @name commonProfileShow
 * @description Profile show
 *              commonProfileShow(null, null)       from dropdown menu in apps or choosing logged in users profile
 *              commonProfileShow(userid, null)     from choosing profile in commonProfileStat, profile_detail and commonProfileSearch
 *              commonProfileShow(null, username)   from init startup when user enters url
 * @function
 * @param {number|null} iam_user_id_other 
 * @param {string|null} username 
 * @returns {Promise.<void>}
 */
const commonProfileShow = async (iam_user_id_other = null, username = null) => {
    await commonComponentRender({
        mountDiv:   'common_app_dialogues_profile',
        data:       {   
                    stat_list_app_rest_url:null,
                    statchoice:null
                    },
        methods:    null,
        path:       '/common/component/common_app_dialogues_profile.js'});
    await commonComponentRender({
        mountDiv:   'common_app_dialogues_profile_content',
        data:       {   
                    iam_user_id:COMMON_GLOBAL.iam_user_id,
                    iam_user_id_other:iam_user_id_other,
                    username:username
                    },
        methods:    null,
        path:       '/common/component/common_app_dialogues_profile_info.js'});
};
/**
 * @name commonUserLogin
 * @description User login
 * @function
 * @returns {Promise. <{    avatar: string|null}>}
 */
const commonUserLogin = async () => {
    let spinner_item = '';
    let current_dialogue = '';
    if (COMMON_GLOBAL.app_admin_app_id == COMMON_GLOBAL.app_id) {
        spinner_item = 'common_app_dialogues_iam_start_login_admin_button';
        current_dialogue = 'common_app_dialogues_iam_start';
        if (commonMiscInputControl(COMMON_DOCUMENT.querySelector('#common_app_dialogues_iam_start'),
                        {
                        username: COMMON_DOCUMENT.querySelector('#common_app_dialogues_iam_start_login_admin_username'),
                        password: COMMON_DOCUMENT.querySelector('#common_app_dialogues_iam_start_login_admin_password'),
                        password_confirm: COMMON_DOCUMENT.querySelector('#common_app_dialogues_iam_start_login_admin_password_confirm')?
                                            COMMON_DOCUMENT.querySelector('#common_app_dialogues_iam_start_login_admin_password_confirm'):
                                                null
                        })==false)
            throw 'ERROR';        
    }
    else{
        spinner_item = 'common_app_dialogues_iam_start_login_button';
        current_dialogue = 'common_app_dialogues_iam_start';
        if (commonMiscInputControl(COMMON_DOCUMENT.querySelector('#common_app_dialogues_iam_start'),
                        {
                        username: COMMON_DOCUMENT.querySelector('#common_app_dialogues_iam_start_login_username'),
                        password: COMMON_DOCUMENT.querySelector('#common_app_dialogues_iam_start_login_password')
                        })==false)
            throw 'ERROR';
    }
    const result_iam = await commonFFB({path:'/server-iam-login', 
                                        method:'POST', 
                                        authorization_type:'IAM', 
                                        username:encodeURI(COMMON_GLOBAL.app_admin_app_id == COMMON_GLOBAL.app_id?
                                                            COMMON_DOCUMENT.querySelector('#common_app_dialogues_iam_start_login_admin_username').textContent:
                                                                COMMON_DOCUMENT.querySelector('#common_app_dialogues_iam_start_login_username').textContent),
                                        password:encodeURI(COMMON_GLOBAL.app_admin_app_id == COMMON_GLOBAL.app_id?
                                                            COMMON_DOCUMENT.querySelector('#common_app_dialogues_iam_start_login_admin_password').textContent:
                                                                COMMON_DOCUMENT.querySelector('#common_app_dialogues_iam_start_login_password').textContent),
                                        spinner_id:spinner_item});
    if (JSON.parse(result_iam).active==1){
        COMMON_GLOBAL.iam_user_app_id =         JSON.parse(result_iam).iam_user_app_id;
        COMMON_GLOBAL.iam_user_id =             JSON.parse(result_iam).iam_user_id;
        COMMON_GLOBAL.iam_user_username =       JSON.parse(result_iam).iam_user_username;
        COMMON_GLOBAL.iam_user_avatar =         JSON.parse(result_iam).avatar;
        COMMON_GLOBAL.token_exp =               JSON.parse(result_iam).exp;
        COMMON_GLOBAL.token_iat =               JSON.parse(result_iam).iat;

        if (COMMON_GLOBAL.app_admin_app_id == COMMON_GLOBAL.app_id){
            COMMON_GLOBAL.token_admin_at= JSON.parse(result_iam).token_at;
            COMMON_GLOBAL.token_at	    = null;
            commonComponentRemove(current_dialogue);
        }
        else{
            COMMON_GLOBAL.token_admin_at= null;
            COMMON_GLOBAL.token_at	    = JSON.parse(result_iam).token_at;
            commonUserUpdateAvatar(true, COMMON_GLOBAL.iam_user_avatar);
            commonComponentRemove(current_dialogue);
            commonComponentRemove('common_app_dialogues_profile');
        }
        commonUserMessageShowStat();
        commonUserLoginApp(JSON.parse(result_iam).IamUserApp);
        return {avatar: JSON.parse(result_iam).avatar};
    }
    else{
        COMMON_GLOBAL.iam_user_app_id =         JSON.parse(result_iam).iam_user_app_id;
        COMMON_GLOBAL.iam_user_id =             JSON.parse(result_iam).iam_user_id;
        COMMON_GLOBAL.iam_user_username =       JSON.parse(result_iam).iam_user_username;
        if (COMMON_GLOBAL.app_admin_app_id == COMMON_GLOBAL.app_id)
            COMMON_GLOBAL.token_admin_at    = JSON.parse(result_iam).token_at;
        else
            COMMON_GLOBAL.token_at	        = JSON.parse(result_iam).token_at;
        COMMON_GLOBAL.token_exp =               JSON.parse(result_iam).exp;
        COMMON_GLOBAL.token_iat =               JSON.parse(result_iam).iat;
        commonDialogueShow('VERIFY', 'LOGIN');
        throw 'ERROR';
    }
};
/**
 * @name commonUserLoginApp
 * @description
 * @function
 * @param {common['server']['ORM']['Object']['IamUserApp']} IamUserApp
 * @returns {void}
 */
const commonUserLoginApp = IamUserApp =>{
    COMMON_GLOBAL.iam_user_app_id = IamUserApp.Id ?? null;
    //get preferences saved in Document column
    //locale
    if (IamUserApp.Document?.PreferenceLocale==null)
        commonUserPreferencesGlobalSetDefault('LOCALE');
    else
        COMMON_GLOBAL.user_locale = IamUserApp.Document.PreferenceLocale;
    //timezone
    if (IamUserApp.Document?.PreferenceTimezone==null)
        commonUserPreferencesGlobalSetDefault('TIMEZONE');
    else
        COMMON_GLOBAL.user_timezone = IamUserApp.Document.PreferenceTimezone;
    //direction
    COMMON_GLOBAL.user_direction = IamUserApp.Document?.PreferenceDirection??'';
    //arabic script
    COMMON_GLOBAL.user_arabic_script = IamUserApp.Document?.PreferenceArabicScript??'';
    //custom data for individual app functionality
    COMMON_GLOBAL.user_custom = IamUserApp.Document?.Custom??null;
    //update body class with app theme, direction and arabic script usage classes
    commonMiscPreferencesUpdateBodyClassFromPreferences();
};
/**
 * @name commonUserSessionClear
 * @description Clears users ssesion variables
 * @function
 * @returns {void}
 */
const commonUserSessionClear = () => {
    //iam user
    COMMON_GLOBAL.iam_user_app_id =         null;
    COMMON_GLOBAL.iam_user_id =             null;
    COMMON_GLOBAL.iam_user_username =       null;

    //admin access token
    COMMON_GLOBAL.token_admin_at =          null;
    //user access token
    COMMON_GLOBAL.token_at	=               null;
    COMMON_GLOBAL.token_exp =               null;
    COMMON_GLOBAL.token_iat =               null;
};

/**
 * @name commonUserSessionCountdown
 * @description Countdown function to monitor token expire time
 *              Uses event listener on element instead of setTimeout since element can removed 
 *              and then event listener will automatically be removed
 *              if token_exp is null then users COMMON_GLOBAL.token_exp will be used
 * @function
 * @param {HTMLElement} element
 * @param {number|null} token_exp
 * @param {function|null} app_function
 * @returns {Promise.<void>}
 */
 const commonUserSessionCountdown = async (element, token_exp, app_function=null) => {

    if (element.id)
        element = COMMON_DOCUMENT.querySelector(`#${element.id}`);
    else{
        let id;
        try {
            id = `#${commonMiscElementId(element)}`;
        } catch (error) {
            id = null;
        }
        element = id?COMMON_DOCUMENT.querySelector(`${id} .${element.className.replaceAll(' ','.')}`):null;
    }
        
    if (element){
        const time_left = ((token_exp ?? COMMON_GLOBAL?.token_exp ??0) * 1000) - (Date.now());
        if (time_left < 0){
            element.textContent =commonGlobalGet('ICONS')['user_session_expired'];
        }
        else{
            const days = Math.floor(time_left / (1000 * 60 * 60 * 24));
            const hours = Math.floor((time_left % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((time_left % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((time_left % (1000 * 60)) / 1000);
            element.textContent = `${days}d ${hours}h ${minutes}m ${seconds}s`;
            //run app function if any
            app_function?app_function():null;
            //wait 1 second
            await commonWindowWait(1000);            
            commonUserSessionCountdown(element, token_exp ?? COMMON_GLOBAL?.token_exp ?? 0, app_function);
        }
    }
};
/**
 * @name commonUserLogout
 * @description User logout
 * @function
 * @returns {Promise.<void>}
 */
const commonUserLogout = async () => {
    await commonFFB({path:'/server-iam-logout', 
                    method:'DELETE', 
                    authorization_type:(COMMON_GLOBAL.app_id == COMMON_GLOBAL.app_admin_app_id)?'ADMIN':'APP_ACCESS'})
            .catch(()=>{
                //ignore error since token can be expired
                null;
            });
    commonLogout();
};

/**
 * @name commonLogout
 * @description User logout
 * @function
 * @returns {Promise.<void>}
 */
const commonLogout = async () => {
    commonComponentRemove('common_app_dialogues_user_menu');
    COMMON_GLOBAL.component[COMMON_GLOBAL.app_common_app_id + '_' + 'common_app_window_info']?.methods?.commonWindoInfoClose?
        COMMON_GLOBAL.component[COMMON_GLOBAL.app_common_app_id + '_' + 'common_app_window_info']?.methods?.commonWindoInfoClose():
            null;
    commonComponentRemove('common_app_dialogues_iam_verify');
    if (COMMON_GLOBAL.app_id != COMMON_GLOBAL.app_admin_app_id){
        commonUserUpdateAvatar(false,null );
        commonComponentRemove('common_app_dialogues_iam_verify');
        commonComponentRemove('common_app_dialogues_iam_start');
        commonComponentRemove('common_app_dialogues_profile');
    }
    commonUserPreferencesGlobalSetDefault('LOCALE');
    commonUserPreferencesGlobalSetDefault('TIMEZONE');
    commonUserPreferencesGlobalSetDefault('DIRECTION');
    commonUserPreferencesGlobalSetDefault('ARABIC_SCRIPT');
    //update body class with app theme, direction and arabic script usage classes
    commonMiscPreferencesUpdateBodyClassFromPreferences();
    commonUserSessionClear();
};



const commonUserMessageShowStat = async () =>{
    if (COMMON_DOCUMENT.querySelector('#common_app_dialogues_user_menu_nav_messages_count') ||
        COMMON_DOCUMENT.querySelector('#common_app_iam_user_menu_message_count')){
        /**@type{{unread:number, 
             *           read:number}}
             */    
        const messageStat = await commonFFB({path:'/app-common-module/COMMON_MESSAGE_COUNT', 
            method:'POST', 
            body:{  type:'FUNCTION', 
                    IAM_iam_user_id:COMMON_GLOBAL.iam_user_id,
                    IAM_data_app_id:COMMON_GLOBAL.app_common_app_id},
            authorization_type:COMMON_GLOBAL.app_id == COMMON_GLOBAL.app_admin_app_id?'ADMIN':'APP_ACCESS'})
            .then((/**@type{*}*/result)=>JSON.parse(result).rows[0]);
        if (COMMON_DOCUMENT.querySelector('#common_app_dialogues_user_menu_nav_messages_count'))
            COMMON_DOCUMENT.querySelector('#common_app_dialogues_user_menu_nav_messages_count').textContent = `${messageStat.unread}(${messageStat.unread+messageStat.read})`;
        if (COMMON_DOCUMENT.querySelector('#common_app_iam_user_menu_message_count'))
            COMMON_DOCUMENT.querySelector('#common_app_iam_user_menu_message_count').textContent = `${messageStat.unread}(${messageStat.unread+messageStat.read})`;
        
    }    
};

/**
 * @name commonUserUpdateAvatar
 * @description Update avatar login/logout
 * @function
 * @param {boolean} login
 * @param {string|null} avatar
 * @returns {void}
 */
const commonUserUpdateAvatar = (login, avatar) =>{
    if (login){
        COMMON_DOCUMENT.querySelector('#common_app_iam_user_menu_avatar_img').style.backgroundImage= avatar?
                                                                                                `url('${avatar}')`:
                                                                                                    'url()';
        COMMON_DOCUMENT.querySelector('#common_app_iam_user_menu_avatar_img').setAttribute('data-image',avatar);
        COMMON_DOCUMENT.querySelector('#common_app_iam_user_menu_logged_in').style.display = 'inline-block';
        COMMON_DOCUMENT.querySelector('#common_app_iam_user_menu_logged_out').style.display = 'none';
    }
    else{
        COMMON_DOCUMENT.querySelector('#common_app_iam_user_menu_avatar_img').style.backgroundImage= 'url()';
        COMMON_DOCUMENT.querySelector('#common_app_iam_user_menu_avatar_img').setAttribute('data-image',null);
        COMMON_DOCUMENT.querySelector('#common_app_iam_user_menu_logged_in').style.display = 'none';
        COMMON_DOCUMENT.querySelector('#common_app_iam_user_menu_logged_out').style.display = 'inline-block';
        COMMON_DOCUMENT.querySelector('#common_app_iam_user_menu_message_count').textContent = '';
    }
};
/**
 * @name commonUserLocale
 * @description get user locale
 * @function
 * @returns {string}
 */
const commonUserLocale =() =>COMMON_GLOBAL.user_locale;

/**
 * @name commonUserPreferencesGlobalSetDefault
 * @description User prefernce set default globals
 * @function
 * @param {*} preference 
 * @returns {void}
 */
const commonUserPreferencesGlobalSetDefault = (preference) => {
    switch (preference){
        case 'LOCALE':{
            COMMON_GLOBAL.user_locale         = commonWindowNavigatorLocale();
            break;
        }
        case 'TIMEZONE':{
            COMMON_GLOBAL.user_timezone       = COMMON_GLOBAL.client_timezone ?? COMMON_WINDOW.Intl.DateTimeFormat().resolvedOptions().timeZone;
            break;
        }
        case 'DIRECTION':{
            COMMON_GLOBAL.user_direction      = '';
            break;
        }
        case 'ARABIC_SCRIPT':{
            COMMON_GLOBAL.user_arabic_script  = '';
            break;
        }
    }
};


/**
 * @name commonFFB
 * @description Frontend for Backend (FFB)
 *              All requests are encrypted
 *              Can use request for roles 
 *              APP_ACCESS_EXTERNAL
 *              APP_ACCESS
 *              APP_ACCESS_VERIFICATION
 *              ADMIN
 *              IAM
 *              Uses backoff algorithm to requests
 *              Adds increasing milliseconds to request timeout or error 429 Too many requests: Math.pow(2, increased retry) * 1000
 *              Timeout error will be returned until server parameter APP_REQUEST_TRIES reached
 *              Pipes encrypted result to readable stream if SSE where events are delegated or returns result from REST API
 * @function
 * @param {{path:string,
 *          query?:string|null,
 *          method:common['CommonRESTAPIMethod'],
 *          authorization_type:common['CommonRESTAPIAuthorizationType'],
 *          username?:string,
 *          password?:string,
 *          body?:*,
 *          response_type?:'SSE'|'TEXT'
 *          spinner_id?:string|null,
 *          timeout?:number|null}} parameter
 * @returns {Promise.<*>} 
 */
const commonFFB = async parameter =>{
    /**
     * @description Front end for backend (FFB) that receives responses 
     *              from backend for frontend (BFF)
     * @param {{uuid:string,
     *          secret:string,
     *          response_type?:'SSE'|'TEXT'|'BLOB',
     *          spinner_id?:string|null,
     *          timeout?:number|null,
     *          rest_api_version: string,
     *          rest_bff_path   : string,
     *          data:{
     *              idToken: string,
     *              accessToken?:string,
     *              externalToken:string|null,
     *              path?:string|null,
     *              query?:string|null,
     *              method:string,
     *              authorization_type:string,
     *              username?:string,
     *              password?:string,
     *              body?:*,
     *          }}} parameters
     */
    const FFB = async parameters =>{
        /**@type{number} */
        let status;
        let authorization = null;
        
        parameters.data.query = parameters.data.query==null?'':parameters.data.query;
        parameters.data.body = parameters.data.body?parameters.data.body:null;
        //admin uses ADMIN instead of APP_ACCESS so all ADMIN requests use separate admin token
        const ROLE = (COMMON_GLOBAL.app_id == COMMON_GLOBAL.app_admin_app_id && parameters.data.authorization_type =='APP_ACCESS')?
                        'ADMIN':parameters.data.authorization_type;
        switch (ROLE){
            case 'APP_ACCESS_EXTERNAL':{
                authorization = 'Bearer ' + parameters.data.externalToken;
                break;
            }
            case 'APP_ACCESS':
            case 'APP_ACCESS_VERIFICATION':
            case 'ADMIN':{
                authorization = 'Bearer ' + parameters.data.accessToken;
                break;
            }
            case 'IAM':{
                authorization = 'Basic ' + commonWindowToBase64(parameters.data.username + ':' + parameters.data.password);
                break;
            }
        }
        //encode query parameters
        const encodedparameters = parameters.data.query?commonWindowToBase64(parameters.data.query):'';
        const bff_path = parameters.rest_bff_path + '/' + 
                            ROLE.toLowerCase() + 
                            '/v' + (parameters.rest_api_version ??1);
        //public url
        const url = (COMMON_GLOBAL.app_rest_api_basepath + parameters.uuid);

        if (parameters.spinner_id && COMMON_DOCUMENT?.querySelector('#' + parameters.spinner_id))
            COMMON_DOCUMENT.querySelector('#' + parameters.spinner_id).classList.add('common_loading_spinner');
        const resultFetch = {finished:false};
        const options =     {
                            cache:  'no-store',
                            method: 'POST',
                            headers:{
                                        ...(parameters.response_type =='SSE' && {'Cache-control': 'no-cache'}),
                                        'Content-Type': COMMON_GLOBAL.app_content_type_json,
                                        'Connection':   parameters.response_type =='SSE'?
                                                            'keep-alive':
                                                                'close',
                                    },
                            body: JSON.stringify({
                                    x: COMMON_GLOBAL.x.encrypt({
                                        iv:     JSON.parse(commonWindowFromBase64(parameters.secret)).iv,
                                        key:    JSON.parse(commonWindowFromBase64(parameters.secret)).jwk.k, 
                                        data:JSON.stringify({  
                                                headers:{
                                                        'app-id':       COMMON_GLOBAL.app_id,
                                                        'app-signature':COMMON_GLOBAL.x.encrypt({ 
                                                                            iv:     JSON.parse(commonWindowFromBase64(parameters.secret)).iv,
                                                                            key:    JSON.parse(commonWindowFromBase64(parameters.secret)).jwk.k, 
                                                                            data:   JSON.stringify({app_id: COMMON_GLOBAL.app_id })}),
                                                        'app-id-token': 'Bearer ' + parameters.data.idToken,
                                                        ...(authorization && {Authorization: authorization}),
                                                        'Content-Type': parameters.response_type =='SSE'?
                                                                            COMMON_GLOBAL.app_content_type_sse:
                                                                                COMMON_GLOBAL.app_content_type_json,
                                                        },
                                                method: parameters.data.method,
                                                url:    bff_path + parameters.data.path + '?parameters=' + encodedparameters,
                                                body:   parameters.data.body?
                                                            JSON.stringify({data:commonWindowToBase64(JSON.stringify(parameters.data.body))}):
                                                                null
                                            })
                                        })
                                })
                            };
        /**
         * 
         * @param {*} data 
         * @returns {string}
         */
        const getDecrypted   = data =>
                COMMON_GLOBAL.x.decrypt({
                            iv:         JSON.parse(commonWindowFromBase64(parameters.secret)).iv,
                            key:        JSON.parse(commonWindowFromBase64(parameters.secret)).jwk.k,
                            ciphertext: parameters.response_type=='SSE'?
                                            new TextDecoder('utf-8').decode(data).split('\\n\\n')[0].split('data: ')[1]:
                                            data});
        let retries = 0;
        //loop max retries according to parameter until result is fetched in case of too many request or timeout errors
        do{
            //add backoff algorithm to requests
            //add increasing milliseconds to user or admin request timeout values
            const waitBackoffInMilliseconds = Math.pow(2, retries) * 1000;
            //0:0 sec, 1:2 sec, 2:4 sec, 3:8 sec, 4:16 sec, 5:32...
            const result = await Promise.race(
                [   new Promise((resolve)=>
                        setTimeout(()=>{
                            if (resultFetch.finished==false){
                                commonMessageShow('ERROR_BFF', null, null, 'üó∫‚õî?');
                                resolve('üó∫‚õî?');
                                throw ('TIMEOUT');
                            }
                            }, (COMMON_GLOBAL.app_id == COMMON_GLOBAL.app_admin_app_id?
                                    (1000 * 60 * COMMON_GLOBAL.app_requesttimeout_admin_minutes):
                                    parameters.timeout || (1000 * COMMON_GLOBAL.app_requesttimeout_seconds)) + waitBackoffInMilliseconds
                        )),
                    /**@ts-ignore */
                    fetch(url, options)
                        .then((/**@type{*}*/response) =>{
                            status = response.status;
                            if (parameters.response_type=='SSE')
                                return response;
                            else
                                return response.text();
                        })
                        .then(result => {                                    
                            switch (status){
                                case 200:
                                case 201:{
                                    if (parameters.response_type=='SSE'){
                                        /**
                                         * @param {string} BFFmessage
                                         * @returns {{sse_type:common['server']['socket']['broadcast_type'],
                                         *           sse_message:string}}
                                         */
                                        const getSSEMessage = BFFmessage =>{
                                            const messageDecoded = commonWindowFromBase64(BFFmessage);
                                            return {sse_type:JSON.parse(messageDecoded).sse_type,
                                                    sse_message:JSON.parse(messageDecoded).sse_message};
                                        };
                                        const BFFStream = new WritableStream({
                                            async write(BFFmessage){
                                                try {
                                                    const SSEmessage = getSSEMessage(getDecrypted(BFFmessage));
                                                    switch (SSEmessage.sse_type){
                                                        case 'FONT_URL':{
                                                            commonMiscLoadFont({uuid:               parameters.uuid??'',
                                                                                secret:             parameters.secret??'',
                                                                                message:            SSEmessage.sse_message});
                                                            break;
                                                        }
                                                        default:{
                                                            commonSocketSSEShow(SSEmessage);
                                                            break;
                                                        }
                                                    }    
                                                } catch (error) {
                                                    null;
                                                }
                                            }
                                        //The total number of chunks that can be contained in the internal queue before backpressure is applied
                                        }, new CountQueuingStrategy({ highWaterMark: 1 }));
                                        //pipe to Writeable Stream and restart if connection is lost
                                        result.body.pipeTo(BFFStream).catch(()=>window.location.href='/');
                                        return {status:status, result:null};
                                    }
                                    else
                                        /**@ts-ignore */
                                        return {status:status, result:getDecrypted(result)};
                                }
                                case 400:{
                                    //Bad request
                                    commonMessageShow('ERROR_BFF', null, 'message_text', '!');
                                    throw getDecrypted(result);
                                }
                                case 429:{
                                    //Too many requests
                                    return {status:status, result:null};
                                }
                                case 404:   //Not found
                                case 401:   //Unauthorized, token expired
                                case 403:   //Forbidden, not allowed to login or register new user
                                case 503:   //Service unavailable or other error in microservice
                                {   
                                    const error = getDecrypted(result);
                                    commonMessageShow('ERROR_BFF', null, null, error);
                                    throw error;
                                }
                                case 500:{
                                    //Unknown error
                                    const error = getDecrypted(result);
                                    commonMessageShow('EXCEPTION', null, null, error);
                                    throw error;
                                }
                            }
                        })
                        .catch(error=>{
                            throw error;
                        })
                        .finally(()=>{
                            resultFetch.finished=true;
                            if (parameters.spinner_id && COMMON_DOCUMENT?.querySelector('#' + parameters.spinner_id))
                                COMMON_DOCUMENT.querySelector('#' + parameters.spinner_id).classList.remove('common_loading_spinner');
                        })
                ]);
            if ([200,201].includes(result.status))
                return result.result;
            else
                retries++;
            }
        while (retries < COMMON_GLOBAL.app_request_tries);
        commonMessageShow('ERROR_BFF', null, null, 'üó∫‚õî?');
        throw ('TIMEOUT');
    };
    return await FFB({
            uuid: COMMON_GLOBAL.x.uuid??'',
            secret: COMMON_GLOBAL.x.secret??'',
            response_type: parameter.response_type??'TEXT',
            spinner_id: parameter.spinner_id,
            timeout: parameter.timeout,
            rest_api_version: COMMON_GLOBAL.app_rest_api_version??'',
            rest_bff_path   : COMMON_GLOBAL.rest_resource_bff??'',
            data: {
                idToken: COMMON_GLOBAL.token_dt??'',
                accessToken: (COMMON_GLOBAL.app_id == COMMON_GLOBAL.app_admin_app_id)?
                                COMMON_GLOBAL.token_admin_at??'':
                                    COMMON_GLOBAL.token_at??'',
                externalToken:COMMON_GLOBAL.token_external??null,
                path:parameter.path,
                query: parameter.query,
                method: parameter.method,
                authorization_type: parameter.authorization_type,
                username: parameter.username??'',
                password: parameter.password??'',
                body: parameter.body ?? null
            }});
};

/**
 * @name commonSocketSSEShow
 * @description Show sse message
 * @function
 * @param {{sse_type:common['server']['socket']['broadcast_type'],
 *           sse_message:string}} sse_message 
 * @returns {Promise.<void>}
 */
const commonSocketSSEShow = async (sse_message) => {
    switch (sse_message.sse_type){
        case 'EXPIRED_ACCESS':
        case 'MAINTENANCE':{
            window.location.href = '/';
            break;
        }
        case 'EXPIRED_SESSION':{
            commonLogout();
            COMMON_GLOBAL.app_function_session_expired?COMMON_GLOBAL.app_function_session_expired():null;
            break;
        }
        case 'CONNECTINFO':{
            COMMON_GLOBAL.client_latitude =             JSON.parse(sse_message.sse_message).latitude==''?
                                                            COMMON_GLOBAL.client_latitude:
                                                                JSON.parse(sse_message.sse_message).latitude;
            COMMON_GLOBAL.client_longitude =            JSON.parse(sse_message.sse_message).longitude==''?
                                                            COMMON_GLOBAL.client_longitude:
                                                                JSON.parse(sse_message.sse_message).longitude;
            COMMON_GLOBAL.client_place =                JSON.parse(sse_message.sse_message).place==''?
                                                            COMMON_GLOBAL.client_place:
                                                                JSON.parse(sse_message.sse_message).place;
            COMMON_GLOBAL.client_timezone =             JSON.parse(sse_message.sse_message).timezone==''?
                                                            COMMON_GLOBAL.client_timezone:
                                                                JSON.parse(sse_message.sse_message).timezone;
            break;
        }
        case 'CHAT':
        case 'ALERT':{
            commonComponentRender({
                mountDiv:   'common_app_broadcast',
                data:       {message:sse_message.sse_message},
                methods:    null,
                path:       '/common/component/common_app_broadcast.js'});
            break;
        }
		case 'PROGRESS':{
			commonMessageShow('PROGRESS', null, null, JSON.parse(sse_message.sse_message));
            break;
        }
        case 'PROGRESS_LOADING':{
            //set progress info and illustration about progress
            if (COMMON_DOCUMENT.querySelector('#common_loading_progressbar_info'))
                COMMON_DOCUMENT.querySelector('#common_loading_progressbar_info').style.width = 
                    JSON.parse(sse_message.sse_message).info ??'';
            if (COMMON_DOCUMENT.querySelector('#common_loading_progressbar'))
                COMMON_DOCUMENT.querySelector('#common_loading_progressbar').style.width = 
                    `${(JSON.parse(sse_message.sse_message).part/JSON.parse(sse_message.sse_message).total)*100}%`;
            break;
        }
        case 'APP_FUNCTION':{
            if (COMMON_GLOBAL.app_function_sse)
                COMMON_GLOBAL.app_function_sse(sse_message.sse_message);
            break;
        }
        case 'MESSAGE':{
            commonUserMessageShowStat();
            break;
        }   
    }
};
/**
 * @name commonSocketConnectOnlineCheck
 * @description Socket check online
 * @function
 * @param {string} div_icon_online 
 * @param {number} iam_user_id 
 * @returns {void}
 */
const commonSocketConnectOnlineCheck = (div_icon_online, iam_user_id) => {
   commonFFB({path:`/server-socket/socket-status/${iam_user_id}`, method:'GET', authorization_type:'APP_ID'})
    .then(result=>COMMON_DOCUMENT.querySelector('#' + div_icon_online).className = JSON.parse(result).online==1?'common_online':'common_offline');
};
/**
 * @name commonTextEditingDisabled
 * @description Check if textediting is disabled
 * @function
 * @returns {boolean}
 */
const commonTextEditingDisabled = () =>COMMON_GLOBAL.app_text_edit=='0';

/**
 * @name commonEvent
 * @description Central event delegation on app root
 *              order of events: 1 common, 2 module, 3 app 
 * @function
 * @param {common['commonEventType']} event_type 
 * @param {common['CommonAppEvent']|null} event 
 * @returns {Promise.<void>}
 */
const commonEvent = async (event_type,event=null) =>{
    if (event==null){
        COMMON_DOCUMENT.querySelector(`#${COMMON_GLOBAL.app_root}`).addEventListener(event_type, (/**@type{common['CommonAppEvent']}*/event) => {
            commonEvent(event_type, event);
        });
    }
    else{
        //1 common events
        //uses IIFE and waits until finished
        await (async ()=>{
            switch (event_type){
                case 'click':{
                    const elementDiv = commonMiscElementDiv(event.target);
                    //close all open div selects except current target
                    if (typeof commonMiscElementDiv(event.target).className=='string' && 
                            ['common_select_dropdown', 
                            'common_select_dropdown_value',
                            'common_icon_select_dropdown',
                            'common_select_options',
                            'common_select_option']
                            .filter(row=>elementDiv.className.indexOf(row)>-1).length>0){
                        Array.from(COMMON_DOCUMENT.querySelectorAll(`#${COMMON_GLOBAL.app_root} .common_select_options`))
                            .filter((/**@type{HTMLElement}*/element)=>commonMiscElementId(element) != commonMiscElementId(event.target))
                            .forEach((/**@type{HTMLElement}*/element)=>element.style.display='none');
                    }

                    if (event.target.classList.contains('common_switch')){
                        if (event.target.classList.contains('checked'))
                            event.target.classList.remove('checked');
                        else
                            event.target.classList.add('checked');
                    }
                    else{
                        const event_target_id = commonMiscElementId(event.target);
                        switch(event_target_id){
                            case event.target.parentNode.classList.contains('common_select_dropdown_value')?event_target_id:'':
                            case event.target.parentNode.classList.contains('common_icon_select_dropdown')?event_target_id:'':
                            case event.target.classList.contains('common_select_dropdown_value')?event_target_id:'':
                            case event.target.classList.contains('common_icon_select_dropdown')?event_target_id:'':{
                                COMMON_DOCUMENT.querySelector(`#${event_target_id} .common_select_options`).style.display = 
                                    COMMON_DOCUMENT.querySelector(`#${event_target_id} .common_select_options`).style.display=='block'?'none':'block';
                                break;
                            }
                            case event.target.parentNode.classList.contains('common_select_option')?event_target_id:'':{
                                //select can show HTML, use innerHTML
                                COMMON_DOCUMENT.querySelector(`#${event_target_id} .common_select_dropdown_value`).innerHTML = event.target.parentNode.innerHTML;
                                COMMON_DOCUMENT.querySelector(`#${event_target_id} .common_select_dropdown_value`).setAttribute('data-value', event.target.parentNode.getAttribute('data-value'));
                                event.target.parentNode.parentNode.style.display = 'none';
                                break;
                            }
                            case event.target.classList.contains('common_select_option')?event_target_id:'':{
                                //select can show HTML, use innerHTML
                                COMMON_DOCUMENT.querySelector(`#${event_target_id} .common_select_dropdown_value`).innerHTML = event.target.innerHTML;
                                COMMON_DOCUMENT.querySelector(`#${event_target_id} .common_select_dropdown_value`).setAttribute('data-value', event.target.getAttribute('data-value'));
                                event.target.parentNode.style.display = 'none';
                                break;
                            }                            
                            case 'common_app_profile_search_icon':{
                                COMMON_DOCUMENT.querySelector('#common_app_profile_search_input').focus();
                                COMMON_DOCUMENT.querySelector('#common_app_profile_search_input').dispatchEvent(new KeyboardEvent('keyup'));
                                break;
                            }
                            /**Dialogue message */
                            case 'common_app_dialogues_message_close':{
                                if (COMMON_DOCUMENT.querySelector('#common_app_dialogues_message_close')['data-function'])
                                    await COMMON_DOCUMENT.querySelector('#common_app_dialogues_message_close')['data-function']();
                                break;
                            }
                            case 'common_app_dialogues_message_cancel':{
                                commonComponentRemove('common_app_dialogues_message');
                                break;
                            }
                            /* Dialogue user menu*/
                            case 'common_app_iam_user_menu':
                            case 'common_app_iam_user_menu_logged_in':
                            case 'common_app_iam_user_menu_avatar':
                            case 'common_app_iam_user_menu_avatar_img':
                            case 'common_app_iam_user_menu_logged_out':
                            case 'common_app_iam_user_menu_default_avatar':{
                                await commonComponentRender({
                                    mountDiv:   'common_app_dialogues_user_menu',
                                    data:       {
                                                app_id:COMMON_GLOBAL.app_id,
                                                iam_user_id:COMMON_GLOBAL.iam_user_id,
                                                iam_user_username:COMMON_GLOBAL.iam_user_username,
                                                common_app_id:COMMON_GLOBAL.app_common_app_id,
                                                admin_app_id:COMMON_GLOBAL.app_admin_app_id,
                                                token_exp:COMMON_GLOBAL.token_exp,
                                                token_iat:COMMON_GLOBAL.token_iat
                                                },
                                    methods:    null,
                                    path:       '/common/component/common_app_dialogues_user_menu.js'});
                                break;
                            }

                            //dialogue button stat
                            case 'common_app_profile_toolbar_stat':{
                                await commonProfileStat(1, null);
                                break;
                            }
                            //markdown show/hide details
                            case ((typeof event.target.className=='string'?event.target.className.indexOf('common_md_tab_col')>-1:false) && commonMiscElementRow(event.target, 'common_md_tab_row').classList?.contains('common_md_tab_row_title')?event_target_id:null):{
                                if (commonMiscElementRow(event.target, 'common_md_tab').classList?.contains('hide'))
                                    commonMiscElementRow(event.target, 'common_md_tab').classList?.remove('hide');
                                else
                                    commonMiscElementRow(event.target, 'common_md_tab').classList?.add('hide');
                                break;
                            }
                            // common app toolbar
                            case 'common_app_toolbar_start':{
                                commonAppMount(COMMON_GLOBAL.app_start_app_id);
                                break;
                            }
                            case 'common_app_toolbar_framework_js':
                            case 'common_app_toolbar_framework_vue':
                            case 'common_app_toolbar_framework_react':{
                                COMMON_DOCUMENT.querySelectorAll('#common_app_toolbar .common_toolbar_selected').forEach((/**@type{HTMLElement}*/btn)=>btn.classList.remove('common_toolbar_selected'));
                                COMMON_DOCUMENT.querySelector(`#${event_target_id}`).classList.add('common_toolbar_selected');
                                if (event_target_id=='common_app_toolbar_framework_js')
                                    await commonFrameworkSet(1);
                                if (event_target_id=='common_app_toolbar_framework_vue')
                                    await commonFrameworkSet(2);
                                if (event_target_id=='common_app_toolbar_framework_react')
                                    await commonFrameworkSet(3);
                                break;
                            }
                            //markdown document tags
                            case event.target.classList.contains('common_md_image')?event_target_id:'':{
                                if (event.target.getAttribute('data-url_link'))
                                    commonComponentRender({
                                        mountDiv:   'common_app_window_info',
                                        data:       {
                                                    info:'IMAGE',
                                                    url:event.target.getAttribute('data-url_link'),
                                                    },
                                        methods:    null,
                                        path:       '/common/component/common_app_window_info.js'});
                                break;
                            }
                            case COMMON_DOCUMENT.querySelector(`#${event_target_id}`).classList.contains('common_document')?event_target_id:'':{
                                //display document except common_link that uses its own event
                                if (!event.target.classList.contains('common_link'))
                                    commonComponentRender({
                                        mountDiv:   'common_app_window_info',
                                        data:       {
                                                    info:'HTML',
                                                    content:COMMON_DOCUMENT.querySelector(`#${event_target_id}`).outerHTML,
                                                    },
                                        methods:    null,
                                        path:       '/common/component/common_app_window_info.js'});
                                break;
                            }
                        }
                    }
                    break;
                }
                case 'keydown':{
                    if (event.code=='Enter')
                        event.preventDefault();
                    if (commonTextEditingDisabled() &&
                        event.target.classList.contains('common_input') && 
                            (event.code=='' || event.code=='Enter' || event.altKey == true || event.ctrlKey == true || 
                            (event.shiftKey ==true && (event.code=='ArrowLeft' || 
                                                        event.code=='ArrowRight' || 
                                                        event.code=='ArrowUp' || 
                                                        event.code=='ArrowDown'|| 
                                                        event.code=='Home'|| 
                                                        event.code=='End'|| 
                                                        event.code=='PageUp'|| 
                                                        event.code=='PageDown') ) )
                        ){
                            event.preventDefault();
                    }
                    break;                
                }
                case 'keyup':{
                    if (event.target.classList.contains('common_password')){   
                        COMMON_DOCUMENT.querySelector(`#${event.target.id}_mask`).textContent = 
                            event.target.textContent.replace(event.target.textContent, '*'.repeat(commonMiscLengthWithoutDiacrites(event.target.textContent)));
                    }
                    else
                        switch (event.target.id){
                            case 'common_app_profile_search_input':{
                                commonMiscListKeyEvent({event:event,
                                                        event_function:commonProfileSearch,
                                                        event_parameters:null,
                                                        rows_element:'common_app_profile_search_list',
                                                        search_input:'common_app_profile_search_input'});
                                break;
                            }
                        }
                    break;
                }
                case 'mousedown':{
                    //common event only
                    commonEventCopyPasteCutDisable(event);
                    break;
                }
                case 'touchstart':{
                    //common event only
                    commonEventInputDisable(event);
                    break;
                }
                case 'copy':{
                    //common event only
                    commonEventCopyPasteCutDisable(event);
                    break;
                }
                case 'paste':{
                    //common event only
                    commonEventCopyPasteCutDisable(event);
                    break;
                }
                case 'cut':{
                    //common event only
                    commonEventCopyPasteCutDisable(event);
                    break;
                }
                default:{
                    break;
                }
            }
        })();
        //2 component events
        //fire component events defined in each component in COMMON_GLOBAL.component[component].events key
        //component events should be for component elements, use app events to add addional functionality after common event and component events
        for (const component of Object.values(COMMON_GLOBAL.component))
            component.events?
                await component.events(event_type, event):
                    null;
        //3 app events
        COMMON_GLOBAL.app_metadata.events[event_type]?await COMMON_GLOBAL.app_metadata.events[event_type](event):null;
    }
};
/**
 * @name commonEventCopyPasteCutDisable
 * @description Disable copy cut paste
 * @function
 * @param {common['CommonAppEvent']} event 
 * @returns {void}
 */
 const commonEventCopyPasteCutDisable = event => {
    if (commonTextEditingDisabled()){
        if(event.target.nodeName !='SELECT'){
            event.preventDefault();
            event.target.focus();
        }
    }
    else{
        if (event.type=='paste'){
            event.preventDefault();
            event.target.textContent = event.clipboardData.getData('Text');
        }
    }
};
/**
 * @name commonEventInputDisable
 * @description Disable common input textediting
 * @function
 * @param {common['CommonAppEvent']} event 
 * @returns {void}
 */
const commonEventInputDisable = event => {
    if (commonTextEditingDisabled())
        if (event.target.classList.contains('common_input')){
            event.preventDefault();
            event.target.focus();
        }
};

/**
 * @name commonFrameworkMount
 * @description Mount app using Vue or React framework
 *              Component is mounted as pure HTML without events
 *              App component is mounted with supported events on app root for Vue
 *              App component is mounted without events on app root for React
 *              Template is already rendered HTML
 *              Mounting the rendered template means parsing HTML according to Vue or React standards
 *              that validate that the component renders valid HTML
 * @function
 * @param {2|3} framework
 * @param {string} template
 * @param {{}} methods
 * @param {string} mount_div
 * @param {boolean} component
 * @returns {Promise.<void>}
 */
const commonFrameworkMount = async (framework, template, methods,mount_div, component) =>{
    switch (framework){
        case 2:{
            //Vue
            /**@type {common['CommonModuleVue']} */
            const Vue = await commonMiscImport(commonMiscImportmap('Vue'));

            //Use tempmount div to be able to return pure HTML without extra events
            //since event delegation is used
            COMMON_DOCUMENT.querySelector(`#${mount_div}`).innerHTML ='<div id=\'tempmount\'></div>'; 
            try {
                //mount the app or component
                Vue.createApp({
                    data(){return {};},
                    template: template,
                    methods:methods,
                    compilerOptions: {
                        whitespace: 'preserve'
                    }
                }).mount('#tempmount');

                if (component){
                    //replace mount div with tempmount div without events
                    COMMON_DOCUMENT.querySelector(`#${mount_div}`).innerHTML = COMMON_DOCUMENT.querySelector('#tempmount').innerHTML;
                }
                else{
                    //replace mount div with tempmount element with events
                    COMMON_DOCUMENT.querySelector(`#${mount_div}`).replaceWith(COMMON_DOCUMENT.querySelector('#tempmount >div'));
                }    
            } catch (error) {
                COMMON_DOCUMENT.querySelector(`#${mount_div}`).innerHTML = template;
            }
            
            break;
        }
        case 3:{
            //React
            /**@type {common['CommonModuleReact']} */
            const React = await commonMiscImport(commonMiscImportmap('React')).then(module=>module.React);
            /**@type {common['CommonModuleReactDOM']} */
            const ReactDOM = await commonMiscImport(commonMiscImportmap('ReactDOM')).then(module=>module.ReactDOM);

            try {
                //convert HTML template to React component
                const div_template = COMMON_DOCUMENT.createElement('div');
                div_template.innerHTML = template;
                const component = React.createElement(div_template.nodeName.toLowerCase(), 
                                                    { id: div_template.id, className: div_template.className}, 
                                                    commonFrameworkHtml2ReactComponent(React.createElement, div_template.children));

                COMMON_DOCUMENT.querySelector(`#${mount_div}`).innerHTML ='<div id=\'tempmount\'></div>'; 
                const application = ReactDOM.createRoot(COMMON_DOCUMENT.querySelector(`#${mount_div} #tempmount`));
                application.render( component);
                const mount = async () =>{
                    //React is only used as a parser of HTML and all Reacts events are removed by removing tempmount div
                    //Mount template HTML
                    if (COMMON_DOCUMENT.querySelector(`#${mount_div}`)){
                        COMMON_DOCUMENT.querySelector(`#${mount_div}`).innerHTML = template;
                    }
                    else
                        await new Promise ((resolve)=>{commonWindowSetTimeout(()=> resolve(mount()), 200);});
                };
                //wait until react is finished
                await mount();
            } catch (error) {
                COMMON_DOCUMENT.querySelector(`#${mount_div}`).innerHTML = template;
            }            
            break;
        }
    }
};
/**
 * @name commonFrameworkClean
 * @description Removes objects created by frameworks
 * @function
 * @returns {void}
 */
const commonFrameworkClean = () =>{
    //remove Reacts objects
    delete COMMON_WINDOW.ReactDOM;
    delete COMMON_WINDOW.React;

    //remove react key
    for (const key of Object.keys(COMMON_DOCUMENT)){
        if (key.startsWith('_react')){
            /**@ts-ignore */
            delete COMMON_DOCUMENT[key];
        }
    }
    //React events are not created, just reset variable when switching framework
    COMMON_GLOBAL.app_eventListeners.REACT = [];
    //remove Vue objects
    COMMON_GLOBAL.app_eventListeners.VUE = [];
    delete COMMON_WINDOW.__VUE_DEVTOOLS_HOOK_REPLAY__;
    delete COMMON_WINDOW.__VUE_HMR_RUNTIME__;
    delete COMMON_WINDOW.__VUE__;
    const app_root_element = COMMON_DOCUMENT.querySelector(`#${COMMON_GLOBAL.app_root}`);
    if (COMMON_DOCUMENT.querySelector(`#${COMMON_GLOBAL.app_root}_vue`))
        app_root_element.textContent = COMMON_DOCUMENT.querySelector(`#${COMMON_GLOBAL.app_root}_vue`).textContent;
    app_root_element.removeAttribute('data-v-app');
    delete app_root_element.__vue_app_;
    delete app_root_element.__vue_node;

    //remove all attributes except id
    Object.entries(app_root_element.attributes).forEach((/**@type{*}*/attribute)=>attribute[1].name=='id'?null:app_root_element.removeAttribute(attribute[1].name));
};
/**
 * @name commonFrameworkSet
 * @description Sets framework and uses given list of event functions
 * @function
 * @param {number|null} framework
 * @returns {Promise.<void>}
 */
const commonFrameworkSet = async (framework) => {
    const app_root_element = COMMON_DOCUMENT.querySelector(`#${COMMON_GLOBAL.app_root}`);
    const app_element = COMMON_DOCUMENT.querySelector(`#${COMMON_GLOBAL.app_div}`);
    const common_app_element = COMMON_DOCUMENT.querySelector('#common_app');

    //get all ellements with data-function
    /**@type{{id:string,element_function:function}[]} */
    const data_function = [];
    COMMON_DOCUMENT.querySelectorAll(`#${COMMON_GLOBAL.app_root} div`).forEach((/**@type{HTMLElement}*/element) =>{
        /**@ts-ignore */
        if (element['data-function']){
            /**@ts-ignore */
            data_function.push({id:element.id, element_function:element['data-function']});
        }
    });
    
    COMMON_GLOBAL.app_eventListeners.OTHER = [];

    //remove all listeners in app and app root divs including all objects saved on elements
    app_element.replaceWith(app_element.cloneNode(true));
    app_root_element.replaceWith(app_root_element.cloneNode(true));
    
    commonFrameworkClean();
    
    //app can override framework or use default javascript if Vue or React is not set
    if (framework ?? COMMON_GLOBAL.app_framework !=COMMON_GLOBAL.app_framework)
        COMMON_GLOBAL.app_framework = framework ??1;
    switch (framework ?? COMMON_GLOBAL.app_framework){
        case 2:{
            //Vue
            const template = `  <div id='${COMMON_GLOBAL.app_root}'>
                                    ${app_element.outerHTML}
                                    ${common_app_element.outerHTML}
                                </div>`;
            const methods = {};
            await commonFrameworkMount(2, template, methods, COMMON_GLOBAL.app_root, false);
            break;
        }
        case 3:{
            //React
            const template = `  ${app_element.outerHTML}
                                ${common_app_element.outerHTML}`;
            const methods = {};
            await commonFrameworkMount(3, template, methods, COMMON_GLOBAL.app_root, false);
            break;
        }
        case 1:
        default:{
            //Javascript
            break;
        }
    }
    //App events are not supported on other frameworks
    //All events are managed in event delegation
    //call event function to add listeners using null parameter
    commonEvent('click', null);
    commonEvent('change', null);
    commonEvent('focusin', null);
    commonEvent('input', null);
    commonEvent('keydown', null);
    commonEvent('keyup', null);
    commonEvent('mousedown', null);
    commonEvent('mouseup', null);
    commonEvent('mousemove', null);
    commonEvent('mouseleave', null);
    commonEvent('wheel', null);

    commonEvent('touchstart', null);
    commonEvent('touchend', null);
    commonEvent('touchcancel', null);
    commonEvent('touchmove', null);

    //common only security events
    commonEvent('copy', null);
    commonEvent('paste', null);
    commonEvent('cut', null);

    //update all elements with data-function since copying outerHTML does not include data-function
    data_function.forEach(element =>COMMON_DOCUMENT.querySelector(`#${element.id}`)['data-function'] = element.element_function);
    
};
/**
 * @name custom_framework
 * @description Set custom framework functionality:
 *              show only console messages if app_framework_messages == 1
 *              save info about events created
 * @function
 * @returns {void}
 */
const custom_framework = () => {

    COMMON_GLOBAL.app_eventListeners.original = COMMON_DOCUMENT.addEventListener;
    /**
     * 
     * @param {*} stack 
     * @returns {'REACT'|'VUE'|'OTHER'}
     */
    const module = (stack) => {
        if (stack.toLowerCase().indexOf('react')>-1)
            return 'REACT';
        else {
            if (stack.toLowerCase().indexOf('vue')>-1)
                return 'VUE';
            else
                return 'OTHER';
        }
    };
    /**
     * Custom common event to keep track of framework events so they can be removed when necessary
     * No event is created for React and Vue
     * Disables test of passive listener that tries to create test event on windows objects that
     * affects touch events on mobile and on scroll divs inside third party divs
     * React tries to create 'test' on windows object
     * @param {string} scope
     * @param {*} object
     * @param {*[]} eventParameters
     */
    const customEventCommon = (scope, object, eventParameters) => {
        if (eventParameters[0].indexOf('test')>-1)
            throw 'test of passive listeners not allowed';
        const eventmodule = module(Error().stack);
        COMMON_GLOBAL.app_eventListeners[eventmodule]
            /**@ts-ignore */
            .push([scope, object, eventParameters[0], eventParameters[1], eventParameters[2]]);
        if (eventmodule!='REACT' && eventmodule!='VUE')
            COMMON_GLOBAL.app_eventListeners.original.apply(object, eventParameters);
    };
    /**
     * Custom function used to replace default addEventListener function for Window
     * Window events are created on COMMON_DOCUMENT
     * Using funtion declaration here to support arguments
     * @param  {...any} eventParameters 
     */
    function customEventWindow (...eventParameters){
        customEventCommon('WINDOW', COMMON_DOCUMENT, eventParameters);
    }
    /**
     * Custom function used to replace default addEventListener function for Document
     * Document events are created on COMMON_DOCUMENT
     * Using funtion declaration here to support arguments
     * @param  {...any} eventParameters 
     */
    function customEventDocument (...eventParameters) {
        customEventCommon('DOCUMENT', COMMON_DOCUMENT, eventParameters);
    }
    /**
     * Custom function used to replace default addEventListener function for HTMLElement
     * Using funtion declaration here to support arguments
     * @param  {...any} eventParameters 
     */
    function customEventHTMLElement (...eventParameters) {
        customEventCommon('HTMLELEMENT', 
                            /**@ts-ignore */
                            this, 
                            eventParameters);
    }

    //set custom functions on both window, document and HTMLElement level
    COMMON_WINDOW.addEventListener = customEventWindow;
    COMMON_DOCUMENT.addEventListener = customEventDocument;
    HTMLElement.prototype.addEventListener = customEventHTMLElement;

    /**
     * console warn
     * @param  {...any} parameters 
     */
    const console_warn = (...parameters) => COMMON_GLOBAL.app_framework_messages == 1?COMMON_GLOBAL.app_console.warn(...parameters):null;
    /**
     * console error
     * @param  {...any} parameters 
     */
     const console_error = (...parameters) => COMMON_GLOBAL.app_framework_messages == 1?COMMON_GLOBAL.app_console.error(...parameters):null;
    /**
     * console info
     * @param  {...any} parameters 
     */
     const console_info = (...parameters) => COMMON_GLOBAL.app_framework_messages == 1?COMMON_GLOBAL.app_console.info(...parameters):null;

    //Vue uses console.warn, show or hide from any framework 
    COMMON_WINDOW.console.warn = console_warn;
    //React uses console.info and error, show or hide from any framework
    COMMON_WINDOW.console.info = console_info;
    COMMON_WINDOW.console.error = console_error;
};
/**
 * @name commonAppMount
 * @description Mount app
 * @function
 * @param {number} app_id
 * @returns {Promise.<void>}
 */
const commonAppMount = async (app_id) =>{   
    
    COMMON_GLOBAL.app_id =          app_id;
    /**@type{common['server']['app']['commonAppMount']} */
    const CommonAppInit = await commonFFB({ path:`/app-mount/${app_id}`, 
                                            method:'GET', 
                                            query:COMMON_GLOBAL.iam_user_id!=null?`IAM_iam_user_id=${COMMON_GLOBAL.iam_user_id}`:'',
                                            authorization_type:COMMON_GLOBAL.iam_user_id!=null?'APP_ACCESS':'APP_ID'})
                            .then(app=>JSON.parse(app));
    //remove all dialogues when switching app
    Array.from(COMMON_DOCUMENT.querySelectorAll('#common_app_dialogues > div')).forEach(dialogue=>commonComponentRemove(dialogue.id));
    COMMON_DOCUMENT.querySelector(`#${COMMON_GLOBAL.app_div}`).innerHTML='';
    if (COMMON_GLOBAL.app_id!=COMMON_GLOBAL.app_start_app_id)
        commonComponentRemove('common_apps');

    COMMON_GLOBAL.app_id =          CommonAppInit.App.Id;
    COMMON_GLOBAL.app_logo =        CommonAppInit.App.LogoContent;
    COMMON_GLOBAL.app_copyright =   CommonAppInit.App.Copyright;
    COMMON_GLOBAL.app_link_url =    CommonAppInit.App.LinkUrl;
    COMMON_GLOBAL.app_link_title =  CommonAppInit.App.LinkTitle;
    COMMON_GLOBAL.app_text_edit =   CommonAppInit.App.TextEdit;
    
    if (COMMON_GLOBAL.iam_user_id != null)
        commonUserLoginApp(CommonAppInit.IamUserApp);
    
    CommonAppInit.App.Css==''?
        null:
            COMMON_DOCUMENT.querySelector('#app_link_app_css').href = await commonMiscResourceFetch(CommonAppInit.App.Css, null, 'text/css', CommonAppInit.App.CssContent);

    const {appMetadata, default:AppInit} = await commonMiscImport(CommonAppInit.App.Js, CommonAppInit.App.JsContent);
    
    /**@type{common['commonMetadata']} */
    const appdata = appMetadata();
    //add metadata using tree shaking pattern
    COMMON_GLOBAL.app_metadata.events.change = appdata.events.change;
    COMMON_GLOBAL.app_metadata.events.click = appdata.events.click;
    COMMON_GLOBAL.app_metadata.events.focusin = appdata.events.focusin;
    COMMON_GLOBAL.app_metadata.events.input = appdata.events.input;
    COMMON_GLOBAL.app_metadata.events.keydown = appdata.events.keydown;
    COMMON_GLOBAL.app_metadata.events.keyup = appdata.events.keyup;
    COMMON_GLOBAL.app_metadata.events.mousedown = appdata.events.mousedown;
    COMMON_GLOBAL.app_metadata.events.mouseup = appdata.events.mouseup;
    COMMON_GLOBAL.app_metadata.events.mousemove = appdata.events.mousemove;
    COMMON_GLOBAL.app_metadata.events.mouseleave = appdata.events.mouseleave;
    COMMON_GLOBAL.app_metadata.events.wheel = appdata.events.wheel;
    COMMON_GLOBAL.app_metadata.events.touchstart = appdata.events.touchstart;
    COMMON_GLOBAL.app_metadata.events.touchend = appdata.events.touchend;
    COMMON_GLOBAL.app_metadata.events.touchcancel = appdata.events.touchcancel;
    COMMON_GLOBAL.app_metadata.events.touchmove = appdata.events.touchmove;
    COMMON_GLOBAL.app_metadata.lifeCycle.onMounted = appdata.lifeCycle?.onMounted;
    
    await AppInit(commonGet(), CommonAppInit.AppParameter);
    COMMON_GLOBAL.app_metadata.lifeCycle.onMounted?
        await COMMON_GLOBAL.app_metadata.lifeCycle.onMounted():
            null;
    commonFrameworkSet(null);
    if (COMMON_GLOBAL.iam_user_id){
        commonUserUpdateAvatar(true, COMMON_GLOBAL.iam_user_avatar);
        commonUserMessageShowStat();
    }
    else
        commonUserUpdateAvatar(false, null);

    CommonAppInit.App.CssReport==''?
        null:
            COMMON_DOCUMENT.querySelector('#app_link_app_report_css').href = await commonMiscResourceFetch(CommonAppInit.App.CssReport, null, 'text/css', CommonAppInit.App.CssReportContent);
};
/**
 * @name commonGet
 * @description Returns all functions and globals
 * @function
 * @returns {common['CommonModuleCommon']}
 */
const commonGet = () =>{
    return {
        COMMON_DOCUMENT:COMMON_DOCUMENT,
        commonGlobalGet,
        commonGlobalSet,
        /* MISC */
        commonMiscElementId:commonMiscElementId, 
        commonMiscElementDiv:commonMiscElementDiv,
        commonMiscElementRow:commonMiscElementRow, 
        commonMiscFormatJsonDate:commonMiscFormatJsonDate,
        commonMiscImport:commonMiscImport,
        commonMiscImportmap:commonMiscImportmap,
        commonMiscInputControl:commonMiscInputControl,
        commonMiscListKeyEvent:commonMiscListKeyEvent,
        commonMiscMobile:commonMiscMobile,
        commonMiscPreferencesUpdateBodyClassFromPreferences:commonMiscPreferencesUpdateBodyClassFromPreferences,
        commonMiscPrint:commonMiscPrint,
        commonMiscResourceFetch:commonMiscResourceFetch,
        commonMiscRoundOff:commonMiscRoundOff,
        commonMiscSelectCurrentValueSet:commonMiscSelectCurrentValueSet,
        commonMiscTimezoneDate:commonMiscTimezoneDate,
        commonMiscTypewatch:commonMiscTypewatch,
        commonMiscShowDateUpdate:commonMiscShowDateUpdate,
        commonMiscSecondsToTime:commonMiscSecondsToTime,
        commonMiscLoadFont:commonMiscLoadFont,
        commonMiscCssApply:commonMiscCssApply,
        /**WINDOW OBJECT */
        commonWindowGet:commonWindowGet,
        commonWindowDocumentFrame:commonWindowDocumentFrame,
        commonWindowFromBase64:commonWindowFromBase64, 
        commonWindowNavigatorLocale:commonWindowNavigatorLocale,
        commonWindowOpen:commonWindowOpen,
        commonWindowPrompt:commonWindowPrompt,
        commonWindowSetTimeout:commonWindowSetTimeout,
        commonWindowToBase64:commonWindowToBase64, 
        commonWindowUserAgentPlatform:commonWindowUserAgentPlatform,
        commonWindowWait:commonWindowWait,
        /* COMPONENTS */
        commonComponentRemove:commonComponentRemove,
        commonComponentRender:commonComponentRender,
        /* FRAMEWORK */
        commonFrameworkSet:commonFrameworkSet,
        /* DIALOGUE */
        commonDialogueShow:commonDialogueShow, 
        /* MESSAGE*/
        commonMessageShow:commonMessageShow,
        commonMesssageNotAuthorized:commonMesssageNotAuthorized,
        /* PROFILE */
        commonProfileDetail:commonProfileDetail, 
        commonProfileShow:commonProfileShow,
        commonProfileStat:commonProfileStat, 
        /* USER  */
        commonUserLogin:commonUserLogin, 
        commonUserLogout:commonUserLogout,
        commonLogout:commonLogout,
        commonUserSessionClear:commonUserSessionClear,
        commonUserSessionCountdown:commonUserSessionCountdown, 
        commonUserMessageShowStat:commonUserMessageShowStat,
        commonUserUpdateAvatar:commonUserUpdateAvatar,
        commonUserLocale:commonUserLocale,
        /* FFB */
        commonFFB:commonFFB,
        /* SERVICE SOCKET */
        commonSocketSSEShow:commonSocketSSEShow, 
        commonSocketConnectOnlineCheck:commonSocketConnectOnlineCheck,
        /* EVENT */
        commonEvent:commonEvent,
        /* INIT */
        commonAppMount:commonAppMount,
        commonGlobals:commonGlobals,
        commonInit:commonInit,
        default:{commonInit}};
};

/**
 * 
 * @name commonGlobals
 * @description Sets start globals
 * @function
 * @param {string} globals
 * @returns {void}
 */
const commonGlobals = globals => {  
    const globalsObj = JSON.parse(commonWindowFromBase64(globals));
    Object.entries(globalsObj).forEach(key=>{
        /**@ts-ignore */
        COMMON_GLOBAL[key[0]] = key[1];
    });
};
/**
 * @name commonInit
 * @description Init common
 * @function
 * @param {{globals:string,
 *          cssCommon:string,
 *          jsCrypto:string}} parameters
 * @returns {Promise.<void>}
 */
const commonInit = async parameters => {  

    //apply common css
    commonMiscCssApply(commonWindowFromBase64(parameters.cssCommon));

    //set globals
    commonGlobals(parameters.globals);
    //import crypto functions
    const {encrypt, decrypt} = await import(URL.createObjectURL(  new Blob ([commonWindowFromBase64(parameters.jsCrypto)],{type: 'text/javascript'})))
                                    .then(crypto=>{
                                        return {encrypt:crypto.subtle.encrypt, decrypt:crypto.subtle.decrypt};
                                    });
    COMMON_GLOBAL.x.encrypt = encrypt;
    COMMON_GLOBAL.x.decrypt = decrypt;

    commonUserPreferencesGlobalSetDefault('LOCALE');
    commonUserPreferencesGlobalSetDefault('TIMEZONE');
    commonUserPreferencesGlobalSetDefault('DIRECTION');
    commonUserPreferencesGlobalSetDefault('ARABIC_SCRIPT');

    custom_framework();
    //set common app id
    COMMON_GLOBAL.app_id =                          COMMON_GLOBAL.app_common_app_id;
    
    //connect to BFF
    await commonFFB({path:               '/server-bff/' + COMMON_GLOBAL.x.uuid, 
        method:             'POST',
        body:               null,
        response_type:      'SSE',
        authorization_type: 'APP_ID'});

    //mount start app
    commonAppMount(COMMON_GLOBAL.app_start_app_id);

    COMMON_DOCUMENT.querySelector('#common_app_iam_user_menu_default_avatar').innerHTML = commonGlobalGet('ICONS')['user']
    const elements = [
                        ['common_app_toolbar_start',                    'home'],
                        ['common_app_toolbar_framework_js',             'framework_js'],
                        ['common_app_toolbar_framework_vue',            'framework_vue'],
                        ['common_app_toolbar_framework_react',          'framework_react'],
                        ['common_app_iam_user_menu_default_avatar',     'user'],
                        ['common_app_profile_search_icon',              'search'],
                        ['common_app_profile_toolbar_stat',             'user_profile_stat'],
                        ['common_app_iam_user_menu_message_count_icon', 'email'],
                        ['common_app_iam_user_menu_default_avatar',     'user']
                    ];
    for (const element of elements)
        COMMON_DOCUMENT.querySelector(`#${element[0]}`).innerHTML = commonGlobalGet('ICONS')[element[1]];

    //apply font css
    COMMON_GLOBAL.app_fonts?commonMiscCssApply(COMMON_GLOBAL.app_fonts.join('@')):null;
    
};
export{/* GLOBALS*/
       COMMON_DOCUMENT,
       commonGlobalGet,
       commonGlobalSet,
       /* MISC */
       commonMiscElementId, 
       commonMiscElementDiv,
       commonMiscElementRow, 
       commonMiscFormatJsonDate,
       commonMiscImport,
       commonMiscImportmap,
       commonMiscInputControl,
       commonMiscListKeyEvent,
       commonMiscMobile,
       commonMiscPreferencesUpdateBodyClassFromPreferences,
       commonMiscPrint,
       commonMiscResourceFetch,
       commonMiscRoundOff, 
       commonMiscSelectCurrentValueSet,
       commonMiscTimezoneDate, 
       commonMiscTypewatch,      
       commonMiscShowDateUpdate,
       commonMiscSecondsToTime,
       commonMiscLoadFont,
       commonMiscCssApply,
       /**WINDOW OBJECT */
       commonWindowGet,
       commonWindowDocumentFrame,
       commonWindowFromBase64, 
       commonWindowNavigatorLocale,
       commonWindowOpen,
       commonWindowPrompt,
       commonWindowSetTimeout,
       commonWindowToBase64, 
       commonWindowUserAgentPlatform,
       commonWindowWait,
       /* COMPONENTS */
       commonComponentRemove,
       commonComponentRender,
       /* FRAMEWORK */
       commonFrameworkSet,
       /* DIALOGUE */
       commonDialogueShow,
       /* MESSAGE*/
       commonMessageShow,
       commonMesssageNotAuthorized,
       /* PROFILE */
       commonProfileDetail, 
       commonProfileShow,
       commonProfileStat, 
       /* USER  */
       commonUserLogin, 
       commonUserLogout,
       commonLogout,
       commonUserSessionClear,
       commonUserSessionCountdown, 
       commonUserMessageShowStat,
       commonUserUpdateAvatar,
       commonUserLocale,
       /* FFB */
       commonFFB,
       /* SERVICE SOCKET */
       commonSocketSSEShow, 
       commonSocketConnectOnlineCheck,
       /* EVENT */
       commonEvent,
       /* INIT */
       commonAppMount,
       commonGlobals,
       commonInit};
export default {commonInit};